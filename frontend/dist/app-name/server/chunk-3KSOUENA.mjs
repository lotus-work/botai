import './polyfills.server.mjs';
import{$ as _,$a as mu,A as yt,Aa as uu,B as Zt,Ba as kt,C as Ge,Ca as Wi,D as Z,Da as Yn,E as vt,Ea as Je,F as ht,Fa as hu,G as ou,H as cn,Ha as fu,I as ee,J as te,K as Un,L as cl,M as As,Ma as Gr,N as dn,O as Ct,Oa as dl,P as nt,Pa as Fs,Q as M,Qa as ji,R as T,Ra as ul,S as Ts,T as Ps,Ta as pu,U as Kt,Ua as qr,V as q,Va as ft,W as Br,Wa as Ie,X as L,Xa as Zr,Y as Yr,Ya as Kr,Z as Ns,Za as Xr,_ as Wn,_a as ii,a as wi,aa as g,ab as gu,b as Vr,ba as R,bb as Ut,c as zr,ca as Li,cb as Hi,d as Vn,da as Vi,db as bu,e as ln,ea as ve,eb as _u,f as Nt,fa as B,fb as hl,g as Es,ga as V,gb as Jr,h as al,ha as au,hb as yu,i as Ur,ia as lu,ib as fl,j as Qd,ja as Mt,jb as vu,k as eu,ka as $r,l as tu,la as cu,m as Os,ma as jn,mb as xu,n as Q,na as Hn,o as Is,oa as Bn,p as iu,pa as Be,q as Wr,qa as x,qb as ni,r as nu,ra as le,rb as wu,s as su,sa as ce,t as ll,ta as zi,tb as qe,u as jr,ua as W,ub as Su,v as zn,va as j,vb as pl,w as ru,wa as H,x as Hr,xa as Ui,y as Fi,ya as du,z as He,za as Rs}from"./chunk-QVUQP5XK.mjs";import{a as se,b as we,c as Jd,e as Ub,g as ol,h as J}from"./chunk-5XUXGTUW.mjs";var ya=Ub((sd,gs)=>{"use strict";(function(n,t){typeof sd=="object"&&typeof gs<"u"?gs.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(sd,function(){"use strict";var n;function t(){return n.apply(null,arguments)}function e(l){n=l}function i(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function s(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function r(l,d){return Object.prototype.hasOwnProperty.call(l,d)}function o(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;var d;for(d in l)if(r(l,d))return!1;return!0}function a(l){return l===void 0}function c(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function u(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function h(l,d){var f=[],m,w=l.length;for(m=0;m<w;++m)f.push(d(l[m],m));return f}function p(l,d){for(var f in d)r(d,f)&&(l[f]=d[f]);return r(d,"toString")&&(l.toString=d.toString),r(d,"valueOf")&&(l.valueOf=d.valueOf),l}function b(l,d,f,m){return Od(l,d,f,m,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(l){return l._pf==null&&(l._pf=y()),l._pf}var S;Array.prototype.some?S=Array.prototype.some:S=function(l){var d=Object(this),f=d.length>>>0,m;for(m=0;m<f;m++)if(m in d&&l.call(this,d[m],m,d))return!0;return!1};function C(l){var d=null,f=!1,m=l._d&&!isNaN(l._d.getTime());if(m&&(d=v(l),f=S.call(d.parsedDateParts,function(w){return w!=null}),m=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&f),l._strict&&(m=m&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=m;else return m;return l._isValid}function D(l){var d=b(NaN);return l!=null?p(v(d),l):v(d).userInvalidated=!0,d}var E=t.momentProperties=[],I=!1;function O(l,d){var f,m,w,k=E.length;if(a(d._isAMomentObject)||(l._isAMomentObject=d._isAMomentObject),a(d._i)||(l._i=d._i),a(d._f)||(l._f=d._f),a(d._l)||(l._l=d._l),a(d._strict)||(l._strict=d._strict),a(d._tzm)||(l._tzm=d._tzm),a(d._isUTC)||(l._isUTC=d._isUTC),a(d._offset)||(l._offset=d._offset),a(d._pf)||(l._pf=v(d)),a(d._locale)||(l._locale=d._locale),k>0)for(f=0;f<k;f++)m=E[f],w=d[m],a(w)||(l[m]=w);return l}function A(l){O(this,l),this._d=new Date(l._d!=null?l._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),I===!1&&(I=!0,t.updateOffset(this),I=!1)}function N(l){return l instanceof A||l!=null&&l._isAMomentObject!=null}function U(l){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function F(l,d){var f=!0;return p(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,l),f){var m=[],w,k,P,Y=arguments.length;for(k=0;k<Y;k++){if(w="",typeof arguments[k]=="object"){w+=`
[`+k+"] ";for(P in arguments[0])r(arguments[0],P)&&(w+=P+": "+arguments[0][P]+", ");w=w.slice(0,-2)}else w=arguments[k];m.push(w)}U(l+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),f=!1}return d.apply(this,arguments)},d)}var G={};function ne(l,d){t.deprecationHandler!=null&&t.deprecationHandler(l,d),G[l]||(U(d),G[l]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function X(l){return typeof Function<"u"&&l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function ae(l){var d,f;for(f in l)r(l,f)&&(d=l[f],X(d)?this[f]=d:this["_"+f]=d);this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ke(l,d){var f=p({},l),m;for(m in d)r(d,m)&&(s(l[m])&&s(d[m])?(f[m]={},p(f[m],l[m]),p(f[m],d[m])):d[m]!=null?f[m]=d[m]:delete f[m]);for(m in l)r(l,m)&&!r(d,m)&&s(l[m])&&(f[m]=p({},f[m]));return f}function at(l){l!=null&&this.set(l)}var ge;Object.keys?ge=Object.keys:ge=function(l){var d,f=[];for(d in l)r(l,d)&&f.push(d);return f};var Oe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function je(l,d,f){var m=this._calendar[l]||this._calendar.sameElse;return X(m)?m.call(d,f):m}function $e(l,d,f){var m=""+Math.abs(l),w=d-m.length,k=l>=0;return(k?f?"+":"":"-")+Math.pow(10,Math.max(0,w)).toString().substr(1)+m}var Qe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$t=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ti={},Tt={};function K(l,d,f,m){var w=m;typeof m=="string"&&(w=function(){return this[m]()}),l&&(Tt[l]=w),d&&(Tt[d[0]]=function(){return $e(w.apply(this,arguments),d[1],d[2])}),f&&(Tt[f]=function(){return this.localeData().ordinal(w.apply(this,arguments),l)})}function hi(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function sn(l){var d=l.match(Qe),f,m;for(f=0,m=d.length;f<m;f++)Tt[d[f]]?d[f]=Tt[d[f]]:d[f]=hi(d[f]);return function(w){var k="",P;for(P=0;P<m;P++)k+=X(d[P])?d[P].call(w,l):d[P];return k}}function Lt(l,d){return l.isValid()?(d=ad(d,l.localeData()),Ti[d]=Ti[d]||sn(d),Ti[d](l)):l.localeData().invalidDate()}function ad(l,d){var f=5;function m(w){return d.longDateFormat(w)||w}for($t.lastIndex=0;f>=0&&$t.test(l);)l=l.replace($t,m),$t.lastIndex=0,f-=1;return l}var Gp={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function qp(l){var d=this._longDateFormat[l],f=this._longDateFormat[l.toUpperCase()];return d||!f?d:(this._longDateFormat[l]=f.match(Qe).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[l])}var Zp="Invalid date";function Kp(){return this._invalidDate}var Xp="%d",Jp=/\d{1,2}/;function Qp(l){return this._ordinal.replace("%d",l)}var em={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tm(l,d,f,m){var w=this._relativeTime[f];return X(w)?w(l,d,f,m):w.replace(/%d/i,l)}function im(l,d){var f=this._relativeTime[l>0?"future":"past"];return X(f)?f(d):f.replace(/%s/i,d)}var ld={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Vt(l){return typeof l=="string"?ld[l]||ld[l.toLowerCase()]:void 0}function La(l){var d={},f,m;for(m in l)r(l,m)&&(f=Vt(m),f&&(d[f]=l[m]));return d}var nm={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function sm(l){var d=[],f;for(f in l)r(l,f)&&d.push({unit:f,priority:nm[f]});return d.sort(function(m,w){return m.priority-w.priority}),d}var cd=/\d/,Pt=/\d\d/,dd=/\d{3}/,Va=/\d{4}/,vr=/[+-]?\d{6}/,Ne=/\d\d?/,ud=/\d\d\d\d?/,hd=/\d\d\d\d\d\d?/,xr=/\d{1,3}/,za=/\d{1,4}/,wr=/[+-]?\d{1,6}/,In=/\d+/,Sr=/[+-]?\d+/,rm=/Z|[+-]\d\d:?\d\d/gi,Cr=/Z|[+-]\d\d(?::?\d\d)?/gi,om=/[+-]?\d+(\.\d{1,3})?/,ys=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,An=/^[1-9]\d?/,Ua=/^([1-9]\d|\d)/,Mr;Mr={};function $(l,d,f){Mr[l]=X(d)?d:function(m,w){return m&&f?f:d}}function am(l,d){return r(Mr,l)?Mr[l](d._strict,d._locale):new RegExp(lm(l))}function lm(l){return fi(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,f,m,w,k){return f||m||w||k}))}function fi(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function zt(l){return l<0?Math.ceil(l)||0:Math.floor(l)}function ue(l){var d=+l,f=0;return d!==0&&isFinite(d)&&(f=zt(d)),f}var Wa={};function Me(l,d){var f,m=d,w;for(typeof l=="string"&&(l=[l]),c(d)&&(m=function(k,P){P[d]=ue(k)}),w=l.length,f=0;f<w;f++)Wa[l[f]]=m}function vs(l,d){Me(l,function(f,m,w,k){w._w=w._w||{},d(f,w._w,w,k)})}function cm(l,d,f){d!=null&&r(Wa,l)&&Wa[l](d,f._a,f,l)}function kr(l){return l%4===0&&l%100!==0||l%400===0}var ut=0,pi=1,ti=2,it=3,Gt=4,mi=5,rn=6,dm=7,um=8;K("Y",0,0,function(){var l=this.year();return l<=9999?$e(l,4):"+"+l}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),$("Y",Sr),$("YY",Ne,Pt),$("YYYY",za,Va),$("YYYYY",wr,vr),$("YYYYYY",wr,vr),Me(["YYYYY","YYYYYY"],ut),Me("YYYY",function(l,d){d[ut]=l.length===2?t.parseTwoDigitYear(l):ue(l)}),Me("YY",function(l,d){d[ut]=t.parseTwoDigitYear(l)}),Me("Y",function(l,d){d[ut]=parseInt(l,10)});function xs(l){return kr(l)?366:365}t.parseTwoDigitYear=function(l){return ue(l)+(ue(l)>68?1900:2e3)};var fd=Tn("FullYear",!0);function hm(){return kr(this.year())}function Tn(l,d){return function(f){return f!=null?(pd(this,l,f),t.updateOffset(this,d),this):ws(this,l)}}function ws(l,d){if(!l.isValid())return NaN;var f=l._d,m=l._isUTC;switch(d){case"Milliseconds":return m?f.getUTCMilliseconds():f.getMilliseconds();case"Seconds":return m?f.getUTCSeconds():f.getSeconds();case"Minutes":return m?f.getUTCMinutes():f.getMinutes();case"Hours":return m?f.getUTCHours():f.getHours();case"Date":return m?f.getUTCDate():f.getDate();case"Day":return m?f.getUTCDay():f.getDay();case"Month":return m?f.getUTCMonth():f.getMonth();case"FullYear":return m?f.getUTCFullYear():f.getFullYear();default:return NaN}}function pd(l,d,f){var m,w,k,P,Y;if(!(!l.isValid()||isNaN(f))){switch(m=l._d,w=l._isUTC,d){case"Milliseconds":return void(w?m.setUTCMilliseconds(f):m.setMilliseconds(f));case"Seconds":return void(w?m.setUTCSeconds(f):m.setSeconds(f));case"Minutes":return void(w?m.setUTCMinutes(f):m.setMinutes(f));case"Hours":return void(w?m.setUTCHours(f):m.setHours(f));case"Date":return void(w?m.setUTCDate(f):m.setDate(f));case"FullYear":break;default:return}k=f,P=l.month(),Y=l.date(),Y=Y===29&&P===1&&!kr(k)?28:Y,w?m.setUTCFullYear(k,P,Y):m.setFullYear(k,P,Y)}}function fm(l){return l=Vt(l),X(this[l])?this[l]():this}function pm(l,d){if(typeof l=="object"){l=La(l);var f=sm(l),m,w=f.length;for(m=0;m<w;m++)this[f[m].unit](l[f[m].unit])}else if(l=Vt(l),X(this[l]))return this[l](d);return this}function mm(l,d){return(l%d+d)%d}var Xe;Array.prototype.indexOf?Xe=Array.prototype.indexOf:Xe=function(l){var d;for(d=0;d<this.length;++d)if(this[d]===l)return d;return-1};function ja(l,d){if(isNaN(l)||isNaN(d))return NaN;var f=mm(d,12);return l+=(d-f)/12,f===1?kr(l)?29:28:31-f%7%2}K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),K("MMMM",0,0,function(l){return this.localeData().months(this,l)}),$("M",Ne,An),$("MM",Ne,Pt),$("MMM",function(l,d){return d.monthsShortRegex(l)}),$("MMMM",function(l,d){return d.monthsRegex(l)}),Me(["M","MM"],function(l,d){d[pi]=ue(l)-1}),Me(["MMM","MMMM"],function(l,d,f,m){var w=f._locale.monthsParse(l,m,f._strict);w!=null?d[pi]=w:v(f).invalidMonth=l});var gm="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),md="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gd=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bm=ys,_m=ys;function ym(l,d){return l?i(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||gd).test(d)?"format":"standalone"][l.month()]:i(this._months)?this._months:this._months.standalone}function vm(l,d){return l?i(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[gd.test(d)?"format":"standalone"][l.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function xm(l,d,f){var m,w,k,P=l.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)k=b([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(k,"").toLocaleLowerCase();return f?d==="MMM"?(w=Xe.call(this._shortMonthsParse,P),w!==-1?w:null):(w=Xe.call(this._longMonthsParse,P),w!==-1?w:null):d==="MMM"?(w=Xe.call(this._shortMonthsParse,P),w!==-1?w:(w=Xe.call(this._longMonthsParse,P),w!==-1?w:null)):(w=Xe.call(this._longMonthsParse,P),w!==-1?w:(w=Xe.call(this._shortMonthsParse,P),w!==-1?w:null))}function wm(l,d,f){var m,w,k;if(this._monthsParseExact)return xm.call(this,l,d,f);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(w=b([2e3,m]),f&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(w,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(w,"").replace(".","")+"$","i")),!f&&!this._monthsParse[m]&&(k="^"+this.months(w,"")+"|^"+this.monthsShort(w,""),this._monthsParse[m]=new RegExp(k.replace(".",""),"i")),f&&d==="MMMM"&&this._longMonthsParse[m].test(l))return m;if(f&&d==="MMM"&&this._shortMonthsParse[m].test(l))return m;if(!f&&this._monthsParse[m].test(l))return m}}function bd(l,d){if(!l.isValid())return l;if(typeof d=="string"){if(/^\d+$/.test(d))d=ue(d);else if(d=l.localeData().monthsParse(d),!c(d))return l}var f=d,m=l.date();return m=m<29?m:Math.min(m,ja(l.year(),f)),l._isUTC?l._d.setUTCMonth(f,m):l._d.setMonth(f,m),l}function _d(l){return l!=null?(bd(this,l),t.updateOffset(this,!0),this):ws(this,"Month")}function Sm(){return ja(this.year(),this.month())}function Cm(l){return this._monthsParseExact?(r(this,"_monthsRegex")||yd.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=bm),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)}function Mm(l){return this._monthsParseExact?(r(this,"_monthsRegex")||yd.call(this),l?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=_m),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)}function yd(){function l(ie,he){return he.length-ie.length}var d=[],f=[],m=[],w,k,P,Y;for(w=0;w<12;w++)k=b([2e3,w]),P=fi(this.monthsShort(k,"")),Y=fi(this.months(k,"")),d.push(P),f.push(Y),m.push(Y),m.push(P);d.sort(l),f.sort(l),m.sort(l),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function km(l,d,f,m,w,k,P){var Y;return l<100&&l>=0?(Y=new Date(l+400,d,f,m,w,k,P),isFinite(Y.getFullYear())&&Y.setFullYear(l)):Y=new Date(l,d,f,m,w,k,P),Y}function Ss(l){var d,f;return l<100&&l>=0?(f=Array.prototype.slice.call(arguments),f[0]=l+400,d=new Date(Date.UTC.apply(null,f)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(l)):d=new Date(Date.UTC.apply(null,arguments)),d}function Dr(l,d,f){var m=7+d-f,w=(7+Ss(l,0,m).getUTCDay()-d)%7;return-w+m-1}function vd(l,d,f,m,w){var k=(7+f-m)%7,P=Dr(l,m,w),Y=1+7*(d-1)+k+P,ie,he;return Y<=0?(ie=l-1,he=xs(ie)+Y):Y>xs(l)?(ie=l+1,he=Y-xs(l)):(ie=l,he=Y),{year:ie,dayOfYear:he}}function Cs(l,d,f){var m=Dr(l.year(),d,f),w=Math.floor((l.dayOfYear()-m-1)/7)+1,k,P;return w<1?(P=l.year()-1,k=w+gi(P,d,f)):w>gi(l.year(),d,f)?(k=w-gi(l.year(),d,f),P=l.year()+1):(P=l.year(),k=w),{week:k,year:P}}function gi(l,d,f){var m=Dr(l,d,f),w=Dr(l+1,d,f);return(xs(l)-m+w)/7}K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),$("w",Ne,An),$("ww",Ne,Pt),$("W",Ne,An),$("WW",Ne,Pt),vs(["w","ww","W","WW"],function(l,d,f,m){d[m.substr(0,1)]=ue(l)});function Dm(l){return Cs(l,this._week.dow,this._week.doy).week}var Em={dow:0,doy:6};function Om(){return this._week.dow}function Im(){return this._week.doy}function Am(l){var d=this.localeData().week(this);return l==null?d:this.add((l-d)*7,"d")}function Tm(l){var d=Cs(this,1,4).week;return l==null?d:this.add((l-d)*7,"d")}K("d",0,"do","day"),K("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),K("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),K("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),$("d",Ne),$("e",Ne),$("E",Ne),$("dd",function(l,d){return d.weekdaysMinRegex(l)}),$("ddd",function(l,d){return d.weekdaysShortRegex(l)}),$("dddd",function(l,d){return d.weekdaysRegex(l)}),vs(["dd","ddd","dddd"],function(l,d,f,m){var w=f._locale.weekdaysParse(l,m,f._strict);w!=null?d.d=w:v(f).invalidWeekday=l}),vs(["d","e","E"],function(l,d,f,m){d[m]=ue(l)});function Pm(l,d){return typeof l!="string"?l:isNaN(l)?(l=d.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10)}function Nm(l,d){return typeof l=="string"?d.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Ha(l,d){return l.slice(d,7).concat(l.slice(0,d))}var Rm="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fm="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lm=ys,Vm=ys,zm=ys;function Um(l,d){var f=i(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return l===!0?Ha(f,this._week.dow):l?f[l.day()]:f}function Wm(l){return l===!0?Ha(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort}function jm(l){return l===!0?Ha(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin}function Hm(l,d,f){var m,w,k,P=l.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)k=b([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(k,"").toLocaleLowerCase();return f?d==="dddd"?(w=Xe.call(this._weekdaysParse,P),w!==-1?w:null):d==="ddd"?(w=Xe.call(this._shortWeekdaysParse,P),w!==-1?w:null):(w=Xe.call(this._minWeekdaysParse,P),w!==-1?w:null):d==="dddd"?(w=Xe.call(this._weekdaysParse,P),w!==-1||(w=Xe.call(this._shortWeekdaysParse,P),w!==-1)?w:(w=Xe.call(this._minWeekdaysParse,P),w!==-1?w:null)):d==="ddd"?(w=Xe.call(this._shortWeekdaysParse,P),w!==-1||(w=Xe.call(this._weekdaysParse,P),w!==-1)?w:(w=Xe.call(this._minWeekdaysParse,P),w!==-1?w:null)):(w=Xe.call(this._minWeekdaysParse,P),w!==-1||(w=Xe.call(this._weekdaysParse,P),w!==-1)?w:(w=Xe.call(this._shortWeekdaysParse,P),w!==-1?w:null))}function Bm(l,d,f){var m,w,k;if(this._weekdaysParseExact)return Hm.call(this,l,d,f);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(w=b([2e3,1]).day(m),f&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(w,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(w,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(w,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(k="^"+this.weekdays(w,"")+"|^"+this.weekdaysShort(w,"")+"|^"+this.weekdaysMin(w,""),this._weekdaysParse[m]=new RegExp(k.replace(".",""),"i")),f&&d==="dddd"&&this._fullWeekdaysParse[m].test(l))return m;if(f&&d==="ddd"&&this._shortWeekdaysParse[m].test(l))return m;if(f&&d==="dd"&&this._minWeekdaysParse[m].test(l))return m;if(!f&&this._weekdaysParse[m].test(l))return m}}function Ym(l){if(!this.isValid())return l!=null?this:NaN;var d=ws(this,"Day");return l!=null?(l=Pm(l,this.localeData()),this.add(l-d,"d")):d}function $m(l){if(!this.isValid())return l!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return l==null?d:this.add(l-d,"d")}function Gm(l){if(!this.isValid())return l!=null?this:NaN;if(l!=null){var d=Nm(l,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function qm(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ba.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=Lm),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)}function Zm(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ba.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vm),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Km(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ba.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zm),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ba(){function l(_t,xi){return xi.length-_t.length}var d=[],f=[],m=[],w=[],k,P,Y,ie,he;for(k=0;k<7;k++)P=b([2e3,1]).day(k),Y=fi(this.weekdaysMin(P,"")),ie=fi(this.weekdaysShort(P,"")),he=fi(this.weekdays(P,"")),d.push(Y),f.push(ie),m.push(he),w.push(Y),w.push(ie),w.push(he);d.sort(l),f.sort(l),m.sort(l),w.sort(l),this._weekdaysRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Ya(){return this.hours()%12||12}function Xm(){return this.hours()||24}K("H",["HH",2],0,"hour"),K("h",["hh",2],0,Ya),K("k",["kk",2],0,Xm),K("hmm",0,0,function(){return""+Ya.apply(this)+$e(this.minutes(),2)}),K("hmmss",0,0,function(){return""+Ya.apply(this)+$e(this.minutes(),2)+$e(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+$e(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+$e(this.minutes(),2)+$e(this.seconds(),2)});function wd(l,d){K(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}wd("a",!0),wd("A",!1);function Sd(l,d){return d._meridiemParse}$("a",Sd),$("A",Sd),$("H",Ne,Ua),$("h",Ne,An),$("k",Ne,An),$("HH",Ne,Pt),$("hh",Ne,Pt),$("kk",Ne,Pt),$("hmm",ud),$("hmmss",hd),$("Hmm",ud),$("Hmmss",hd),Me(["H","HH"],it),Me(["k","kk"],function(l,d,f){var m=ue(l);d[it]=m===24?0:m}),Me(["a","A"],function(l,d,f){f._isPm=f._locale.isPM(l),f._meridiem=l}),Me(["h","hh"],function(l,d,f){d[it]=ue(l),v(f).bigHour=!0}),Me("hmm",function(l,d,f){var m=l.length-2;d[it]=ue(l.substr(0,m)),d[Gt]=ue(l.substr(m)),v(f).bigHour=!0}),Me("hmmss",function(l,d,f){var m=l.length-4,w=l.length-2;d[it]=ue(l.substr(0,m)),d[Gt]=ue(l.substr(m,2)),d[mi]=ue(l.substr(w)),v(f).bigHour=!0}),Me("Hmm",function(l,d,f){var m=l.length-2;d[it]=ue(l.substr(0,m)),d[Gt]=ue(l.substr(m))}),Me("Hmmss",function(l,d,f){var m=l.length-4,w=l.length-2;d[it]=ue(l.substr(0,m)),d[Gt]=ue(l.substr(m,2)),d[mi]=ue(l.substr(w))});function Jm(l){return(l+"").toLowerCase().charAt(0)==="p"}var Qm=/[ap]\.?m?\.?/i,eg=Tn("Hours",!0);function tg(l,d,f){return l>11?f?"pm":"PM":f?"am":"AM"}var Cd={calendar:Oe,longDateFormat:Gp,invalidDate:Zp,ordinal:Xp,dayOfMonthOrdinalParse:Jp,relativeTime:em,months:gm,monthsShort:md,week:Em,weekdays:Rm,weekdaysMin:Fm,weekdaysShort:xd,meridiemParse:Qm},ze={},Ms={},ks;function ig(l,d){var f,m=Math.min(l.length,d.length);for(f=0;f<m;f+=1)if(l[f]!==d[f])return f;return m}function Md(l){return l&&l.toLowerCase().replace("_","-")}function ng(l){for(var d=0,f,m,w,k;d<l.length;){for(k=Md(l[d]).split("-"),f=k.length,m=Md(l[d+1]),m=m?m.split("-"):null;f>0;){if(w=Er(k.slice(0,f).join("-")),w)return w;if(m&&m.length>=f&&ig(k,m)>=f-1)break;f--}d++}return ks}function sg(l){return!!(l&&l.match("^[^/\\\\]*$"))}function Er(l){var d=null,f;if(ze[l]===void 0&&typeof gs<"u"&&gs&&gs.exports&&sg(l))try{d=ks._abbr,f=Jd,f("./locale/"+l),Pi(d)}catch{ze[l]=null}return ze[l]}function Pi(l,d){var f;return l&&(a(d)?f=bi(l):f=$a(l,d),f?ks=f:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),ks._abbr}function $a(l,d){if(d!==null){var f,m=Cd;if(d.abbr=l,ze[l]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=ze[l]._config;else if(d.parentLocale!=null)if(ze[d.parentLocale]!=null)m=ze[d.parentLocale]._config;else if(f=Er(d.parentLocale),f!=null)m=f._config;else return Ms[d.parentLocale]||(Ms[d.parentLocale]=[]),Ms[d.parentLocale].push({name:l,config:d}),null;return ze[l]=new at(Ke(m,d)),Ms[l]&&Ms[l].forEach(function(w){$a(w.name,w.config)}),Pi(l),ze[l]}else return delete ze[l],null}function rg(l,d){if(d!=null){var f,m,w=Cd;ze[l]!=null&&ze[l].parentLocale!=null?ze[l].set(Ke(ze[l]._config,d)):(m=Er(l),m!=null&&(w=m._config),d=Ke(w,d),m==null&&(d.abbr=l),f=new at(d),f.parentLocale=ze[l],ze[l]=f),Pi(l)}else ze[l]!=null&&(ze[l].parentLocale!=null?(ze[l]=ze[l].parentLocale,l===Pi()&&Pi(l)):ze[l]!=null&&delete ze[l]);return ze[l]}function bi(l){var d;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return ks;if(!i(l)){if(d=Er(l),d)return d;l=[l]}return ng(l)}function og(){return ge(ze)}function Ga(l){var d,f=l._a;return f&&v(l).overflow===-2&&(d=f[pi]<0||f[pi]>11?pi:f[ti]<1||f[ti]>ja(f[ut],f[pi])?ti:f[it]<0||f[it]>24||f[it]===24&&(f[Gt]!==0||f[mi]!==0||f[rn]!==0)?it:f[Gt]<0||f[Gt]>59?Gt:f[mi]<0||f[mi]>59?mi:f[rn]<0||f[rn]>999?rn:-1,v(l)._overflowDayOfYear&&(d<ut||d>ti)&&(d=ti),v(l)._overflowWeeks&&d===-1&&(d=dm),v(l)._overflowWeekday&&d===-1&&(d=um),v(l).overflow=d),l}var ag=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cg=/Z|[+-]\d\d(?::?\d\d)?/,Or=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dg=/^\/?Date\((-?\d+)/i,ug=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hg={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kd(l){var d,f,m=l._i,w=ag.exec(m)||lg.exec(m),k,P,Y,ie,he=Or.length,_t=qa.length;if(w){for(v(l).iso=!0,d=0,f=he;d<f;d++)if(Or[d][1].exec(w[1])){P=Or[d][0],k=Or[d][2]!==!1;break}if(P==null){l._isValid=!1;return}if(w[3]){for(d=0,f=_t;d<f;d++)if(qa[d][1].exec(w[3])){Y=(w[2]||" ")+qa[d][0];break}if(Y==null){l._isValid=!1;return}}if(!k&&Y!=null){l._isValid=!1;return}if(w[4])if(cg.exec(w[4]))ie="Z";else{l._isValid=!1;return}l._f=P+(Y||"")+(ie||""),Ka(l)}else l._isValid=!1}function fg(l,d,f,m,w,k){var P=[pg(l),md.indexOf(d),parseInt(f,10),parseInt(m,10),parseInt(w,10)];return k&&P.push(parseInt(k,10)),P}function pg(l){var d=parseInt(l,10);return d<=49?2e3+d:d<=999?1900+d:d}function mg(l){return l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function gg(l,d,f){if(l){var m=xd.indexOf(l),w=new Date(d[0],d[1],d[2]).getDay();if(m!==w)return v(f).weekdayMismatch=!0,f._isValid=!1,!1}return!0}function bg(l,d,f){if(l)return hg[l];if(d)return 0;var m=parseInt(f,10),w=m%100,k=(m-w)/100;return k*60+w}function Dd(l){var d=ug.exec(mg(l._i)),f;if(d){if(f=fg(d[4],d[3],d[2],d[5],d[6],d[7]),!gg(d[1],f,l))return;l._a=f,l._tzm=bg(d[8],d[9],d[10]),l._d=Ss.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),v(l).rfc2822=!0}else l._isValid=!1}function _g(l){var d=dg.exec(l._i);if(d!==null){l._d=new Date(+d[1]);return}if(kd(l),l._isValid===!1)delete l._isValid;else return;if(Dd(l),l._isValid===!1)delete l._isValid;else return;l._strict?l._isValid=!1:t.createFromInputFallback(l)}t.createFromInputFallback=F("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))});function Pn(l,d,f){return l??d??f}function yg(l){var d=new Date(t.now());return l._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function Za(l){var d,f,m=[],w,k,P;if(!l._d){for(w=yg(l),l._w&&l._a[ti]==null&&l._a[pi]==null&&vg(l),l._dayOfYear!=null&&(P=Pn(l._a[ut],w[ut]),(l._dayOfYear>xs(P)||l._dayOfYear===0)&&(v(l)._overflowDayOfYear=!0),f=Ss(P,0,l._dayOfYear),l._a[pi]=f.getUTCMonth(),l._a[ti]=f.getUTCDate()),d=0;d<3&&l._a[d]==null;++d)l._a[d]=m[d]=w[d];for(;d<7;d++)l._a[d]=m[d]=l._a[d]==null?d===2?1:0:l._a[d];l._a[it]===24&&l._a[Gt]===0&&l._a[mi]===0&&l._a[rn]===0&&(l._nextDay=!0,l._a[it]=0),l._d=(l._useUTC?Ss:km).apply(null,m),k=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[it]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==k&&(v(l).weekdayMismatch=!0)}}function vg(l){var d,f,m,w,k,P,Y,ie,he;d=l._w,d.GG!=null||d.W!=null||d.E!=null?(k=1,P=4,f=Pn(d.GG,l._a[ut],Cs(Re(),1,4).year),m=Pn(d.W,1),w=Pn(d.E,1),(w<1||w>7)&&(ie=!0)):(k=l._locale._week.dow,P=l._locale._week.doy,he=Cs(Re(),k,P),f=Pn(d.gg,l._a[ut],he.year),m=Pn(d.w,he.week),d.d!=null?(w=d.d,(w<0||w>6)&&(ie=!0)):d.e!=null?(w=d.e+k,(d.e<0||d.e>6)&&(ie=!0)):w=k),m<1||m>gi(f,k,P)?v(l)._overflowWeeks=!0:ie!=null?v(l)._overflowWeekday=!0:(Y=vd(f,m,w,k,P),l._a[ut]=Y.year,l._dayOfYear=Y.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Ka(l){if(l._f===t.ISO_8601){kd(l);return}if(l._f===t.RFC_2822){Dd(l);return}l._a=[],v(l).empty=!0;var d=""+l._i,f,m,w,k,P,Y=d.length,ie=0,he,_t;for(w=ad(l._f,l._locale).match(Qe)||[],_t=w.length,f=0;f<_t;f++)k=w[f],m=(d.match(am(k,l))||[])[0],m&&(P=d.substr(0,d.indexOf(m)),P.length>0&&v(l).unusedInput.push(P),d=d.slice(d.indexOf(m)+m.length),ie+=m.length),Tt[k]?(m?v(l).empty=!1:v(l).unusedTokens.push(k),cm(k,m,l)):l._strict&&!m&&v(l).unusedTokens.push(k);v(l).charsLeftOver=Y-ie,d.length>0&&v(l).unusedInput.push(d),l._a[it]<=12&&v(l).bigHour===!0&&l._a[it]>0&&(v(l).bigHour=void 0),v(l).parsedDateParts=l._a.slice(0),v(l).meridiem=l._meridiem,l._a[it]=xg(l._locale,l._a[it],l._meridiem),he=v(l).era,he!==null&&(l._a[ut]=l._locale.erasConvertYear(he,l._a[ut])),Za(l),Ga(l)}function xg(l,d,f){var m;return f==null?d:l.meridiemHour!=null?l.meridiemHour(d,f):(l.isPM!=null&&(m=l.isPM(f),m&&d<12&&(d+=12),!m&&d===12&&(d=0)),d)}function wg(l){var d,f,m,w,k,P,Y=!1,ie=l._f.length;if(ie===0){v(l).invalidFormat=!0,l._d=new Date(NaN);return}for(w=0;w<ie;w++)k=0,P=!1,d=O({},l),l._useUTC!=null&&(d._useUTC=l._useUTC),d._f=l._f[w],Ka(d),C(d)&&(P=!0),k+=v(d).charsLeftOver,k+=v(d).unusedTokens.length*10,v(d).score=k,Y?k<m&&(m=k,f=d):(m==null||k<m||P)&&(m=k,f=d,P&&(Y=!0));p(l,f||d)}function Sg(l){if(!l._d){var d=La(l._i),f=d.day===void 0?d.date:d.day;l._a=h([d.year,d.month,f,d.hour,d.minute,d.second,d.millisecond],function(m){return m&&parseInt(m,10)}),Za(l)}}function Cg(l){var d=new A(Ga(Ed(l)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function Ed(l){var d=l._i,f=l._f;return l._locale=l._locale||bi(l._l),d===null||f===void 0&&d===""?D({nullInput:!0}):(typeof d=="string"&&(l._i=d=l._locale.preparse(d)),N(d)?new A(Ga(d)):(u(d)?l._d=d:i(f)?wg(l):f?Ka(l):Mg(l),C(l)||(l._d=null),l))}function Mg(l){var d=l._i;a(d)?l._d=new Date(t.now()):u(d)?l._d=new Date(d.valueOf()):typeof d=="string"?_g(l):i(d)?(l._a=h(d.slice(0),function(f){return parseInt(f,10)}),Za(l)):s(d)?Sg(l):c(d)?l._d=new Date(d):t.createFromInputFallback(l)}function Od(l,d,f,m,w){var k={};return(d===!0||d===!1)&&(m=d,d=void 0),(f===!0||f===!1)&&(m=f,f=void 0),(s(l)&&o(l)||i(l)&&l.length===0)&&(l=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=w,k._l=f,k._i=l,k._f=d,k._strict=m,Cg(k)}function Re(l,d,f,m){return Od(l,d,f,m,!1)}var kg=F("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Re.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:D()}),Dg=F("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Re.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:D()});function Id(l,d){var f,m;if(d.length===1&&i(d[0])&&(d=d[0]),!d.length)return Re();for(f=d[0],m=1;m<d.length;++m)(!d[m].isValid()||d[m][l](f))&&(f=d[m]);return f}function Eg(){var l=[].slice.call(arguments,0);return Id("isBefore",l)}function Og(){var l=[].slice.call(arguments,0);return Id("isAfter",l)}var Ig=function(){return Date.now?Date.now():+new Date},Ds=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ag(l){var d,f=!1,m,w=Ds.length;for(d in l)if(r(l,d)&&!(Xe.call(Ds,d)!==-1&&(l[d]==null||!isNaN(l[d]))))return!1;for(m=0;m<w;++m)if(l[Ds[m]]){if(f)return!1;parseFloat(l[Ds[m]])!==ue(l[Ds[m]])&&(f=!0)}return!0}function Tg(){return this._isValid}function Pg(){return qt(NaN)}function Ir(l){var d=La(l),f=d.year||0,m=d.quarter||0,w=d.month||0,k=d.week||d.isoWeek||0,P=d.day||0,Y=d.hour||0,ie=d.minute||0,he=d.second||0,_t=d.millisecond||0;this._isValid=Ag(d),this._milliseconds=+_t+he*1e3+ie*6e4+Y*1e3*60*60,this._days=+P+k*7,this._months=+w+m*3+f*12,this._data={},this._locale=bi(),this._bubble()}function Ar(l){return l instanceof Ir}function Xa(l){return l<0?Math.round(-1*l)*-1:Math.round(l)}function Ng(l,d,f){var m=Math.min(l.length,d.length),w=Math.abs(l.length-d.length),k=0,P;for(P=0;P<m;P++)(f&&l[P]!==d[P]||!f&&ue(l[P])!==ue(d[P]))&&k++;return k+w}function Ad(l,d){K(l,0,0,function(){var f=this.utcOffset(),m="+";return f<0&&(f=-f,m="-"),m+$e(~~(f/60),2)+d+$e(~~f%60,2)})}Ad("Z",":"),Ad("ZZ",""),$("Z",Cr),$("ZZ",Cr),Me(["Z","ZZ"],function(l,d,f){f._useUTC=!0,f._tzm=Ja(Cr,l)});var Rg=/([\+\-]|\d\d)/gi;function Ja(l,d){var f=(d||"").match(l),m,w,k;return f===null?null:(m=f[f.length-1]||[],w=(m+"").match(Rg)||["-",0,0],k=+(w[1]*60)+ue(w[2]),k===0?0:w[0]==="+"?k:-k)}function Qa(l,d){var f,m;return d._isUTC?(f=d.clone(),m=(N(l)||u(l)?l.valueOf():Re(l).valueOf())-f.valueOf(),f._d.setTime(f._d.valueOf()+m),t.updateOffset(f,!1),f):Re(l).local()}function el(l){return-Math.round(l._d.getTimezoneOffset())}t.updateOffset=function(){};function Fg(l,d,f){var m=this._offset||0,w;if(!this.isValid())return l!=null?this:NaN;if(l!=null){if(typeof l=="string"){if(l=Ja(Cr,l),l===null)return this}else Math.abs(l)<16&&!f&&(l=l*60);return!this._isUTC&&d&&(w=el(this)),this._offset=l,this._isUTC=!0,w!=null&&this.add(w,"m"),m!==l&&(!d||this._changeInProgress?Rd(this,qt(l-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:el(this)}function Lg(l,d){return l!=null?(typeof l!="string"&&(l=-l),this.utcOffset(l,d),this):-this.utcOffset()}function Vg(l){return this.utcOffset(0,l)}function zg(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(el(this),"m")),this}function Ug(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=Ja(rm,this._i);l!=null?this.utcOffset(l):this.utcOffset(0,!0)}return this}function Wg(l){return this.isValid()?(l=l?Re(l).utcOffset():0,(this.utcOffset()-l)%60===0):!1}function jg(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Hg(){if(!a(this._isDSTShifted))return this._isDSTShifted;var l={},d;return O(l,this),l=Ed(l),l._a?(d=l._isUTC?b(l._a):Re(l._a),this._isDSTShifted=this.isValid()&&Ng(l._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Bg(){return this.isValid()?!this._isUTC:!1}function Yg(){return this.isValid()?this._isUTC:!1}function Td(){return this.isValid()?this._isUTC&&this._offset===0:!1}var $g=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gg=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qt(l,d){var f=l,m=null,w,k,P;return Ar(l)?f={ms:l._milliseconds,d:l._days,M:l._months}:c(l)||!isNaN(+l)?(f={},d?f[d]=+l:f.milliseconds=+l):(m=$g.exec(l))?(w=m[1]==="-"?-1:1,f={y:0,d:ue(m[ti])*w,h:ue(m[it])*w,m:ue(m[Gt])*w,s:ue(m[mi])*w,ms:ue(Xa(m[rn]*1e3))*w}):(m=Gg.exec(l))?(w=m[1]==="-"?-1:1,f={y:on(m[2],w),M:on(m[3],w),w:on(m[4],w),d:on(m[5],w),h:on(m[6],w),m:on(m[7],w),s:on(m[8],w)}):f==null?f={}:typeof f=="object"&&("from"in f||"to"in f)&&(P=qg(Re(f.from),Re(f.to)),f={},f.ms=P.milliseconds,f.M=P.months),k=new Ir(f),Ar(l)&&r(l,"_locale")&&(k._locale=l._locale),Ar(l)&&r(l,"_isValid")&&(k._isValid=l._isValid),k}qt.fn=Ir.prototype,qt.invalid=Pg;function on(l,d){var f=l&&parseFloat(l.replace(",","."));return(isNaN(f)?0:f)*d}function Pd(l,d){var f={};return f.months=d.month()-l.month()+(d.year()-l.year())*12,l.clone().add(f.months,"M").isAfter(d)&&--f.months,f.milliseconds=+d-+l.clone().add(f.months,"M"),f}function qg(l,d){var f;return l.isValid()&&d.isValid()?(d=Qa(d,l),l.isBefore(d)?f=Pd(l,d):(f=Pd(d,l),f.milliseconds=-f.milliseconds,f.months=-f.months),f):{milliseconds:0,months:0}}function Nd(l,d){return function(f,m){var w,k;return m!==null&&!isNaN(+m)&&(ne(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=f,f=m,m=k),w=qt(f,m),Rd(this,w,l),this}}function Rd(l,d,f,m){var w=d._milliseconds,k=Xa(d._days),P=Xa(d._months);l.isValid()&&(m=m??!0,P&&bd(l,ws(l,"Month")+P*f),k&&pd(l,"Date",ws(l,"Date")+k*f),w&&l._d.setTime(l._d.valueOf()+w*f),m&&t.updateOffset(l,k||P))}var Zg=Nd(1,"add"),Kg=Nd(-1,"subtract");function Fd(l){return typeof l=="string"||l instanceof String}function Xg(l){return N(l)||u(l)||Fd(l)||c(l)||Qg(l)||Jg(l)||l===null||l===void 0}function Jg(l){var d=s(l)&&!o(l),f=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],w,k,P=m.length;for(w=0;w<P;w+=1)k=m[w],f=f||r(l,k);return d&&f}function Qg(l){var d=i(l),f=!1;return d&&(f=l.filter(function(m){return!c(m)&&Fd(l)}).length===0),d&&f}function e0(l){var d=s(l)&&!o(l),f=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],w,k;for(w=0;w<m.length;w+=1)k=m[w],f=f||r(l,k);return d&&f}function t0(l,d){var f=l.diff(d,"days",!0);return f<-6?"sameElse":f<-1?"lastWeek":f<0?"lastDay":f<1?"sameDay":f<2?"nextDay":f<7?"nextWeek":"sameElse"}function i0(l,d){arguments.length===1&&(arguments[0]?Xg(arguments[0])?(l=arguments[0],d=void 0):e0(arguments[0])&&(d=arguments[0],l=void 0):(l=void 0,d=void 0));var f=l||Re(),m=Qa(f,this).startOf("day"),w=t.calendarFormat(this,m)||"sameElse",k=d&&(X(d[w])?d[w].call(this,f):d[w]);return this.format(k||this.localeData().calendar(w,this,Re(f)))}function n0(){return new A(this)}function s0(l,d){var f=N(l)?l:Re(l);return this.isValid()&&f.isValid()?(d=Vt(d)||"millisecond",d==="millisecond"?this.valueOf()>f.valueOf():f.valueOf()<this.clone().startOf(d).valueOf()):!1}function r0(l,d){var f=N(l)?l:Re(l);return this.isValid()&&f.isValid()?(d=Vt(d)||"millisecond",d==="millisecond"?this.valueOf()<f.valueOf():this.clone().endOf(d).valueOf()<f.valueOf()):!1}function o0(l,d,f,m){var w=N(l)?l:Re(l),k=N(d)?d:Re(d);return this.isValid()&&w.isValid()&&k.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(w,f):!this.isBefore(w,f))&&(m[1]===")"?this.isBefore(k,f):!this.isAfter(k,f))):!1}function a0(l,d){var f=N(l)?l:Re(l),m;return this.isValid()&&f.isValid()?(d=Vt(d)||"millisecond",d==="millisecond"?this.valueOf()===f.valueOf():(m=f.valueOf(),this.clone().startOf(d).valueOf()<=m&&m<=this.clone().endOf(d).valueOf())):!1}function l0(l,d){return this.isSame(l,d)||this.isAfter(l,d)}function c0(l,d){return this.isSame(l,d)||this.isBefore(l,d)}function d0(l,d,f){var m,w,k;if(!this.isValid())return NaN;if(m=Qa(l,this),!m.isValid())return NaN;switch(w=(m.utcOffset()-this.utcOffset())*6e4,d=Vt(d),d){case"year":k=Tr(this,m)/12;break;case"month":k=Tr(this,m);break;case"quarter":k=Tr(this,m)/3;break;case"second":k=(this-m)/1e3;break;case"minute":k=(this-m)/6e4;break;case"hour":k=(this-m)/36e5;break;case"day":k=(this-m-w)/864e5;break;case"week":k=(this-m-w)/6048e5;break;default:k=this-m}return f?k:zt(k)}function Tr(l,d){if(l.date()<d.date())return-Tr(d,l);var f=(d.year()-l.year())*12+(d.month()-l.month()),m=l.clone().add(f,"months"),w,k;return d-m<0?(w=l.clone().add(f-1,"months"),k=(d-m)/(m-w)):(w=l.clone().add(f+1,"months"),k=(d-m)/(w-m)),-(f+k)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function u0(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function h0(l){if(!this.isValid())return null;var d=l!==!0,f=d?this.clone().utc():this;return f.year()<0||f.year()>9999?Lt(f,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):X(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Lt(f,"Z")):Lt(f,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function f0(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",d="",f,m,w,k;return this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),f="["+l+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",w="-MM-DD[T]HH:mm:ss.SSS",k=d+'[")]',this.format(f+m+w+k)}function p0(l){l||(l=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var d=Lt(this,l);return this.localeData().postformat(d)}function m0(l,d){return this.isValid()&&(N(l)&&l.isValid()||Re(l).isValid())?qt({to:this,from:l}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function g0(l){return this.from(Re(),l)}function b0(l,d){return this.isValid()&&(N(l)&&l.isValid()||Re(l).isValid())?qt({from:this,to:l}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function _0(l){return this.to(Re(),l)}function Ld(l){var d;return l===void 0?this._locale._abbr:(d=bi(l),d!=null&&(this._locale=d),this)}var Vd=F("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});function zd(){return this._locale}var Pr=1e3,Nn=60*Pr,Nr=60*Nn,Ud=(365*400+97)*24*Nr;function Rn(l,d){return(l%d+d)%d}function Wd(l,d,f){return l<100&&l>=0?new Date(l+400,d,f)-Ud:new Date(l,d,f).valueOf()}function jd(l,d,f){return l<100&&l>=0?Date.UTC(l+400,d,f)-Ud:Date.UTC(l,d,f)}function y0(l){var d,f;if(l=Vt(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?jd:Wd,l){case"year":d=f(this.year(),0,1);break;case"quarter":d=f(this.year(),this.month()-this.month()%3,1);break;case"month":d=f(this.year(),this.month(),1);break;case"week":d=f(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=f(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=Rn(d+(this._isUTC?0:this.utcOffset()*Nn),Nr);break;case"minute":d=this._d.valueOf(),d-=Rn(d,Nn);break;case"second":d=this._d.valueOf(),d-=Rn(d,Pr);break}return this._d.setTime(d),t.updateOffset(this,!0),this}function v0(l){var d,f;if(l=Vt(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?jd:Wd,l){case"year":d=f(this.year()+1,0,1)-1;break;case"quarter":d=f(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=f(this.year(),this.month()+1,1)-1;break;case"week":d=f(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=f(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=Nr-Rn(d+(this._isUTC?0:this.utcOffset()*Nn),Nr)-1;break;case"minute":d=this._d.valueOf(),d+=Nn-Rn(d,Nn)-1;break;case"second":d=this._d.valueOf(),d+=Pr-Rn(d,Pr)-1;break}return this._d.setTime(d),t.updateOffset(this,!0),this}function x0(){return this._d.valueOf()-(this._offset||0)*6e4}function w0(){return Math.floor(this.valueOf()/1e3)}function S0(){return new Date(this.valueOf())}function C0(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]}function M0(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}}function k0(){return this.isValid()?this.toISOString():null}function D0(){return C(this)}function E0(){return p({},v(this))}function O0(){return v(this).overflow}function I0(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),$("N",tl),$("NN",tl),$("NNN",tl),$("NNNN",W0),$("NNNNN",j0),Me(["N","NN","NNN","NNNN","NNNNN"],function(l,d,f,m){var w=f._locale.erasParse(l,m,f._strict);w?v(f).era=w:v(f).invalidEra=l}),$("y",In),$("yy",In),$("yyy",In),$("yyyy",In),$("yo",H0),Me(["y","yy","yyy","yyyy"],ut),Me(["yo"],function(l,d,f,m){var w;f._locale._eraYearOrdinalRegex&&(w=l.match(f._locale._eraYearOrdinalRegex)),f._locale.eraYearOrdinalParse?d[ut]=f._locale.eraYearOrdinalParse(l,w):d[ut]=parseInt(l,10)});function A0(l,d){var f,m,w,k=this._eras||bi("en")._eras;for(f=0,m=k.length;f<m;++f){switch(typeof k[f].since){case"string":w=t(k[f].since).startOf("day"),k[f].since=w.valueOf();break}switch(typeof k[f].until){case"undefined":k[f].until=1/0;break;case"string":w=t(k[f].until).startOf("day").valueOf(),k[f].until=w.valueOf();break}}return k}function T0(l,d,f){var m,w,k=this.eras(),P,Y,ie;for(l=l.toUpperCase(),m=0,w=k.length;m<w;++m)if(P=k[m].name.toUpperCase(),Y=k[m].abbr.toUpperCase(),ie=k[m].narrow.toUpperCase(),f)switch(d){case"N":case"NN":case"NNN":if(Y===l)return k[m];break;case"NNNN":if(P===l)return k[m];break;case"NNNNN":if(ie===l)return k[m];break}else if([P,Y,ie].indexOf(l)>=0)return k[m]}function P0(l,d){var f=l.since<=l.until?1:-1;return d===void 0?t(l.since).year():t(l.since).year()+(d-l.offset)*f}function N0(){var l,d,f,m=this.localeData().eras();for(l=0,d=m.length;l<d;++l)if(f=this.clone().startOf("day").valueOf(),m[l].since<=f&&f<=m[l].until||m[l].until<=f&&f<=m[l].since)return m[l].name;return""}function R0(){var l,d,f,m=this.localeData().eras();for(l=0,d=m.length;l<d;++l)if(f=this.clone().startOf("day").valueOf(),m[l].since<=f&&f<=m[l].until||m[l].until<=f&&f<=m[l].since)return m[l].narrow;return""}function F0(){var l,d,f,m=this.localeData().eras();for(l=0,d=m.length;l<d;++l)if(f=this.clone().startOf("day").valueOf(),m[l].since<=f&&f<=m[l].until||m[l].until<=f&&f<=m[l].since)return m[l].abbr;return""}function L0(){var l,d,f,m,w=this.localeData().eras();for(l=0,d=w.length;l<d;++l)if(f=w[l].since<=w[l].until?1:-1,m=this.clone().startOf("day").valueOf(),w[l].since<=m&&m<=w[l].until||w[l].until<=m&&m<=w[l].since)return(this.year()-t(w[l].since).year())*f+w[l].offset;return this.year()}function V0(l){return r(this,"_erasNameRegex")||il.call(this),l?this._erasNameRegex:this._erasRegex}function z0(l){return r(this,"_erasAbbrRegex")||il.call(this),l?this._erasAbbrRegex:this._erasRegex}function U0(l){return r(this,"_erasNarrowRegex")||il.call(this),l?this._erasNarrowRegex:this._erasRegex}function tl(l,d){return d.erasAbbrRegex(l)}function W0(l,d){return d.erasNameRegex(l)}function j0(l,d){return d.erasNarrowRegex(l)}function H0(l,d){return d._eraYearOrdinalRegex||In}function il(){var l=[],d=[],f=[],m=[],w,k,P,Y,ie,he=this.eras();for(w=0,k=he.length;w<k;++w)P=fi(he[w].name),Y=fi(he[w].abbr),ie=fi(he[w].narrow),d.push(P),l.push(Y),f.push(ie),m.push(P),m.push(Y),m.push(ie);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+f.join("|")+")","i")}K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Rr(l,d){K(0,[l,l.length],0,d)}Rr("gggg","weekYear"),Rr("ggggg","weekYear"),Rr("GGGG","isoWeekYear"),Rr("GGGGG","isoWeekYear"),$("G",Sr),$("g",Sr),$("GG",Ne,Pt),$("gg",Ne,Pt),$("GGGG",za,Va),$("gggg",za,Va),$("GGGGG",wr,vr),$("ggggg",wr,vr),vs(["gggg","ggggg","GGGG","GGGGG"],function(l,d,f,m){d[m.substr(0,2)]=ue(l)}),vs(["gg","GG"],function(l,d,f,m){d[m]=t.parseTwoDigitYear(l)});function B0(l){return Hd.call(this,l,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Y0(l){return Hd.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)}function $0(){return gi(this.year(),1,4)}function G0(){return gi(this.isoWeekYear(),1,4)}function q0(){var l=this.localeData()._week;return gi(this.year(),l.dow,l.doy)}function Z0(){var l=this.localeData()._week;return gi(this.weekYear(),l.dow,l.doy)}function Hd(l,d,f,m,w){var k;return l==null?Cs(this,m,w).year:(k=gi(l,m,w),d>k&&(d=k),K0.call(this,l,d,f,m,w))}function K0(l,d,f,m,w){var k=vd(l,d,f,m,w),P=Ss(k.year,0,k.dayOfYear);return this.year(P.getUTCFullYear()),this.month(P.getUTCMonth()),this.date(P.getUTCDate()),this}K("Q",0,"Qo","quarter"),$("Q",cd),Me("Q",function(l,d){d[pi]=(ue(l)-1)*3});function X0(l){return l==null?Math.ceil((this.month()+1)/3):this.month((l-1)*3+this.month()%3)}K("D",["DD",2],"Do","date"),$("D",Ne,An),$("DD",Ne,Pt),$("Do",function(l,d){return l?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),Me(["D","DD"],ti),Me("Do",function(l,d){d[ti]=ue(l.match(Ne)[0])});var Bd=Tn("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),$("DDD",xr),$("DDDD",dd),Me(["DDD","DDDD"],function(l,d,f){f._dayOfYear=ue(l)});function J0(l){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?d:this.add(l-d,"d")}K("m",["mm",2],0,"minute"),$("m",Ne,Ua),$("mm",Ne,Pt),Me(["m","mm"],Gt);var Q0=Tn("Minutes",!1);K("s",["ss",2],0,"second"),$("s",Ne,Ua),$("ss",Ne,Pt),Me(["s","ss"],mi);var eb=Tn("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return this.millisecond()*10}),K(0,["SSSSS",5],0,function(){return this.millisecond()*100}),K(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),K(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),K(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),K(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("S",xr,cd),$("SS",xr,Pt),$("SSS",xr,dd);var Ni,Yd;for(Ni="SSSS";Ni.length<=9;Ni+="S")$(Ni,In);function tb(l,d){d[rn]=ue(("0."+l)*1e3)}for(Ni="S";Ni.length<=9;Ni+="S")Me(Ni,tb);Yd=Tn("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");function ib(){return this._isUTC?"UTC":""}function nb(){return this._isUTC?"Coordinated Universal Time":""}var z=A.prototype;z.add=Zg,z.calendar=i0,z.clone=n0,z.diff=d0,z.endOf=v0,z.format=p0,z.from=m0,z.fromNow=g0,z.to=b0,z.toNow=_0,z.get=fm,z.invalidAt=O0,z.isAfter=s0,z.isBefore=r0,z.isBetween=o0,z.isSame=a0,z.isSameOrAfter=l0,z.isSameOrBefore=c0,z.isValid=D0,z.lang=Vd,z.locale=Ld,z.localeData=zd,z.max=Dg,z.min=kg,z.parsingFlags=E0,z.set=pm,z.startOf=y0,z.subtract=Kg,z.toArray=C0,z.toObject=M0,z.toDate=S0,z.toISOString=h0,z.inspect=f0,typeof Symbol<"u"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),z.toJSON=k0,z.toString=u0,z.unix=w0,z.valueOf=x0,z.creationData=I0,z.eraName=N0,z.eraNarrow=R0,z.eraAbbr=F0,z.eraYear=L0,z.year=fd,z.isLeapYear=hm,z.weekYear=B0,z.isoWeekYear=Y0,z.quarter=z.quarters=X0,z.month=_d,z.daysInMonth=Sm,z.week=z.weeks=Am,z.isoWeek=z.isoWeeks=Tm,z.weeksInYear=q0,z.weeksInWeekYear=Z0,z.isoWeeksInYear=$0,z.isoWeeksInISOWeekYear=G0,z.date=Bd,z.day=z.days=Ym,z.weekday=$m,z.isoWeekday=Gm,z.dayOfYear=J0,z.hour=z.hours=eg,z.minute=z.minutes=Q0,z.second=z.seconds=eb,z.millisecond=z.milliseconds=Yd,z.utcOffset=Fg,z.utc=Vg,z.local=zg,z.parseZone=Ug,z.hasAlignedHourOffset=Wg,z.isDST=jg,z.isLocal=Bg,z.isUtcOffset=Yg,z.isUtc=Td,z.isUTC=Td,z.zoneAbbr=ib,z.zoneName=nb,z.dates=F("dates accessor is deprecated. Use date instead.",Bd),z.months=F("months accessor is deprecated. Use month instead",_d),z.years=F("years accessor is deprecated. Use year instead",fd),z.zone=F("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Lg),z.isDSTShifted=F("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Hg);function sb(l){return Re(l*1e3)}function rb(){return Re.apply(null,arguments).parseZone()}function $d(l){return l}var be=at.prototype;be.calendar=je,be.longDateFormat=qp,be.invalidDate=Kp,be.ordinal=Qp,be.preparse=$d,be.postformat=$d,be.relativeTime=tm,be.pastFuture=im,be.set=ae,be.eras=A0,be.erasParse=T0,be.erasConvertYear=P0,be.erasAbbrRegex=z0,be.erasNameRegex=V0,be.erasNarrowRegex=U0,be.months=ym,be.monthsShort=vm,be.monthsParse=wm,be.monthsRegex=Mm,be.monthsShortRegex=Cm,be.week=Dm,be.firstDayOfYear=Im,be.firstDayOfWeek=Om,be.weekdays=Um,be.weekdaysMin=jm,be.weekdaysShort=Wm,be.weekdaysParse=Bm,be.weekdaysRegex=qm,be.weekdaysShortRegex=Zm,be.weekdaysMinRegex=Km,be.isPM=Jm,be.meridiem=tg;function Fr(l,d,f,m){var w=bi(),k=b().set(m,d);return w[f](k,l)}function Gd(l,d,f){if(c(l)&&(d=l,l=void 0),l=l||"",d!=null)return Fr(l,d,f,"month");var m,w=[];for(m=0;m<12;m++)w[m]=Fr(l,m,f,"month");return w}function nl(l,d,f,m){typeof l=="boolean"?(c(d)&&(f=d,d=void 0),d=d||""):(d=l,f=d,l=!1,c(d)&&(f=d,d=void 0),d=d||"");var w=bi(),k=l?w._week.dow:0,P,Y=[];if(f!=null)return Fr(d,(f+k)%7,m,"day");for(P=0;P<7;P++)Y[P]=Fr(d,(P+k)%7,m,"day");return Y}function ob(l,d){return Gd(l,d,"months")}function ab(l,d){return Gd(l,d,"monthsShort")}function lb(l,d,f){return nl(l,d,f,"weekdays")}function cb(l,d,f){return nl(l,d,f,"weekdaysShort")}function db(l,d,f){return nl(l,d,f,"weekdaysMin")}Pi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var d=l%10,f=ue(l%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return l+f}}),t.lang=F("moment.lang is deprecated. Use moment.locale instead.",Pi),t.langData=F("moment.langData is deprecated. Use moment.localeData instead.",bi);var _i=Math.abs;function ub(){var l=this._data;return this._milliseconds=_i(this._milliseconds),this._days=_i(this._days),this._months=_i(this._months),l.milliseconds=_i(l.milliseconds),l.seconds=_i(l.seconds),l.minutes=_i(l.minutes),l.hours=_i(l.hours),l.months=_i(l.months),l.years=_i(l.years),this}function qd(l,d,f,m){var w=qt(d,f);return l._milliseconds+=m*w._milliseconds,l._days+=m*w._days,l._months+=m*w._months,l._bubble()}function hb(l,d){return qd(this,l,d,1)}function fb(l,d){return qd(this,l,d,-1)}function Zd(l){return l<0?Math.floor(l):Math.ceil(l)}function pb(){var l=this._milliseconds,d=this._days,f=this._months,m=this._data,w,k,P,Y,ie;return l>=0&&d>=0&&f>=0||l<=0&&d<=0&&f<=0||(l+=Zd(sl(f)+d)*864e5,d=0,f=0),m.milliseconds=l%1e3,w=zt(l/1e3),m.seconds=w%60,k=zt(w/60),m.minutes=k%60,P=zt(k/60),m.hours=P%24,d+=zt(P/24),ie=zt(Kd(d)),f+=ie,d-=Zd(sl(ie)),Y=zt(f/12),f%=12,m.days=d,m.months=f,m.years=Y,this}function Kd(l){return l*4800/146097}function sl(l){return l*146097/4800}function mb(l){if(!this.isValid())return NaN;var d,f,m=this._milliseconds;if(l=Vt(l),l==="month"||l==="quarter"||l==="year")switch(d=this._days+m/864e5,f=this._months+Kd(d),l){case"month":return f;case"quarter":return f/3;case"year":return f/12}else switch(d=this._days+Math.round(sl(this._months)),l){case"week":return d/7+m/6048e5;case"day":return d+m/864e5;case"hour":return d*24+m/36e5;case"minute":return d*1440+m/6e4;case"second":return d*86400+m/1e3;case"millisecond":return Math.floor(d*864e5)+m;default:throw new Error("Unknown unit "+l)}}function yi(l){return function(){return this.as(l)}}var Xd=yi("ms"),gb=yi("s"),bb=yi("m"),_b=yi("h"),yb=yi("d"),vb=yi("w"),xb=yi("M"),wb=yi("Q"),Sb=yi("y"),Cb=Xd;function Mb(){return qt(this)}function kb(l){return l=Vt(l),this.isValid()?this[l+"s"]():NaN}function an(l){return function(){return this.isValid()?this._data[l]:NaN}}var Db=an("milliseconds"),Eb=an("seconds"),Ob=an("minutes"),Ib=an("hours"),Ab=an("days"),Tb=an("months"),Pb=an("years");function Nb(){return zt(this.days()/7)}var vi=Math.round,Fn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Rb(l,d,f,m,w){return w.relativeTime(d||1,!!f,l,m)}function Fb(l,d,f,m){var w=qt(l).abs(),k=vi(w.as("s")),P=vi(w.as("m")),Y=vi(w.as("h")),ie=vi(w.as("d")),he=vi(w.as("M")),_t=vi(w.as("w")),xi=vi(w.as("y")),Ri=k<=f.ss&&["s",k]||k<f.s&&["ss",k]||P<=1&&["m"]||P<f.m&&["mm",P]||Y<=1&&["h"]||Y<f.h&&["hh",Y]||ie<=1&&["d"]||ie<f.d&&["dd",ie];return f.w!=null&&(Ri=Ri||_t<=1&&["w"]||_t<f.w&&["ww",_t]),Ri=Ri||he<=1&&["M"]||he<f.M&&["MM",he]||xi<=1&&["y"]||["yy",xi],Ri[2]=d,Ri[3]=+l>0,Ri[4]=m,Rb.apply(null,Ri)}function Lb(l){return l===void 0?vi:typeof l=="function"?(vi=l,!0):!1}function Vb(l,d){return Fn[l]===void 0?!1:d===void 0?Fn[l]:(Fn[l]=d,l==="s"&&(Fn.ss=d-1),!0)}function zb(l,d){if(!this.isValid())return this.localeData().invalidDate();var f=!1,m=Fn,w,k;return typeof l=="object"&&(d=l,l=!1),typeof l=="boolean"&&(f=l),typeof d=="object"&&(m=Object.assign({},Fn,d),d.s!=null&&d.ss==null&&(m.ss=d.s-1)),w=this.localeData(),k=Fb(this,!f,m,w),f&&(k=w.pastFuture(+this,k)),w.postformat(k)}var rl=Math.abs;function Ln(l){return(l>0)-(l<0)||+l}function Lr(){if(!this.isValid())return this.localeData().invalidDate();var l=rl(this._milliseconds)/1e3,d=rl(this._days),f=rl(this._months),m,w,k,P,Y=this.asSeconds(),ie,he,_t,xi;return Y?(m=zt(l/60),w=zt(m/60),l%=60,m%=60,k=zt(f/12),f%=12,P=l?l.toFixed(3).replace(/\.?0+$/,""):"",ie=Y<0?"-":"",he=Ln(this._months)!==Ln(Y)?"-":"",_t=Ln(this._days)!==Ln(Y)?"-":"",xi=Ln(this._milliseconds)!==Ln(Y)?"-":"",ie+"P"+(k?he+k+"Y":"")+(f?he+f+"M":"")+(d?_t+d+"D":"")+(w||m||l?"T":"")+(w?xi+w+"H":"")+(m?xi+m+"M":"")+(l?xi+P+"S":"")):"P0D"}var fe=Ir.prototype;fe.isValid=Tg,fe.abs=ub,fe.add=hb,fe.subtract=fb,fe.as=mb,fe.asMilliseconds=Xd,fe.asSeconds=gb,fe.asMinutes=bb,fe.asHours=_b,fe.asDays=yb,fe.asWeeks=vb,fe.asMonths=xb,fe.asQuarters=wb,fe.asYears=Sb,fe.valueOf=Cb,fe._bubble=pb,fe.clone=Mb,fe.get=kb,fe.milliseconds=Db,fe.seconds=Eb,fe.minutes=Ob,fe.hours=Ib,fe.days=Ab,fe.weeks=Nb,fe.months=Tb,fe.years=Pb,fe.humanize=zb,fe.toISOString=Lr,fe.toString=Lr,fe.toJSON=Lr,fe.locale=Ld,fe.localeData=zd,fe.toIsoString=F("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lr),fe.lang=Vd,K("X",0,0,"unix"),K("x",0,0,"valueOf"),$("x",Sr),$("X",om),Me("X",function(l,d,f){f._d=new Date(parseFloat(l)*1e3)}),Me("x",function(l,d,f){f._d=new Date(ue(l))});return t.version="2.30.1",e(Re),t.fn=z,t.min=Eg,t.max=Og,t.now=Ig,t.utc=b,t.unix=sb,t.months=ob,t.isDate=u,t.locale=Pi,t.invalid=D,t.duration=qt,t.isMoment=N,t.weekdays=lb,t.parseZone=rb,t.localeData=bi,t.isDuration=Ar,t.monthsShort=ab,t.weekdaysMin=db,t.defineLocale=$a,t.updateLocale=rg,t.locales=og,t.weekdaysShort=cb,t.normalizeUnits=Vt,t.relativeTimeRounding=Lb,t.relativeTimeThreshold=Vb,t.calendarFormat=t0,t.prototype=z,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});function si(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]])}return e}var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Cl(n,t){return n(t={exports:{}},t.exports),t.exports}var un=Cl(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function i(){var s=this;this.locked=new Map,this.addToLocked=function(r,o){var a=s.locked.get(r);a===void 0?o===void 0?s.locked.set(r,[]):s.locked.set(r,[o]):o!==void 0&&(a.unshift(o),s.locked.set(r,a))},this.isLocked=function(r){return s.locked.has(r)},this.lock=function(r){return new Promise(function(o,a){s.isLocked(r)?s.addToLocked(r,o):(s.addToLocked(r),o())})},this.unlock=function(r){var o=s.locked.get(r);if(o!==void 0&&o.length!==0){var a=o.pop();s.locked.set(r,o),a!==void 0&&setTimeout(a,0)}else s.locked.delete(r)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i}();t.default=function(){return e.getInstance()}});Sl(un);var Wb=Sl(Cl(function(n,t){var e=hn&&hn.__awaiter||function(h,p,b,y){return new(b||(b=Promise))(function(v,S){function C(I){try{E(y.next(I))}catch(O){S(O)}}function D(I){try{E(y.throw(I))}catch(O){S(O)}}function E(I){I.done?v(I.value):new b(function(O){O(I.value)}).then(C,D)}E((y=y.apply(h,p||[])).next())})},i=hn&&hn.__generator||function(h,p){var b,y,v,S,C={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return S={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function D(E){return function(I){return function(O){if(b)throw new TypeError("Generator is already executing.");for(;C;)try{if(b=1,y&&(v=2&O[0]?y.return:O[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,O[1])).done)return v;switch(y=0,v&&(O=[2&O[0],v.value]),O[0]){case 0:case 1:v=O;break;case 4:return C.label++,{value:O[1],done:!1};case 5:C.label++,y=O[1],O=[0];continue;case 7:O=C.ops.pop(),C.trys.pop();continue;default:if(v=C.trys,!((v=v.length>0&&v[v.length-1])||O[0]!==6&&O[0]!==2)){C=0;continue}if(O[0]===3&&(!v||O[1]>v[0]&&O[1]<v[3])){C.label=O[1];break}if(O[0]===6&&C.label<v[1]){C.label=v[1],v=O;break}if(v&&C.label<v[2]){C.label=v[2],C.ops.push(O);break}v[2]&&C.ops.pop(),C.trys.pop();continue}O=p.call(h,C)}catch(A){O=[6,A],y=0}finally{b=v=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([E,I])}}},s=hn;Object.defineProperty(t,"__esModule",{value:!0});var r="browser-tabs-lock-key",o={key:function(h){return e(s,void 0,void 0,function(){return i(this,function(p){throw new Error("Unsupported")})})},getItem:function(h){return e(s,void 0,void 0,function(){return i(this,function(p){throw new Error("Unsupported")})})},clear:function(){return e(s,void 0,void 0,function(){return i(this,function(h){return[2,window.localStorage.clear()]})})},removeItem:function(h){return e(s,void 0,void 0,function(){return i(this,function(p){throw new Error("Unsupported")})})},setItem:function(h,p){return e(s,void 0,void 0,function(){return i(this,function(b){throw new Error("Unsupported")})})},keySync:function(h){return window.localStorage.key(h)},getItemSync:function(h){return window.localStorage.getItem(h)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(h){return window.localStorage.removeItem(h)},setItemSync:function(h,p){return window.localStorage.setItem(h,p)}};function a(h){return new Promise(function(p){return setTimeout(p,h)})}function c(h){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",b="",y=0;y<h;y++)b+=p[Math.floor(Math.random()*p.length)];return b}var u=function(){function h(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,h.waiters===void 0&&(h.waiters=[])}return h.prototype.acquireLock=function(p,b){return b===void 0&&(b=5e3),e(this,void 0,void 0,function(){var y,v,S,C,D,E,I;return i(this,function(O){switch(O.label){case 0:y=Date.now()+c(4),v=Date.now()+b,S=r+"-"+p,C=this.storageHandler===void 0?o:this.storageHandler,O.label=1;case 1:return Date.now()<v?[4,a(30)]:[3,8];case 2:return O.sent(),C.getItemSync(S)!==null?[3,5]:(D=this.id+"-"+p+"-"+y,[4,a(Math.floor(25*Math.random()))]);case 3:return O.sent(),C.setItemSync(S,JSON.stringify({id:this.id,iat:y,timeoutKey:D,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return O.sent(),(E=C.getItemSync(S))!==null&&(I=JSON.parse(E)).id===this.id&&I.iat===y?(this.acquiredIatSet.add(y),this.refreshLockWhileAcquired(S,y),[2,!0]):[3,7];case 5:return h.lockCorrector(this.storageHandler===void 0?o:this.storageHandler),[4,this.waitForSomethingToChange(v)];case 6:O.sent(),O.label=7;case 7:return y=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},h.prototype.refreshLockWhileAcquired=function(p,b){return e(this,void 0,void 0,function(){var y=this;return i(this,function(v){return setTimeout(function(){return e(y,void 0,void 0,function(){var S,C,D;return i(this,function(E){switch(E.label){case 0:return[4,un.default().lock(b)];case 1:return E.sent(),this.acquiredIatSet.has(b)?(S=this.storageHandler===void 0?o:this.storageHandler,(C=S.getItemSync(p))===null?(un.default().unlock(b),[2]):((D=JSON.parse(C)).timeRefreshed=Date.now(),S.setItemSync(p,JSON.stringify(D)),un.default().unlock(b),this.refreshLockWhileAcquired(p,b),[2])):(un.default().unlock(b),[2])}})})},1e3),[2]})})},h.prototype.waitForSomethingToChange=function(p){return e(this,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return[4,new Promise(function(y){var v=!1,S=Date.now(),C=!1;function D(){if(C||(window.removeEventListener("storage",D),h.removeFromWaiting(D),clearTimeout(E),C=!0),!v){v=!0;var I=50-(Date.now()-S);I>0?setTimeout(y,I):y(null)}}window.addEventListener("storage",D),h.addToWaiting(D);var E=setTimeout(D,Math.max(0,p-Date.now()))})];case 1:return b.sent(),[2]}})})},h.addToWaiting=function(p){this.removeFromWaiting(p),h.waiters!==void 0&&h.waiters.push(p)},h.removeFromWaiting=function(p){h.waiters!==void 0&&(h.waiters=h.waiters.filter(function(b){return b!==p}))},h.notifyWaiters=function(){h.waiters!==void 0&&h.waiters.slice().forEach(function(p){return p()})},h.prototype.releaseLock=function(p){return e(this,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,b.sent()]}})})},h.prototype.releaseLock__private__=function(p){return e(this,void 0,void 0,function(){var b,y,v,S;return i(this,function(C){switch(C.label){case 0:return b=this.storageHandler===void 0?o:this.storageHandler,y=r+"-"+p,(v=b.getItemSync(y))===null?[2]:(S=JSON.parse(v)).id!==this.id?[3,2]:[4,un.default().lock(S.iat)];case 1:C.sent(),this.acquiredIatSet.delete(S.iat),b.removeItemSync(y),un.default().unlock(S.iat),h.notifyWaiters(),C.label=2;case 2:return[2]}})})},h.lockCorrector=function(p){for(var b=Date.now()-5e3,y=p,v=[],S=0;;){var C=y.keySync(S);if(C===null)break;v.push(C),S++}for(var D=!1,E=0;E<v.length;E++){var I=v[E];if(I.includes(r)){var O=y.getItemSync(I);if(O!==null){var A=JSON.parse(O);(A.timeRefreshed===void 0&&A.timeAcquired<b||A.timeRefreshed!==void 0&&A.timeRefreshed<b)&&(y.removeItemSync(I),D=!0)}}}D&&h.notifyWaiters()},h.waiters=void 0,h}();t.default=u})),jb={timeoutInSeconds:60},Tu={name:"auth0-spa-js",version:"2.1.3"},Pu=()=>Date.now(),pt=class n extends Error{constructor(t,e){super(e),this.error=t,this.error_description=e,Object.setPrototypeOf(this,n.prototype)}static fromPayload({error:t,error_description:e}){return new n(t,e)}},to=class n extends pt{constructor(t,e,i,s=null){super(t,e),this.state=i,this.appState=s,Object.setPrototypeOf(this,n.prototype)}},Gn=class n extends pt{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,n.prototype)}},io=class n extends Gn{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,n.prototype)}},no=class n extends pt{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,n.prototype)}},so=class n extends pt{constructor(t,e,i){super(t,e),this.mfa_token=i,Object.setPrototypeOf(this,n.prototype)}},Vs=class n extends pt{constructor(t,e){super("missing_refresh_token",`Missing Refresh Token (audience: '${Cu(t,["default"])}', scope: '${Cu(e)}')`),this.audience=t,this.scope=e,Object.setPrototypeOf(this,n.prototype)}};function Cu(n,t=[]){return n&&!t.includes(n)?n:""}var eo=()=>window.crypto,ml=()=>{let n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(eo().getRandomValues(new Uint8Array(43))).forEach(e=>t+=n[e%n.length]),t},Mu=n=>btoa(n),yl=n=>{var{clientId:t}=n,e=si(n,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter(s=>i[s]!==void 0).reduce((s,r)=>Object.assign(Object.assign({},s),{[r]:i[r]}),{}))(Object.assign({client_id:t},e))).toString()},ku=n=>(t=>decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),Hb=(n,t)=>J(void 0,null,function*(){let e=yield fetch(n,t);return{ok:e.ok,json:yield e.json()}}),Bb=(n,t,e)=>J(void 0,null,function*(){let i=new AbortController,s;return t.signal=i.signal,Promise.race([Hb(n,t),new Promise((r,o)=>{s=setTimeout(()=>{i.abort(),o(new Error("Timeout when executing 'fetch'"))},e)})]).finally(()=>{clearTimeout(s)})}),Yb=(n,t,e,i,s,r,o)=>J(void 0,null,function*(){return a={auth:{audience:t,scope:e},timeout:s,fetchUrl:n,fetchOptions:i,useFormData:o},c=r,new Promise(function(u,h){let p=new MessageChannel;p.port1.onmessage=function(b){b.data.error?h(new Error(b.data.error)):u(b.data),p.port1.close()},c.postMessage(a,[p.port2])});var a,c}),$b=(n,t,e,i,s,r,o=1e4)=>J(void 0,null,function*(){return s?Yb(n,t,e,i,o,s,r):Bb(n,i,o)});function Gb(n,t){return J(this,null,function*(){var{baseUrl:e,timeout:i,audience:s,scope:r,auth0Client:o,useFormData:a}=n,c=si(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let u=a?yl(c):JSON.stringify(c);return yield function(h,p,b,y,v,S,C){return J(this,null,function*(){let D,E=null;for(let F=0;F<3;F++)try{D=yield $b(h,b,y,v,S,C,p),E=null;break}catch(G){E=G}if(E)throw E;let I=D.json,{error:O,error_description:A}=I,N=si(I,["error","error_description"]),{ok:U}=D;if(!U){let F=A||`HTTP error. Unable to fetch ${h}`;throw O==="mfa_required"?new so(O,F,N.mfa_token):O==="missing_refresh_token"?new Vs(b,y):new pt(O||"request_error",F)}return N})}(`${e}/oauth/token`,i,s||"default",r,{method:"POST",body:u,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(o||Tu))}},t,a)})}var Qr=(...n)=>{return(t=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t},Si=class n{constructor(t,e="@@auth0spajs@@",i){this.prefix=e,this.suffix=i,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){let[e,i,s,r]=t.split("::");return new n({clientId:i,scope:r,audience:s},e)}static fromCacheEntry(t){let{scope:e,audience:i,client_id:s}=t;return new n({scope:e,audience:i,clientId:s})}},ro=class{set(t,e){localStorage.setItem(t,JSON.stringify(e))}get(t){let e=window.localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}},zs=class{constructor(){this.enclosedCache=function(){let t={};return{set(e,i){t[e]=i},get(e){let i=t[e];if(i)return i},remove(e){delete t[e]},allKeys:()=>Object.keys(t)}}()}},vl=class{constructor(t,e,i){this.cache=t,this.keyManifest=e,this.nowProvider=i||Pu}setIdToken(t,e,i){return J(this,null,function*(){var s;let r=this.getIdTokenCacheKey(t);yield this.cache.set(r,{id_token:e,decodedToken:i}),yield(s=this.keyManifest)===null||s===void 0?void 0:s.add(r)})}getIdToken(t){return J(this,null,function*(){let e=yield this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!e&&t.scope&&t.audience){let i=yield this.get(t);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(e)return{id_token:e.id_token,decodedToken:e.decodedToken}})}get(t,e=0){return J(this,null,function*(){var i;let s=yield this.cache.get(t.toKey());if(!s){let a=yield this.getCacheKeys();if(!a)return;let c=this.matchExistingCacheKey(t,a);c&&(s=yield this.cache.get(c))}if(!s)return;let r=yield this.nowProvider(),o=Math.floor(r/1e3);return s.expiresAt-e<o?s.body.refresh_token?(s.body={refresh_token:s.body.refresh_token},yield this.cache.set(t.toKey(),s),s.body):(yield this.cache.remove(t.toKey()),void(yield(i=this.keyManifest)===null||i===void 0?void 0:i.remove(t.toKey()))):s.body})}set(t){return J(this,null,function*(){var e;let i=new Si({clientId:t.client_id,scope:t.scope,audience:t.audience}),s=yield this.wrapCacheEntry(t);yield this.cache.set(i.toKey(),s),yield(e=this.keyManifest)===null||e===void 0?void 0:e.add(i.toKey())})}clear(t){return J(this,null,function*(){var e;let i=yield this.getCacheKeys();i&&(yield i.filter(s=>!t||s.includes(t)).reduce((s,r)=>J(this,null,function*(){yield s,yield this.cache.remove(r)}),Promise.resolve()),yield(e=this.keyManifest)===null||e===void 0?void 0:e.clear())})}wrapCacheEntry(t){return J(this,null,function*(){let e=yield this.nowProvider();return{body:t,expiresAt:Math.floor(e/1e3)+t.expires_in}})}getCacheKeys(){return J(this,null,function*(){var t;return this.keyManifest?(t=yield this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(t){return new Si({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,e){return e.filter(i=>{var s;let r=Si.fromKey(i),o=new Set(r.scope&&r.scope.split(" ")),a=((s=t.scope)===null||s===void 0?void 0:s.split(" "))||[],c=r.scope&&a.reduce((u,h)=>u&&o.has(h),!0);return r.prefix==="@@auth0spajs@@"&&r.clientId===t.clientId&&r.audience===t.audience&&c})[0]}},xl=class{constructor(t,e,i){this.storage=t,this.clientId=e,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},Ls=n=>typeof n=="number",qb=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Zb=n=>{if(!n.id_token)throw new Error("ID token is required but missing");let t=(r=>{let o=r.split("."),[a,c,u]=o;if(o.length!==3||!a||!c||!u)throw new Error("ID token could not be decoded");let h=JSON.parse(ku(c)),p={__raw:r},b={};return Object.keys(h).forEach(y=>{p[y]=h[y],qb.includes(y)||(b[y]=h[y])}),{encoded:{header:a,payload:c,signature:u},header:JSON.parse(ku(a)),claims:p,user:b}})(n.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${t.claims.aud}"`);if(n.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${t.claims.nonce}"`)}if(n.max_age&&!Ls(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!Ls(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Ls(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let e=n.leeway||60,i=new Date(n.now||Date.now()),s=new Date(0);if(s.setUTCSeconds(t.claims.exp+e),i>s)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${s})`);if(t.claims.nbf!=null&&Ls(t.claims.nbf)){let r=new Date(0);if(r.setUTCSeconds(t.claims.nbf-e),i<r)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${r}`)}if(t.claims.auth_time!=null&&Ls(t.claims.auth_time)){let r=new Date(0);if(r.setUTCSeconds(parseInt(t.claims.auth_time)+n.max_age+e),i>r)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${r}`)}if(n.organization){let r=n.organization.trim();if(r.startsWith("org_")){let o=r;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(o!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${o}", found "${t.claims.org_id}"`)}else{let o=r.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(o!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${o}", found "${t.claims.org_name}"`)}}return t},fn=Cl(function(n,t){var e=hn&&hn.__assign||function(){return e=Object.assign||function(c){for(var u,h=1,p=arguments.length;h<p;h++)for(var b in u=arguments[h])Object.prototype.hasOwnProperty.call(u,b)&&(c[b]=u[b]);return c},e.apply(this,arguments)};function i(c,u){if(!u)return"";var h="; "+c;return u===!0?h:h+"="+u}function s(c,u,h){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(p){if(typeof p.expires=="number"){var b=new Date;b.setMilliseconds(b.getMilliseconds()+864e5*p.expires),p.expires=b}return i("Expires",p.expires?p.expires.toUTCString():"")+i("Domain",p.domain)+i("Path",p.path)+i("Secure",p.secure)+i("SameSite",p.sameSite)}(h)}function r(c){for(var u={},h=c?c.split("; "):[],p=/(%[\dA-F]{2})+/gi,b=0;b<h.length;b++){var y=h[b].split("="),v=y.slice(1).join("=");v.charAt(0)==='"'&&(v=v.slice(1,-1));try{u[y[0].replace(p,decodeURIComponent)]=v.replace(p,decodeURIComponent)}catch{}}return u}function o(){return r(document.cookie)}function a(c,u,h){document.cookie=s(c,u,e({path:"/"},h))}t.__esModule=!0,t.encode=s,t.parse=r,t.getAll=o,t.get=function(c){return o()[c]},t.set=a,t.remove=function(c,u){a(c,"",e(e({},u),{expires:-1}))}});Sl(fn),fn.encode,fn.parse,fn.getAll;var Kb=fn.get,Nu=fn.set,Ru=fn.remove,$n={get(n){let t=Kb(n);if(t!==void 0)return JSON.parse(t)},save(n,t,e){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),e?.daysUntilExpire&&(i.expires=e.daysUntilExpire),e?.cookieDomain&&(i.domain=e.cookieDomain),Nu(n,JSON.stringify(t),i)},remove(n,t){let e={};t?.cookieDomain&&(e.domain=t.cookieDomain),Ru(n,e)}},Xb={get(n){return $n.get(n)||$n.get(`_legacy_${n}`)},save(n,t,e){let i={};window.location.protocol==="https:"&&(i={secure:!0}),e?.daysUntilExpire&&(i.expires=e.daysUntilExpire),e?.cookieDomain&&(i.domain=e.cookieDomain),Nu(`_legacy_${n}`,JSON.stringify(t),i),$n.save(n,t,e)},remove(n,t){let e={};t?.cookieDomain&&(e.domain=t.cookieDomain),Ru(n,e),$n.remove(n,t),$n.remove(`_legacy_${n}`,t)}},Jb={get(n){if(typeof sessionStorage>"u")return;let t=sessionStorage.getItem(n);return t!=null?JSON.parse(t):void 0},save(n,t){sessionStorage.setItem(n,JSON.stringify(t))},remove(n){sessionStorage.removeItem(n)}};function Qb(n,t,e){var i=t===void 0?null:t,s=function(c,u){var h=atob(c);if(u){for(var p=new Uint8Array(h.length),b=0,y=h.length;b<y;++b)p[b]=h.charCodeAt(b);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return h}(n,e!==void 0&&e),r=s.indexOf(`
`,10)+1,o=s.substring(r)+(i?"//# sourceMappingURL="+i:""),a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}var Du,Eu,Ou,gl,e_=(Du="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Eu=null,Ou=!1,function(n){return gl=gl||Qb(Du,Eu,Ou),new Worker(gl,n)}),bl={},wl=class{constructor(t,e){this.cache=t,this.clientId=e,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(t){return J(this,null,function*(){var e;let i=new Set(((e=yield this.cache.get(this.manifestKey))===null||e===void 0?void 0:e.keys)||[]);i.add(t),yield this.cache.set(this.manifestKey,{keys:[...i]})})}remove(t){return J(this,null,function*(){let e=yield this.cache.get(this.manifestKey);if(e){let i=new Set(e.keys);return i.delete(t),i.size>0?yield this.cache.set(this.manifestKey,{keys:[...i]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}},t_={memory:()=>new zs().enclosedCache,localstorage:()=>new ro},Iu=n=>t_[n],Au=n=>{let{openUrl:t,onRedirect:e}=n,i=si(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:t===!1||t?t:e})},_l=new Wb,oo=class{constructor(t){let e,i;if(this.userCache=new zs().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>J(this,null,function*(){yield _l.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!eo())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(eo().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)i=t.cache;else{if(e=t.cacheLocation||"memory",!Iu(e))throw new Error(`Invalid cache location "${e}"`);i=Iu(e)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?$n:Xb,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(o=>`auth0.${o}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;let s=t.useCookiesForTransactions?this.cookieStorage:Jb;var r;this.scope=Qr("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new xl(s,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Pu,this.cacheManager=new vl(i,i.allKeys?void 0:new wl(i,this.options.clientId),this.nowProvider),this.domainUrl=(r=this.options.domain,/^https?:\/\//.test(r)?r:`https://${r}`),this.tokenIssuer=((o,a)=>o?o.startsWith("https://")?o:`https://${o}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&e==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new e_)}_url(t){let e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Tu)));return`${this.domainUrl}${t}&auth0Client=${e}`}_authorizeUrl(t){return this._url(`/authorize?${yl(t)}`)}_verifyIdToken(t,e,i){return J(this,null,function*(){let s=yield this.nowProvider();return Zb({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:e,organization:i,leeway:this.options.leeway,max_age:(r=this.options.authorizationParams.max_age,typeof r!="string"?r:parseInt(r,10)||void 0),now:s});var r})}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(t,e,i){return J(this,null,function*(){let s=Mu(ml()),r=Mu(ml()),o=ml(),a=(h=>{let p=new Uint8Array(h);return(b=>{let y={"+":"-","/":"_","=":""};return b.replace(/[+/=]/g,v=>y[v])})(window.btoa(String.fromCharCode(...Array.from(p))))})(yield(h=>J(this,null,function*(){return yield eo().subtle.digest({name:"SHA-256"},new TextEncoder().encode(h))}))(o)),c=((h,p,b,y,v,S,C,D)=>Object.assign(Object.assign(Object.assign({client_id:h.clientId},h.authorizationParams),b),{scope:Qr(p,b.scope),response_type:"code",response_mode:D||"query",state:y,nonce:v,redirect_uri:C||h.authorizationParams.redirect_uri,code_challenge:S,code_challenge_method:"S256"}))(this.options,this.scope,t,s,r,a,t.redirect_uri||this.options.authorizationParams.redirect_uri||i,e?.response_mode),u=this._authorizeUrl(c);return{nonce:r,code_verifier:o,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:s,url:u}})}loginWithPopup(t,e){return J(this,null,function*(){var i;if(t=t||{},!(e=e||{}).popup&&(e.popup=(a=>{let c=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${c},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!e.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let s=yield this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);e.popup.location.href=s.url;let r=yield(a=>new Promise((c,u)=>{let h,p=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(p),clearTimeout(b),window.removeEventListener("message",h,!1),u(new no(a.popup)))},1e3),b=setTimeout(()=>{clearInterval(p),u(new io(a.popup)),window.removeEventListener("message",h,!1)},1e3*(a.timeoutInSeconds||60));h=function(y){if(y.data&&y.data.type==="authorization_response"){if(clearTimeout(b),clearInterval(p),window.removeEventListener("message",h,!1),a.popup.close(),y.data.response.error)return u(pt.fromPayload(y.data.response));c(y.data.response)}},window.addEventListener("message",h)}))(Object.assign(Object.assign({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(s.state!==r.state)throw new pt("state_mismatch","Invalid state");let o=((i=t.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:r.code,redirect_uri:s.redirect_uri},{nonceIn:s.nonce,organization:o})})}getUser(){return J(this,null,function*(){var t;let e=yield this._getIdTokenFromCache();return(t=e?.decodedToken)===null||t===void 0?void 0:t.user})}getIdTokenClaims(){return J(this,null,function*(){var t;let e=yield this._getIdTokenFromCache();return(t=e?.decodedToken)===null||t===void 0?void 0:t.claims})}loginWithRedirect(){return J(this,arguments,function*(t={}){var e;let i=Au(t),{openUrl:s,fragment:r,appState:o}=i,a=si(i,["openUrl","fragment","appState"]),c=((e=a.authorizationParams)===null||e===void 0?void 0:e.organization)||this.options.authorizationParams.organization,u=yield this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:h}=u,p=si(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:o}),c&&{organization:c}));let b=r?`${h}#${r}`:h;s?yield s(b):window.location.assign(b)})}handleRedirectCallback(){return J(this,arguments,function*(t=window.location.href){let e=t.split("?").slice(1);if(e.length===0)throw new Error("There are no query params available for parsing.");let{state:i,code:s,error:r,error_description:o}=(p=>{p.indexOf("#")>-1&&(p=p.substring(0,p.indexOf("#")));let b=new URLSearchParams(p);return{state:b.get("state"),code:b.get("code")||void 0,error:b.get("error")||void 0,error_description:b.get("error_description")||void 0}})(e.join("")),a=this.transactionManager.get();if(!a)throw new pt("missing_transaction","Invalid state");if(this.transactionManager.remove(),r)throw new to(r,o||r,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new pt("state_mismatch","Invalid state");let c=a.organization,u=a.nonce,h=a.redirect_uri;return yield this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:s},h?{redirect_uri:h}:{}),{nonceIn:u,organization:c}),{appState:a.appState}})}checkSession(t){return J(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(t)}catch{}})}getTokenSilently(){return J(this,arguments,function*(t={}){var e;let i=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:Qr(this.scope,(e=t.authorizationParams)===null||e===void 0?void 0:e.scope)})}),s=yield((r,o)=>{let a=bl[o];return a||(a=r().finally(()=>{delete bl[o],a=null}),bl[o]=a),a})(()=>this._getTokenSilently(i),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return t.detailedResponse?s:s?.access_token})}_getTokenSilently(t){return J(this,null,function*(){let{cacheMode:e}=t,i=si(t,["cacheMode"]);if(e!=="off"){let s=yield this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(s)return s}if(e!=="cache-only"){if(!(yield((s,r=3)=>J(this,null,function*(){for(let o=0;o<r;o++)if(yield s())return!0;return!1}))(()=>_l.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Gn;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),e!=="off"){let u=yield this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(u)return u}let s=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(i):yield this._getTokenFromIFrame(i),{id_token:r,access_token:o,oauthTokenScope:a,expires_in:c}=s;return Object.assign(Object.assign({id_token:r,access_token:o},a?{scope:a}:null),{expires_in:c})}finally{yield _l.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return J(this,arguments,function*(t={},e={}){var i;let s=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:Qr(this.scope,(i=t.authorizationParams)===null||i===void 0?void 0:i.scope)})});return e=Object.assign(Object.assign({},jb),e),yield this.loginWithPopup(s,e),(yield this.cacheManager.get(new Si({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return J(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;let e=t.logoutParams||{},{federated:i}=e,s=si(e,["federated"]),r=i?"&federated":"";return this._url(`/v2/logout?${yl(Object.assign({clientId:t.clientId},s))}`)+r}logout(){return J(this,arguments,function*(t={}){let e=Au(t),{openUrl:i}=e,s=si(e,["openUrl"]);t.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let r=this._buildLogoutUrl(s);i?yield i(r):i!==!1&&window.location.assign(r)})}_getTokenFromIFrame(t){return J(this,null,function*(){let e=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!e.organization&&(e.organization=i);let{url:s,state:r,nonce:o,code_verifier:a,redirect_uri:c,scope:u,audience:h}=yield this._prepareAuthorizeUrl(e,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new pt("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let p=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,b=yield((v,S,C=60)=>new Promise((D,E)=>{let I=window.document.createElement("iframe");I.setAttribute("width","0"),I.setAttribute("height","0"),I.style.display="none";let O=()=>{window.document.body.contains(I)&&(window.document.body.removeChild(I),window.removeEventListener("message",A,!1))},A,N=setTimeout(()=>{E(new Gn),O()},1e3*C);A=function(U){if(U.origin!=S||!U.data||U.data.type!=="authorization_response")return;let F=U.source;F&&F.close(),U.data.response.error?E(pt.fromPayload(U.data.response)):D(U.data.response),clearTimeout(N),window.removeEventListener("message",A,!1),setTimeout(O,2e3)},window.addEventListener("message",A,!1),window.document.body.appendChild(I),I.setAttribute("src",v)}))(s,this.domainUrl,p);if(r!==b.state)throw new pt("state_mismatch","Invalid state");let y=yield this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:a,code:b.code,grant_type:"authorization_code",redirect_uri:c,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:o,organization:e.organization});return Object.assign(Object.assign({},y),{scope:u,oauthTokenScope:y.scope,audience:h})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}})}_getTokenUsingRefreshToken(t){return J(this,null,function*(){let e=yield this.cacheManager.get(new Si({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(e&&e.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(t);throw new Vs(t.authorizationParams.audience||"default",t.authorizationParams.scope)}let i=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,s=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null;try{let r=yield this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:i}),s&&{timeout:s}));return Object.assign(Object.assign({},r),{scope:t.authorizationParams.scope,oauthTokenScope:r.scope,audience:t.authorizationParams.audience||"default"})}catch(r){if((r.message.indexOf("Missing Refresh Token")>-1||r.message&&r.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(t);throw r}})}_saveEntryInCache(t){return J(this,null,function*(){let{id_token:e,decodedToken:i}=t,s=si(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:e,decodedToken:i}),yield this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),yield this.cacheManager.set(s)})}_getIdTokenFromCache(){return J(this,null,function*(){let t=this.options.authorizationParams.audience||"default",e=yield this.cacheManager.getIdToken(new Si({clientId:this.options.clientId,audience:t,scope:this.scope})),i=this.userCache.get("@@user@@");return e&&e.id_token===i?.id_token?i:(this.userCache.set("@@user@@",e),e)})}_getEntryFromCache(s){return J(this,arguments,function*({scope:t,audience:e,clientId:i}){let r=yield this.cacheManager.get(new Si({scope:t,audience:e,clientId:i}),60);if(r&&r.access_token){let{access_token:o,oauthTokenScope:a,expires_in:c}=r,u=yield this._getIdTokenFromCache();return u&&Object.assign(Object.assign({id_token:u.id_token,access_token:o},a?{scope:a}:null),{expires_in:c})}})}_requestToken(t,e){return J(this,null,function*(){let{nonceIn:i,organization:s}=e||{},r=yield Gb(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},t),this.worker),o=yield this._verifyIdToken(r.id_token,i,s);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},r),{decodedToken:o,scope:t.scope,audience:t.audience||"default"}),r.scope?{oauthTokenScope:r.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(s||o.claims.org_id),Object.assign(Object.assign({},r),{decodedToken:o})})}};var Fu={name:"@auth0/auth0-angular",version:"2.2.3"},Ml=class{static createClient(t){let e=t.get();if(!e)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new oo(we(se({},e),{auth0Client:{name:Fu.name,version:Fu.version,env:{"angular/core":hu.full}}}))}},kl=new Zt("auth0.client");var Lu=new Zt("auth0-angular.config"),Vu=(()=>{class n{constructor(e){e&&this.set(e)}set(e){this.config=e}get(){return this.config}}return n.\u0275fac=function(e){return new(e||n)(Ge(Lu,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n_=(()=>{class n{constructor(e,i){this.location=e;try{this.router=i.get(qe)}catch{}}navigateByUrl(e){if(this.router){this.router.navigateByUrl(e);return}this.location.replaceState(e)}}return n.\u0275fac=function(e){return new(e||n)(Ge(pu),Ge(cl))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s_=(()=>{class n{constructor(e){this.auth0Client=e,this.isLoadingSubject$=new Vr(!0),this.refresh$=new wi,this.accessToken$=new zr(1),this.errorSubject$=new zr(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(nu((i,s)=>({previous:i.current,current:s}),{current:null,previous:null}),Os(({previous:i,current:s})=>i!==s)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(Os(i=>!i),Wr(),ll(()=>tu(Ur(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(al(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(al(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Wr(),su(1)),this.user$=this.isAuthenticatedTrigger$.pipe(Is(i=>i?this.auth0Client.getUser():ln(null)),Wr()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(Is(i=>i?this.auth0Client.getIdTokenClaims():ln(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(e){this.isLoadingSubject$.next(e)}refresh(){this.refresh$.next()}setAccessToken(e){this.accessToken$.next(e)}setError(e){this.errorSubject$.next(e)}}return n.\u0275fac=function(e){return new(e||n)(Ge(kl))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mt=(()=>{class n{constructor(e,i,s,r){this.auth0Client=e,this.configFactory=i,this.navigator=s,this.authState=r,this.appStateSubject$=new zr(1),this.ngUnsubscribe$=new wi,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let o=a=>eu(()=>a,this.handleRedirectCallback(),Ur(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(ll(a=>o(a).pipe(Q(c=>{let u=this.configFactory.get();return this.navigator.navigateByUrl(u.errorPath||"/"),this.authState.setError(c),ln(void 0)}))),zn(()=>{this.authState.setIsLoading(!1)}),jr(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(e){return Vn(this.auth0Client.loginWithRedirect(e))}loginWithPopup(e,i){return Vn(this.auth0Client.loginWithPopup(e,i).then(()=>{this.authState.refresh()}))}logout(e){return Vn(this.auth0Client.logout(e).then(()=>{(e?.openUrl===!1||e?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(e={}){return ln(this.auth0Client).pipe(Is(i=>e.detailedResponse===!0?i.getTokenSilently(we(se({},e),{detailedResponse:!0})):i.getTokenSilently(e)),zn(i=>{i&&this.authState.setAccessToken(typeof i=="string"?i:i.access_token)}),Q(i=>(this.authState.setError(i),this.authState.refresh(),Nt(i))))}getAccessTokenWithPopup(e){return ln(this.auth0Client).pipe(Is(i=>i.getTokenWithPopup(e)),zn(i=>{i&&this.authState.setAccessToken(i)}),Q(i=>(this.authState.setError(i),this.authState.refresh(),Nt(i))))}handleRedirectCallback(e){return Ur(()=>this.auth0Client.handleRedirectCallback(e)).pipe(ru(this.authState.isLoading$),zn(([i,s])=>{s||this.authState.refresh();let r=i?.appState,o=r?.target??"/";r&&this.appStateSubject$.next(r),this.navigator.navigateByUrl(o)}),Es(([i])=>i))}shouldHandleCallback(){return ln(location.search).pipe(Es(e=>{let i=new URLSearchParams(e);return(i.has("code")||i.has("error"))&&i.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return n.\u0275fac=function(e){return new(e||n)(Ge(kl),Ge(Vu),Ge(n_),Ge(s_))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r_=(()=>{class n{constructor(e){this.auth=e}canLoad(e,i){return this.auth.isAuthenticated$.pipe(iu(1))}canActivate(e,i){return this.redirectIfUnauthenticated(i)}canActivateChild(e,i){return this.redirectIfUnauthenticated(i)}redirectIfUnauthenticated(e){return this.auth.isAuthenticated$.pipe(zn(i=>{i||this.auth.loginWithRedirect({appState:{target:e.url}})}))}}return n.\u0275fac=function(e){return new(e||n)(Ge(mt))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zu=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[mt,r_,{provide:Lu,useValue:e},{provide:kl,useFactory:Ml.createClient,deps:[Vu]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=yt({}),n})();var gt=class n{constructor(t){this.http=t}apiUrl="https://api.bclone.ai/admin";updatePageSettings(t){return this.http.put(`${this.apiUrl+"/page-settings"}`,t).pipe(Q(this.errorHandler))}getPageSettings(t){return this.http.get(`${this.apiUrl}/page-settings?page=${t}`).pipe(Q(this.errorHandler))}getBasicInfo(){return this.http.get(`${this.apiUrl}/basicinfo`).pipe(Q(this.errorHandler))}getSettings(){return this.http.get(`${this.apiUrl}/settings`).pipe(Q(this.errorHandler))}updateSettings(t){return this.http.put(`${this.apiUrl}/settings`,t).pipe(Q(this.errorHandler))}getbasicDashboardStatistics(){return this.http.get(`${this.apiUrl}/basicDashboardStatistics`).pipe(Q(this.errorHandler))}errorHandler(t){return console.error("Error occurred:",t),Nt(t.message||"Server Error")}static \u0275fac=function(e){return new(e||n)(Ge(ii))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})};function o_(n,t){if(n&1&&(Li(0),_(1,"h1"),x(2),g(),Vi()),n&2){let e=V();M(2),le(e.basicinfo.homePageTitle)}}function a_(n,t){n&1&&(_(0,"h1"),x(1,"WELCOME"),g())}function l_(n,t){if(n&1){let e=ve();Li(0),_(1,"button",14),B("click",function(){ee(e);let s=V();return te(s.login())}),x(2,"Log in"),g(),Vi()}}var lo=class n{constructor(t,e,i,s,r){this.auth=t;this.router=e;this.adSettingsService=i;this.titleService=s;this.sanitizer=r}originUrl=document.location.origin;basicinfo=[];mainLogoUrl="";faviconUrl="";ngOnInit(){this.fetchAndStoreBasicInfo(),this.auth.isAuthenticated$&&this.checkAuthKeysExist()&&this.router.navigate([""])}fetchAndStoreBasicInfo(){this.adSettingsService.getBasicInfo().subscribe(t=>{this.basicinfo=t,localStorage.setItem("basicInfo",JSON.stringify(t)),this.basicinfo.appName?this.titleService.setTitle(this.basicinfo.appName):this.titleService.setTitle("Welcome"),this.basicinfo.websiteFaviconPath&&this.updateFavicon(this.basicinfo.websiteFaviconPath)},t=>{console.error("Error fetching basic info:",t)})}updateFavicon(t){let e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.querySelector("link[rel*='icon']")||document.head.appendChild(e)}login(){this.auth.loginWithRedirect()}checkAuthKeysExist(){let e=Object.keys(localStorage).filter(i=>i.startsWith("@@auth0spajs@@::"));return e.length>=2&&e.every(i=>localStorage.getItem(i))}static \u0275fac=function(e){return new(e||n)(T(mt),T(qe),T(gt),T(Ut),T(Hi))};static \u0275cmp=Z({type:n,selectors:[["app-login"]],decls:22,vars:7,consts:[["noData",""],[1,"login-page"],[1,"container-fluid"],[1,"row","vh-100","d-flex","justify-content-center","align-items-center"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","col-12","order-lg-1","order-2","d-flex","justify-content-center"],[1,"text-center","overlay-text"],[1,"mt-5"],[4,"ngIf","ngIfElse"],[1,"mt-4"],[4,"ngIf"],["id","terms-condition",1,"position-absolute","bottom-0","end-0","p-3"],["href","aboutus","target","_blank",1,"small","text-white"],["href","termsofuse","target","_blank",1,"small","text-white"],["href","privacypolicy","target","_blank",1,"small","text-white"],[1,"btn","btn-primary","col-12",3,"click"]],template:function(e,i){if(e&1&&(_(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),q(6,o_,3,1,"ng-container",7)(7,a_,2,0,"ng-template",null,0,Je),g(),_(9,"div",8),q(10,l_,3,0,"ng-container",9),kt(11,"async"),kt(12,"async"),g()()()()(),_(13,"div",10)(14,"a",11),x(15,"About Us "),g(),x(16," | "),_(17,"a",12),x(18,"Terms of use "),g(),x(19," | "),_(20,"a",13),x(21,"Privacy Policy"),g()()()),e&2){let s=Be(8);M(6),L("ngIf",i.basicinfo)("ngIfElse",s),M(4),L("ngIf",!Wi(11,3,i.auth.isLoading$)&&!Wi(12,5,i.auth.isAuthenticated$))}},dependencies:[Ie,Zr],styles:[".login-page[_ngcontent-%COMP%]{background-image:linear-gradient(#000000d0,#000000b0),url(https://pfm.ai/images/loginscreen.png),linear-gradient(180deg,#00c47c 24.58%,#c8ffb5 68.5%,#ffe4ae 82.3%);background-size:cover;background-repeat:no-repeat;background-position:bottom;width:100%;object-fit:contain;color:#fff}#terms-condition[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#terms-condition[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Wt=class n{constructor(t){this.http=t}apiUrl="https://api.bclone.ai/user";addUser(t,e){let i={name:t,emailAddress:e};return this.http.post(this.apiUrl+"/add",i).pipe(Q(this.errorHandler))}updateUser(t,e){return this.http.put(`${this.apiUrl+"/update"}/${t}`,e).pipe(Q(this.errorHandler))}createOrganization(t,e){let i={name:e};return this.http.post(`${this.apiUrl}/organization/add/${t}`,i).pipe(Q(this.errorHandler))}checkOrganization(t){return this.http.get(`${this.apiUrl}/organization/check/${t}`).pipe(Q(this.errorHandler))}addOrganizationMember(t,e,i){let s={organizationId:t,name:e,emailAddress:i};return this.http.post(`${this.apiUrl}/organization/members/add`,s).pipe(Q(this.errorHandler))}removeMember(t,e){return this.http.delete(`${this.apiUrl}/organization/${t}/member/${e}`).pipe(Q(this.errorHandler))}errorHandler(t){return console.error("Error occurred:",t),Nt(t.message||"Server Error")}static \u0275fac=function(e){return new(e||n)(Ge(ii))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})};var ri=class n{constructor(t){this.http=t}apiKey="5ff0fedbab61462d958d31c234c6a31f";rootURL3="https://api.michaelthehomebuyer.ca/";apiUrl="https://api.bclone.ai/conversation/";dialogflowAPI="https://api.michaelthehomebuyer.ca/";getResponseFromChatbot(t,e,i,s,r,o){return this.http.post(this.apiUrl+"chat",{userId:t,message:e,temperature:i,isOwner:s,threadId:r,conversationId:o}).pipe(Q(this.errorHandler))}getAllChatsByUserId(t){return this.http.get(`${this.apiUrl}user/${t}`).pipe(Q(this.errorHandler))}addConversation(t,e,i){return this.http.post(`${this.apiUrl}add`,{userId:t,assistantId:e,conversationName:i}).pipe(Q(this.errorHandler))}addMessageToConversation(t,e,i){return this.http.post(`${this.apiUrl}add`,{conversationId:t,userId:e,assistantId:i}).pipe(Q(this.errorHandler))}getConversation(t,e){return this.http.get(`${this.apiUrl}${t}?userId=${e}`).pipe(Q(this.errorHandler))}exportConversation(t,e){return this.http.get(`${this.apiUrl}export/${t}?userId=${e}`,{responseType:"blob"}).pipe(Q(this.errorHandler))}exportConversations(t,e,i){return console.log(`Exporting conversations from ${t} to ${e} for userId: ${i}`),this.http.get(`${this.apiUrl}export/bydate/${t}/${e}/${i||""}`,{responseType:"blob"})}deleteConversation(t){return this.http.delete(`${this.apiUrl}${t}`).pipe(Q(this.errorHandler))}errorHandler(t){return console.error(t),Nt(t.message||"Server Error")}static \u0275fac=function(e){return new(e||n)(Ge(ii))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})};var c_=["overlay"],d_=["*"];function u_(n,t){n&1&&R(0,"div")}function h_(n,t){if(n&1&&(_(0,"div"),q(1,u_,1,0,"div",6),g()),n&2){let e=V(2);Wn(e.spinner.class),Yr("color",e.spinner.color),M(),L("ngForOf",e.spinner.divArray)}}function f_(n,t){if(n&1&&(R(0,"div",7),kt(1,"safeHtml")),n&2){let e=V(2);L("innerHTML",Wi(1,1,e.template),Ct)}}function p_(n,t){if(n&1&&(_(0,"div",2,0),q(2,h_,2,5,"div",3)(3,f_,2,3,"div",4),_(4,"div",5),lu(5),g()()),n&2){let e=V();Yr("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),L("@.disabled",e.disableAnimation)("@fadeIn","in"),M(2),L("ngIf",!e.template),M(),L("ngIf",e.template),M(),Yr("z-index",e.spinner.zIndex)}}var m_={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Dl={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},El="primary",gn=class n{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(t)}},me=(()=>{class n{constructor(){this.spinnerObservable=new Vr(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Os(i=>i&&i.name===e))}show(e=El,i){return new Promise((s,r)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new gn(we(se({},i),{show:!0}))),s(!0)):(this.spinnerObservable.next(new gn({name:e,show:!0})),s(!0))},10)})}hide(e=El,i=10){return new Promise((s,r)=>{setTimeout(()=>{this.spinnerObservable.next(new gn({name:e,show:!1})),s(!0)},i)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uu=new Zt("NGX_SPINNER_CONFIG"),g_=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(i){return new(i||n)(T(Hi,16))}}static{this.\u0275pipe=ou({name:"safeHtml",type:n,pure:!0,standalone:!0})}}return n})(),Wu=(()=>{class n{constructor(e,i,s,r){this.spinnerService=e,this.changeDetector=i,this.elementRef=s,this.globalConfig=r,this.disableAnimation=!1,this.spinner=new gn,this.ngUnsubscribe=new wi,this.setDefaultOptions=()=>{let{type:o}=this.globalConfig??{};this.spinner=gn.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=Dl.BD_COLOR,this.zIndex=Dl.Z_INDEX,this.color=Dl.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=El,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(jr(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let i in e)if(i){let s=e[i];if(s.isFirstChange())return;typeof s.currentValue<"u"&&s.currentValue!==s.previousValue&&s.currentValue!==""&&(this.spinner[i]=s.currentValue,i==="showSpinner"&&(s.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),i==="name"&&this.initObservable())}}getClass(e,i){this.spinner.divCount=m_[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((r,o)=>o);let s="";switch(i.toLowerCase()){case"small":s="la-sm";break;case"medium":s="la-2x";break;case"large":s="la-3x";break;default:break}return"la-"+e+" "+s}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(i){return new(i||n)(T(me),T(Gr),T(dn),T(Uu,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["ngx-spinner"]],viewQuery:function(i,s){if(i&1&&jn(c_,5),i&2){let r;Hn(r=Bn())&&(s.spinnerDOM=r.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[cn,du],ngContentSelectors:d_,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,s){i&1&&(au(),q(0,p_,6,12,"div",1)),i&2&&L("ngIf",s.spinner.show)},dependencies:[g_,Ie,ft],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[_u("fadeIn",[yu("in",Jr({opacity:1})),fl(":enter",[Jr({opacity:0}),hl(300)]),fl(":leave",hl(200,Jr({opacity:0})))])]},changeDetection:0})}}return n})(),ju=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Uu,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=vt({type:n})}static{this.\u0275inj=yt({imports:[Xr]})}}return n})();var b_=(n,t,e,i)=>({"fa-times-circle":n,"fa-check-circle":t,"fa-exclamation-circle":e,"fa-info-circle":i});function __(n,t){if(n&1){let e=ve();_(0,"button",5),B("click",function(){ee(e);let s=V();return te(s.closeToast())}),x(1,"\xD7"),g()}}var Fe=(()=>{class n{constructor(){this.toastDetails$=new wi}getToastDetails(){return this.toastDetails$.asObservable()}success(e){this.toastDetails$.next({type:"success",detail:e.detail,position:e.position,summary:e.summary,duration:e.duration,sticky:e.sticky})}error(e){this.toastDetails$.next({type:"error",detail:e.detail,position:e.position,summary:e.summary,duration:e.duration,sticky:e.sticky})}info(e){this.toastDetails$.next({type:"info",detail:e.detail,position:e.position,summary:e.summary,duration:e.duration,sticky:e.sticky})}warning(e){this.toastDetails$.next({type:"warning",detail:e.detail,summary:e.summary,position:e.position,duration:e.duration,sticky:e.sticky})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hu=(()=>{class n{constructor(e){this.toastService=e,this.show=!1}ngOnInit(){this.toastService.getToastDetails().subscribe(e=>{this.show=!0,clearTimeout(this.timeoutRef),this.toastDetails=e,this.toastDetails.duration&&(this.timeoutRef=setTimeout(()=>{this.show=!1},this.toastDetails.duration)),this.toastDetails.sticky&&(clearTimeout(this.timeoutRef),this.show=!0),!this.toastDetails.duration&&!this.toastDetails.sticky&&(this.timeoutRef=setTimeout(()=>{this.show=!1},5e3))})}closeToast(){clearTimeout(this.timeoutRef),this.show=!1}loadPosition(){let e="";if(this.toastDetails?.position!==void 0)switch(this.toastDetails.position){case"tr":e="toast-right-top";break;case"tl":e="toast-left-top";break;case"br":e="toast-right-bottom";break;case"bl":e="toast-left-bottom";break;default:e="toast-right-top"}else e="toast-right-top";if(this.toastDetails?.type!==void 0)switch(this.toastDetails.type){case"success":e=e+" success";break;case"error":e=e+" error";break;case"info":e=e+" info";break;case"warning":e=e+" warning";break;default:e="toast-right-top"}return e}}return n.\u0275fac=function(e){return new(e||n)(T(Fe))},n.\u0275cmp=Z({type:n,selectors:[["lib-ng-toast"]],decls:9,vars:12,consts:[[3,"ngClass"],[1,"container-1"],[1,"fa",3,"ngClass"],[1,"container-2"],["id","close",3,"click",4,"ngIf"],["id","close",3,"click"]],template:function(e,i){e&1&&(_(0,"div",0)(1,"div",1),R(2,"i",2),g(),_(3,"div",3)(4,"p"),x(5),g(),_(6,"p"),x(7),g()(),q(8,__,2,0,"button",4),g()),e&2&&(Ns("active",i.show),L("ngClass",i.loadPosition()),M(2),L("ngClass",uu(7,b_,(i.toastDetails==null?null:i.toastDetails.type)==="error",(i.toastDetails==null?null:i.toastDetails.type)==="success",(i.toastDetails==null?null:i.toastDetails.type)==="warning",(i.toastDetails==null?null:i.toastDetails.type)==="info")),M(3),le(i.toastDetails==null?null:i.toastDetails.detail),M(2),le(i.toastDetails==null?null:i.toastDetails.summary),M(),L("ngIf",i.show))},dependencies:[qr,Ie],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;border:none}.show-toast[_ngcontent-%COMP%]{margin:10px;background-color:#101020;color:#fff;padding:20px;border-radius:5px;cursor:pointer}.toast-right-top[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;right:1%;top:5%;transform:translate(400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-right-top.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-right-top.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-right-top.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-right-top.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-right-top.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-right-bottom[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;right:1%;bottom:5%;transform:translate(400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-right-bottom.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-right-bottom.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-right-bottom.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-right-bottom.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-right-bottom.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-left-top[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;left:1%;top:5%;transform:translate(-400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-left-top.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-left-top.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-left-top.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-left-top.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-left-top.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-left-bottom[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;left:1%;bottom:5%;transform:translate(-400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-left-bottom.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-left-bottom.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-left-bottom.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-left-bottom.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-left-bottom.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.container-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px}.fa-times-circle[_ngcontent-%COMP%]{color:#ff355b}.fa-check-circle[_ngcontent-%COMP%]{color:#47d764}.fa-exclamation-circle[_ngcontent-%COMP%]{color:#ffc021}.fa-info-circle[_ngcontent-%COMP%]{color:#2f86eb}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#101020;font-weight:600;font-size:16px;font-family:roboto,sans-serif}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:14px;color:#656565;font-weight:400;font-family:roboto,sans-serif}#close[_ngcontent-%COMP%]{align-self:flex-start;background-color:transparent;font-size:25px;line-height:0;color:#656565;cursor:pointer}"]}),n})(),Bu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=yt({imports:[Xr]}),n})();var eh=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(T(Ts),T(dn))}}static{this.\u0275dir=ht({type:n})}}return n})(),_o=(()=>{class n extends eh{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Un(n)))(s||n)}})()}static{this.\u0275dir=ht({type:n,features:[Kt]})}}return n})(),Gs=new Zt(""),y_={provide:Gs,useExisting:Fi(()=>Il),multi:!0},Il=(()=>{class n extends _o{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Un(n)))(s||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&B("change",function(o){return s.onChange(o.target.checked)})("blur",function(){return s.onTouched()})},features:[Ui([y_]),Kt]})}}return n})(),v_={provide:Gs,useExisting:Fi(()=>_e),multi:!0};function x_(){let n=ul()?ul().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var w_=new Zt(""),_e=(()=>{class n extends eh{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!x_())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(T(Ts),T(dn),T(w_,8))}}static{this.\u0275dir=ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&B("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Ui([v_]),Kt]})}}return n})();function S_(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Al=new Zt(""),th=new Zt("");function C_(n){return S_(n.value)?{required:!0}:null}function Yu(n){return null}function ih(n){return n!=null}function nh(n){return fu(n)?Vn(n):n}function sh(n){let t={};return n.forEach(e=>{t=e!=null?se(se({},t),e):t}),Object.keys(t).length===0?null:t}function rh(n,t){return t.map(e=>e(n))}function M_(n){return!n.validate}function oh(n){return n.map(t=>M_(t)?t:e=>t.validate(e))}function k_(n){if(!n)return null;let t=n.filter(ih);return t.length==0?null:function(e){return sh(rh(e,t))}}function Tl(n){return n!=null?k_(oh(n)):null}function D_(n){if(!n)return null;let t=n.filter(ih);return t.length==0?null:function(e){let i=rh(e,t).map(nh);return Qd(i).pipe(Es(sh))}}function Pl(n){return n!=null?D_(oh(n)):null}function $u(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function E_(n){return n._rawValidators}function O_(n){return n._rawAsyncValidators}function Ol(n){return n?Array.isArray(n)?n:[n]:[]}function ho(n,t){return Array.isArray(n)?n.includes(t):n===t}function Gu(n,t){let e=Ol(t);return Ol(n).forEach(s=>{ho(e,s)||e.push(s)}),e}function qu(n,t){return Ol(t).filter(e=>!ho(n,e))}var fo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Tl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Kn=class extends fo{get formDirective(){return null}get path(){return null}},$s=class extends fo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},po=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},I_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TM=we(se({},I_),{"[class.ng-submitted]":"isSubmitted"}),Se=(()=>{class n extends po{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(T($s,2))}}static{this.\u0275dir=ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ns("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Kt]})}}return n})(),Ue=(()=>{class n extends po{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(T(Kn,10))}}static{this.\u0275dir=ht({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ns("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Kt]})}}return n})();var Ws="VALID",uo="INVALID",qn="PENDING",js="DISABLED",Xn=class{},mo=class extends Xn{constructor(t,e){super(),this.value=t,this.source=e}},Bs=class extends Xn{constructor(t,e){super(),this.pristine=t,this.source=e}},Ys=class extends Xn{constructor(t,e){super(),this.touched=t,this.source=e}},Zn=class extends Xn{constructor(t,e){super(),this.status=t,this.source=e}};function ah(n){return(yo(n)?n.validators:n)||null}function A_(n){return Array.isArray(n)?Tl(n):n||null}function lh(n,t){return(yo(t)?t.asyncValidators:n)||null}function T_(n){return Array.isArray(n)?Pl(n):n||null}function yo(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function P_(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Hr(1e3,"");if(!i[e])throw new Hr(1001,"")}function N_(n,t,e){n._forEachChild((i,s)=>{if(e[s]===void 0)throw new Hr(1002,"")})}var go=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fs(()=>this.statusReactive()),this.statusReactive=Ps(void 0),this._pristine=Fs(()=>this.pristineReactive()),this.pristineReactive=Ps(!0),this._touched=Fs(()=>this.touchedReactive()),this.touchedReactive=Ps(!1),this._events=new wi,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ji(this.statusReactive)}set status(t){ji(()=>this.statusReactive.set(t))}get valid(){return this.status===Ws}get invalid(){return this.status===uo}get pending(){return this.status==qn}get disabled(){return this.status===js}get enabled(){return this.status!==js}get pristine(){return ji(this.pristineReactive)}set pristine(t){ji(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return ji(this.touchedReactive)}set touched(t){ji(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Gu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Gu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qu(t,this._rawAsyncValidators))}hasValidator(t){return ho(this._rawValidators,t)}hasAsyncValidator(t){return ho(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(we(se({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Ys(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Ys(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(we(se({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Bs(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Bs(!0,i))}markAsPending(t={}){this.status=qn;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zn(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(we(se({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=js,this.errors=null,this._forEachChild(s=>{s.disable(we(se({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mo(this.value,i)),this._events.next(new Zn(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(se({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ws,this._forEachChild(i=>{i.enable(we(se({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(we(se({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ws||this.status===qn)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mo(this.value,e)),this._events.next(new Zn(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(we(se({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?js:Ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=qn,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=nh(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,s)=>i&&i._find(s),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Zn(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new As,this.statusChanges=new As}_calculateStatus(){return this._allControlsDisabled()?js:this.errors?uo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qn)?qn:this._anyControlsHaveStatus(uo)?uo:Ws}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),s=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),s&&this._events.next(new Bs(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ys(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yo(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=A_(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=T_(this._rawAsyncValidators)}},bo=class extends go{constructor(t,e,i){super(ah(e),lh(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){N_(this,!0,t),Object.keys(t).forEach(i=>{P_(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let s=this.controls[i];s&&s.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t?t[s]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,s)=>((i.enabled||this.disabled)&&(e[s]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Nl=new Zt("CallSetDisabledState",{providedIn:"root",factory:()=>Rl}),Rl="always";function R_(n,t){return[...t.path,n]}function ch(n,t,e=Rl){dh(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),L_(n,t),z_(n,t),V_(n,t),F_(n,t)}function Zu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function F_(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function dh(n,t){let e=E_(n);t.validator!==null?n.setValidators($u(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=O_(n);t.asyncValidator!==null?n.setAsyncValidators($u(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let s=()=>n.updateValueAndValidity();Zu(t._rawValidators,s),Zu(t._rawAsyncValidators,s)}function L_(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&uh(n,t)})}function V_(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&uh(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function uh(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z_(n,t){let e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function U_(n,t){n==null,dh(n,t)}function W_(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function j_(n){return Object.getPrototypeOf(n.constructor)===_o}function H_(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function B_(n,t){if(!t)return null;Array.isArray(t);let e,i,s;return t.forEach(r=>{r.constructor===_e?e=r:j_(r)?i=r:s=r}),s||i||e||null}var Y_={provide:Kn,useExisting:Fi(()=>Le)},Hs=Promise.resolve(),Le=(()=>{class n extends Kn{get submitted(){return ji(this.submittedReactive)}constructor(e,i,s){super(),this.callSetDisabledState=s,this._submitted=Fs(()=>this.submittedReactive()),this.submittedReactive=Ps(!1),this._directives=new Set,this.ngSubmit=new As,this.form=new bo({},Tl(e),Pl(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Hs.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ch(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Hs.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Hs.then(()=>{let i=this._findContainer(e.path),s=new bo({});U_(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Hs.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Hs.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),H_(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(T(Al,10),T(th,10),T(Nl,8))}}static{this.\u0275dir=ht({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&B("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ui([Y_]),Kt]})}}return n})();function Ku(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Xu(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var $_=class extends go{constructor(t=null,e,i){super(ah(e),lh(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yo(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Xu(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ku(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ku(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Xu(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var G_={provide:$s,useExisting:Fi(()=>xe)},Ju=Promise.resolve(),xe=(()=>{class n extends $s{constructor(e,i,s,r,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new $_,this._registered=!1,this.name="",this.update=new As,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=B_(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),W_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ch(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ju.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,s=i!==0&&dl(i);Ju.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?R_(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(T(Kn,9),T(Al,10),T(th,10),T(Gs,10),T(Gr,8),T(Nl,8))}}static{this.\u0275dir=ht({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ui([G_]),Kt,cn]})}}return n})(),We=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ht({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var q_={provide:Gs,useExisting:Fi(()=>vo),multi:!0};function hh(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Z_(n){return n.split(":")[0]}var vo=(()=>{class n extends _o{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),s=hh(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Z_(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Un(n)))(s||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&B("change",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ui([q_]),Kt]})}}return n})(),fh=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(hh(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(T(dn),T(Ts),T(vo,9))}}static{this.\u0275dir=ht({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),K_={provide:Gs,useExisting:Fi(()=>ph),multi:!0};function Qu(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function X_(n){return n.split(":")[0]}var ph=(()=>{class n extends _o{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let s=[],r=i.selectedOptions;if(r!==void 0){let o=r;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);s.push(u)}}else{let o=i.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,e(s)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=X_(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Un(n)))(s||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&B("change",function(o){return s.onChange(o.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ui([K_]),Kt]})}}return n})(),mh=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Qu(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Qu(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(T(dn),T(Ts),T(ph,9))}}static{this.\u0275dir=ht({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var J_=(()=>{class n{constructor(){this._validator=Yu}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Yu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ht({type:n,features:[cn]})}}return n})();var Q_={provide:Al,useExisting:Fi(()=>St),multi:!0};var St=(()=>{class n extends J_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=dl,this.createValidator=e=>C_}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Un(n)))(s||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Br("required",s._enabled?"":null)},inputs:{required:"required"},features:[Ui([Q_]),Kt]})}}return n})();var ey=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=vt({type:n})}static{this.\u0275inj=yt({})}}return n})();var gh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Nl,useValue:e.callSetDisabledState??Rl}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=vt({type:n})}static{this.\u0275inj=yt({imports:[ey]})}}return n})();function ty(n,t){if(n&1&&(_(0,"a",21),x(1),g()),n&2){let e=V(2);M(),le(e.userData.appName)}}function iy(n,t){if(n&1&&(_(0,"a",22),R(1,"img",23),g()),n&2){let e=V(2);M(),Mt("src",e.userData.appLogo,nt)}}function ny(n,t){n&1&&(_(0,"li",10)(1,"a",24),x(2,"Dashboard"),g()())}function sy(n,t){n&1&&(_(0,"li")(1,"a",25),x(2,"Integrate Website"),g()())}function ry(n,t){if(n&1){let e=ve();_(0,"li")(1,"button",26),B("click",function(){ee(e);let s=V(2);return te(s.logout())}),R(2,"i",27),x(3," Sign Out "),g()()}}function oy(n,t){if(n&1&&(_(0,"header",1)(1,"div",2),q(2,ty,2,1,"a",3)(3,iy,2,1,"a",4),_(4,"button",5),R(5,"span",6),g(),_(6,"div",7)(7,"ul",8),q(8,ny,3,0,"li",9),_(9,"li",10)(10,"a",11),x(11,"New Chat"),g()()(),_(12,"div",12)(13,"a",13),R(14,"img",14),g(),_(15,"ul",15)(16,"li")(17,"span",16),x(18),g()(),_(19,"li"),R(20,"hr",17),g(),_(21,"li")(22,"a",18),x(23,"Export Chats"),g()(),q(24,sy,3,0,"li",19),_(25,"li")(26,"a",20),x(27,"Settings"),g()(),q(28,ry,4,0,"li",19),kt(29,"async"),g()()()()()),n&2){let e=t.ngIf,i=V();M(2),L("ngIf",i.userData.appLogo==null),M(),L("ngIf",i.userData.appLogo!=null),M(5),L("ngIf",i.userData.isOwner),M(6),Mt("src",e.picture,nt),M(4),ce("Welcome: ",e.name,""),M(6),L("ngIf",i.userData.isOwner),M(4),L("ngIf",Wi(29,7,i.auth.isAuthenticated$))}}var ot=class n{constructor(t,e,i,s){this.auth=t;this.router=e;this.userService=i;this.titleService=s}userData=[];ngOnInit(){this.auth.isAuthenticated$.subscribe(t=>{!t&&!this.checkAuthKeysExist()?this.router.navigate(["login"]):t&&this.auth.user$.subscribe(e=>{e&&e.name&&e.email&&this.userService.addUser(e.name,e.email).subscribe({next:i=>{if(i.isSuccessful){this.userData=i.result.user;let s=we(se({},i.result.user),{organization:i.result.organization,gptAssistant:i.result.gptAssistant});localStorage.setItem("user",JSON.stringify(s)),this.userData&&this.userData.appName&&this.userData.appName!==""?this.titleService.setTitle(this.userData.appName):this.titleService.setTitle("Welcome"),this.userData.appLogo&&this.updateFavicon(this.userData.appLogo)}else console.error("User addition failed:",i)},error:i=>{console.error("API error:",i)}})})})}updateFavicon(t){let e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.querySelector("link[rel*='icon']")||document.head.appendChild(e)}checkAuthKeysExist(){let e=Object.keys(localStorage).filter(i=>i.startsWith("@@auth0spajs@@::"));return e.length>=2&&e.every(i=>localStorage.getItem(i))}logout(){return J(this,null,function*(){localStorage.removeItem("user"),this.auth.logout({logoutParams:{returnTo:window.location.origin+"/login"}})})}static \u0275fac=function(e){return new(e||n)(T(mt),T(qe),T(Wt),T(Ut))};static \u0275cmp=Z({type:n,selectors:[["app-navbar"]],decls:2,vars:3,consts:[["class","navbar navbar-expand-lg navbar-light bg-white sticky-top p-2 border-bottom",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-white","sticky-top","p-2","border-bottom"],[1,"container-fluid"],["class","navbar-brand","href","#",4,"ngIf"],["href","/","class","d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none logo",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["href","",1,"nav-link","px-2","link-dark"],[1,"dropdown","text-start","ms-lg-3"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","link-dark","text-decoration-none","dropdown-toggle"],["alt","user avatar","width","42","height","42",1,"rounded-circle",3,"src"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small","dropdown-menu-end"],[1,"dropdown-item"],[1,"dropdown-divider"],["href","/exportchats",1,"dropdown-item"],[4,"ngIf"],["href","/settings",1,"dropdown-item"],["href","#",1,"navbar-brand"],["href","/",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none","logo"],["width","50px","alt","",3,"src"],["href","dashboard",1,"nav-link","px-2","link-dark"],["href","/integrate-website",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out"]],template:function(e,i){e&1&&(q(0,oy,30,9,"header",0),kt(1,"async")),e&2&&L("ngIf",Wi(1,1,i.auth.user$))},dependencies:[Ie,Zr]})};function Vl(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _n=Vl();function wh(n){_n=n}var Sh=/[&<>"']/,ay=new RegExp(Sh.source,"g"),Ch=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ly=new RegExp(Ch.source,"g"),cy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bh=n=>cy[n];function Ft(n,t){if(t){if(Sh.test(n))return n.replace(ay,bh)}else if(Ch.test(n))return n.replace(ly,bh);return n}var dy=/(^|[^\[])\^/g;function De(n,t){let e=typeof n=="string"?n:n.source;t=t||"";let i={replace:(s,r)=>{let o=typeof r=="string"?r:r.source;return o=o.replace(dy,"$1"),e=e.replace(s,o),i},getRegex:()=>new RegExp(e,t)};return i}function _h(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var Ks={exec:()=>null};function yh(n,t){let e=n.replace(/\|/g,(r,o,a)=>{let c=!1,u=o;for(;--u>=0&&a[u]==="\\";)c=!c;return c?"|":" |"}),i=e.split(/ \|/),s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function qs(n,t,e){let i=n.length;if(i===0)return"";let s=0;for(;s<i;){let r=n.charAt(i-s-1);if(r===t&&!e)s++;else if(r!==t&&e)s++;else break}return n.slice(0,i-s)}function uy(n,t){if(n.indexOf(t[1])===-1)return-1;let e=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===t[0])e++;else if(n[i]===t[1]&&(e--,e<0))return i;return-1}function vh(n,t,e,i){let s=t.href,r=t.title?Ft(t.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;let a={type:"link",raw:e,href:s,title:r,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,a}return{type:"image",raw:e,href:s,title:r,text:Ft(o)}}function hy(n,t){let e=n.match(/^(\s+)(?:```)/);if(e===null)return t;let i=e[1];return t.split(`
`).map(s=>{let r=s.match(/^\s+/);if(r===null)return s;let[o]=r;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Qn=class{options;rules;lexer;constructor(t){this.options=t||_n}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let i=e[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:qs(i,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let i=e[0],s=hy(i,e[3]||"");return{type:"code",raw:i,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let i=e[2].trim();if(/#$/.test(i)){let s=qs(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:qs(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let i=qs(e[0],`
`).split(`
`),s="",r="",o=[];for(;i.length>0;){let a=!1,c=[],u;for(u=0;u<i.length;u++)if(/^ {0,3}>/.test(i[u]))c.push(i[u]),a=!0;else if(!a)c.push(i[u]);else break;i=i.slice(u);let h=c.join(`
`),p=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");s=s?`${s}
${h}`:h,r=r?`${r}
${p}`:p;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=b,i.length===0)break;let y=o[o.length-1];if(y?.type==="code")break;if(y?.type==="blockquote"){let v=y,S=v.raw+`
`+i.join(`
`),C=this.blockquote(S);o[o.length-1]=C,s=s.substring(0,s.length-v.raw.length)+C.raw,r=r.substring(0,r.length-v.text.length)+C.text;break}else if(y?.type==="list"){let v=y,S=v.raw+`
`+i.join(`
`),C=this.list(S);o[o.length-1]=C,s=s.substring(0,s.length-y.raw.length)+C.raw,r=r.substring(0,r.length-v.raw.length)+C.raw,i=S.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i=e[1].trim(),s=i.length>1,r={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");let o=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),a=!1;for(;t;){let c=!1,u="",h="";if(!(e=o.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let p=e[2].split(`
`,1)[0].replace(/^\t+/,D=>" ".repeat(3*D.length)),b=t.split(`
`,1)[0],y=!p.trim(),v=0;if(this.options.pedantic?(v=2,h=p.trimStart()):y?v=e[1].length+1:(v=e[2].search(/[^ ]/),v=v>4?1:v,h=p.slice(v),v+=e[1].length),y&&/^[ \t]*$/.test(b)&&(u+=b+`
`,t=t.substring(b.length+1),c=!0),!c){let D=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),E=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),I=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),O=new RegExp(`^ {0,${Math.min(3,v-1)}}#`),A=new RegExp(`^ {0,${Math.min(3,v-1)}}<[a-z].*>`,"i");for(;t;){let N=t.split(`
`,1)[0],U;if(b=N,this.options.pedantic?(b=b.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),U=b):U=b.replace(/\t/g,"    "),I.test(b)||O.test(b)||A.test(b)||D.test(b)||E.test(b))break;if(U.search(/[^ ]/)>=v||!b.trim())h+=`
`+U.slice(v);else{if(y||p.replace(/\t/g,"    ").search(/[^ ]/)>=4||I.test(p)||O.test(p)||E.test(p))break;h+=`
`+b}!y&&!b.trim()&&(y=!0),u+=N+`
`,t=t.substring(N.length+1),p=U.slice(v)}}r.loose||(a?r.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(a=!0));let S=null,C;this.options.gfm&&(S=/^\[[ xX]\] /.exec(h),S&&(C=S[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),r.items.push({type:"list_item",raw:u,task:!!S,checked:C,loose:!1,text:h,tokens:[]}),r.raw+=u}r.items[r.items.length-1].raw=r.items[r.items.length-1].raw.trimEnd(),r.items[r.items.length-1].text=r.items[r.items.length-1].text.trimEnd(),r.raw=r.raw.trimEnd();for(let c=0;c<r.items.length;c++)if(this.lexer.state.top=!1,r.items[c].tokens=this.lexer.blockTokens(r.items[c].text,[]),!r.loose){let u=r.items[c].tokens.filter(p=>p.type==="space"),h=u.length>0&&u.some(p=>/\n.*\n/.test(p.raw));r.loose=h}if(r.loose)for(let c=0;c<r.items.length;c++)r.items[c].loose=!0;return r}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let i=e[1].toLowerCase().replace(/\s+/g," "),s=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:i,raw:e[0],href:s,title:r}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!/[:|]/.test(e[2]))return;let i=yh(e[1]),s=e[2].replace(/^\||\| *$/g,"").split("|"),r=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(i.length===s.length){for(let a of s)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<i.length;a++)o.header.push({text:i[a],tokens:this.lexer.inline(i[a]),header:!0,align:o.align[a]});for(let a of r)o.rows.push(yh(a,o.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[u]})));return o}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let i=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Ft(e[1])}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let i=e[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;let o=qs(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=uy(e[2],"()");if(o>-1){let c=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let s=e[2],r="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],r=o[3])}else r=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),vh(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let s=(i[2]||i[1]).replace(/\s+/g," "),r=e[s.toLowerCase()];if(!r){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return vh(i,r,i[0],this.lexer)}}emStrong(t,e,i=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!i||this.rules.inline.punctuation.exec(i)){let o=[...s[0]].length-1,a,c,u=o,h=0,p=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*t.length+o);(s=p.exec(e))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(c=[...a].length,s[3]||s[4]){u+=c;continue}else if((s[5]||s[6])&&o%3&&!((o+c)%3)){h+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+h);let b=[...s[0]][0].length,y=t.slice(0,o+s.index+b+c);if(Math.min(o,c)%2){let S=y.slice(1,-1);return{type:"em",raw:y,text:S,tokens:this.lexer.inlineTokens(S)}}let v=y.slice(2,-2);return{type:"strong",raw:y,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let i=e[2].replace(/\n/g," "),s=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return s&&r&&(i=i.substring(1,i.length-1)),i=Ft(i,!0),{type:"codespan",raw:e[0],text:i}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let i,s;return e[2]==="@"?(i=Ft(e[1]),s="mailto:"+i):(i=Ft(e[1]),s=i),{type:"link",raw:e[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let i,s;if(e[2]==="@")i=Ft(e[0]),s="mailto:"+i;else{let r;do r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(r!==e[0]);i=Ft(e[0]),e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let i;return this.lexer.state.inRawBlock?i=e[0]:i=Ft(e[0]),{type:"text",raw:e[0],text:i}}}},fy=/^(?:[ \t]*(?:\n|$))+/,py=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,my=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Js=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gy=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Mh=/(?:[*+-]|\d{1,9}[.)])/,kh=De(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Mh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),zl=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,by=/^[^\n]+/,Ul=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_y=De(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ul).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),yy=De(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Mh).getRegex(),So="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wl=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vy=De("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Wl).replace("tag",So).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dh=De(zl).replace("hr",Js).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",So).getRegex(),xy=De(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Dh).getRegex(),jl={blockquote:xy,code:py,def:_y,fences:my,heading:gy,hr:Js,html:vy,lheading:kh,list:yy,newline:fy,paragraph:Dh,table:Ks,text:by},xh=De("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Js).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",So).getRegex(),wy=we(se({},jl),{table:xh,paragraph:De(zl).replace("hr",Js).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xh).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",So).getRegex()}),Sy=we(se({},jl),{html:De(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Wl).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ks,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:De(zl).replace("hr",Js).replace("heading",` *#{1,6} *[^
]`).replace("lheading",kh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),Eh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Cy=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Oh=/^( {2,}|\\)\n(?!\s*$)/,My=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qs="\\p{P}\\p{S}",ky=De(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Qs).getRegex(),Dy=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Ey=De(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Qs).getRegex(),Oy=De("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Qs).getRegex(),Iy=De("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Qs).getRegex(),Ay=De(/\\([punct])/,"gu").replace(/punct/g,Qs).getRegex(),Ty=De(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Py=De(Wl).replace("(?:-->|$)","-->").getRegex(),Ny=De("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Py).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),wo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ry=De(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",wo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ih=De(/^!?\[(label)\]\[(ref)\]/).replace("label",wo).replace("ref",Ul).getRegex(),Ah=De(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ul).getRegex(),Fy=De("reflink|nolink(?!\\()","g").replace("reflink",Ih).replace("nolink",Ah).getRegex(),Hl={_backpedal:Ks,anyPunctuation:Ay,autolink:Ty,blockSkip:Dy,br:Oh,code:Cy,del:Ks,emStrongLDelim:Ey,emStrongRDelimAst:Oy,emStrongRDelimUnd:Iy,escape:Eh,link:Ry,nolink:Ah,punctuation:ky,reflink:Ih,reflinkSearch:Fy,tag:Ny,text:My,url:Ks},Ly=we(se({},Hl),{link:De(/^!?\[(label)\]\((.*?)\)/).replace("label",wo).getRegex(),reflink:De(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wo).getRegex()}),Fl=we(se({},Hl),{escape:De(Eh).replace("])","~|])").getRegex(),url:De(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Vy=we(se({},Fl),{br:De(Oh).replace("{2,}","*").getRegex(),text:De(Fl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),xo={normal:jl,gfm:wy,pedantic:Sy},Zs={normal:Hl,gfm:Fl,breaks:Vy,pedantic:Ly},Xt=class n{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||_n,this.options.tokenizer=this.options.tokenizer||new Qn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={block:xo.normal,inline:Zs.normal};this.options.pedantic?(e.block=xo.pedantic,e.inline=Zs.pedantic):this.options.gfm&&(e.block=xo.gfm,this.options.breaks?e.inline=Zs.breaks:e.inline=Zs.gfm),this.tokenizer.rules=e}static get rules(){return{block:xo,inline:Zs}}static lex(t,e){return new n(e).lex(t)}static lexInline(t,e){return new n(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let i=this.inlineQueue[e];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],i=!1){this.options.pedantic&&(t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""));let s,r,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(s=a.call({lexer:this},t,e))?(t=t.substring(s.raw.length),e.push(s),!0):!1))){if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length),s.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),e.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),e.push(s);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,c=t.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},c),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=t.substring(0,a+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){r=e[e.length-1],i&&r?.type==="paragraph"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(s),i=o.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(s);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let i,s,r,o=t,a,c,u;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(i=h.call({lexer:this},t,e))?(t=t.substring(i.raw.length),e.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),s=e[e.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):e.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),s=e[e.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):e.push(i);continue}if(i=this.tokenizer.emStrong(t,o,u)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.autolink(t)){t=t.substring(i.raw.length),e.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t))){t=t.substring(i.raw.length),e.push(i);continue}if(r=t,this.options.extensions&&this.options.extensions.startInline){let h=1/0,p=t.slice(1),b;this.options.extensions.startInline.forEach(y=>{b=y.call({lexer:this},p),typeof b=="number"&&b>=0&&(h=Math.min(h,b))}),h<1/0&&h>=0&&(r=t.substring(0,h+1))}if(i=this.tokenizer.inlineText(r)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(u=i.raw.slice(-1)),c=!0,s=e[e.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):e.push(i);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return e}},es=class{options;parser;constructor(t){this.options=t||_n}space(t){return""}code({text:t,lang:e,escaped:i}){let s=(e||"").match(/^\S*/)?.[0],r=t.replace(/\n$/,"")+`
`;return s?'<pre><code class="language-'+Ft(s)+'">'+(i?r:Ft(r,!0))+`</code></pre>
`:"<pre><code>"+(i?r:Ft(r,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,i=t.start,s="";for(let a=0;a<t.items.length;a++){let c=t.items[a];s+=this.listitem(c)}let r=e?"ol":"ul",o=e&&i!==1?' start="'+i+'"':"";return"<"+r+o+`>
`+s+"</"+r+`>
`}listitem(t){let e="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):e+=i+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",i="";for(let r=0;r<t.header.length;r++)i+=this.tablecell(t.header[r]);e+=this.tablerow({text:i});let s="";for(let r=0;r<t.rows.length;r++){let o=t.rows[r];i="";for(let a=0;a<o.length;a++)i+=this.tablecell(o[a]);s+=this.tablerow({text:i})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:i}){let s=this.parser.parseInline(i),r=_h(t);if(r===null)return s;t=r;let o='<a href="'+t+'"';return e&&(o+=' title="'+e+'"'),o+=">"+s+"</a>",o}image({href:t,title:e,text:i}){let s=_h(t);if(s===null)return i;t=s;let r=`<img src="${t}" alt="${i}"`;return e&&(r+=` title="${e}"`),r+=">",r}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}},Xs=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Jt=class n{options;renderer;textRenderer;constructor(t){this.options=t||_n,this.options.renderer=this.options.renderer||new es,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Xs}static parse(t,e){return new n(e).parse(t)}static parseInline(t,e){return new n(e).parseInline(t)}parse(t,e=!0){let i="";for(let s=0;s<t.length;s++){let r=t[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){let a=r,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=c||"";continue}}let o=r;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let a=o,c=this.renderer.text(a);for(;s+1<t.length&&t[s+1].type==="text";)a=t[++s],c+=`
`+this.renderer.text(a);e?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):i+=c;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(t,e){e=e||this.renderer;let i="";for(let s=0;s<t.length;s++){let r=t[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){let a=this.options.extensions.renderers[r.type].call({parser:this},r);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){i+=a||"";continue}}let o=r;switch(o.type){case"escape":{i+=e.text(o);break}case"html":{i+=e.html(o);break}case"link":{i+=e.link(o);break}case"image":{i+=e.image(o);break}case"strong":{i+=e.strong(o);break}case"em":{i+=e.em(o);break}case"codespan":{i+=e.codespan(o);break}case"br":{i+=e.br(o);break}case"del":{i+=e.del(o);break}case"text":{i+=e.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},Jn=class{options;block;constructor(t){this.options=t||_n}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Xt.lex:Xt.lexInline}provideParser(){return this.block?Jt.parse:Jt.parseInline}},Ll=class{defaults=Vl();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Jt;Renderer=es;TextRenderer=Xs;Lexer=Xt;Tokenizer=Qn;Hooks=Jn;constructor(...t){this.use(...t)}walkTokens(t,e){let i=[];for(let s of t)switch(i=i.concat(e.call(this,s)),s.type){case"table":{let r=s;for(let o of r.header)i=i.concat(this.walkTokens(o.tokens,e));for(let o of r.rows)for(let a of o)i=i.concat(this.walkTokens(a.tokens,e));break}case"list":{let r=s;i=i.concat(this.walkTokens(r.items,e));break}default:{let r=s;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(o=>{let a=r[o].flat(1/0);i=i.concat(this.walkTokens(a,e))}):r.tokens&&(i=i.concat(this.walkTokens(r.tokens,e)))}}return i}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let s=se({},i);if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let o=e.renderers[r.name];o?e.renderers[r.name]=function(...a){let c=r.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[r.level];o?o.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),s.extensions=e),i.renderer){let r=this.defaults.renderer||new es(this.defaults);for(let o in i.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,c=i.renderer[a],u=r[a];r[a]=(...h)=>{let p=c.apply(r,h);return p===!1&&(p=u.apply(r,h)),p||""}}s.renderer=r}if(i.tokenizer){let r=this.defaults.tokenizer||new Qn(this.defaults);for(let o in i.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,c=i.tokenizer[a],u=r[a];r[a]=(...h)=>{let p=c.apply(r,h);return p===!1&&(p=u.apply(r,h)),p}}s.tokenizer=r}if(i.hooks){let r=this.defaults.hooks||new Jn;for(let o in i.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,c=i.hooks[a],u=r[a];Jn.passThroughHooks.has(o)?r[a]=h=>{if(this.defaults.async)return Promise.resolve(c.call(r,h)).then(b=>u.call(r,b));let p=c.call(r,h);return u.call(r,p)}:r[a]=(...h)=>{let p=c.apply(r,h);return p===!1&&(p=u.apply(r,h)),p}}s.hooks=r}if(i.walkTokens){let r=this.defaults.walkTokens,o=i.walkTokens;s.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),r&&(c=c.concat(r.call(this,a))),c}}this.defaults=se(se({},this.defaults),s)}),this}setOptions(t){return this.defaults=se(se({},this.defaults),t),this}lexer(t,e){return Xt.lex(t,e??this.defaults)}parser(t,e){return Jt.parse(t,e??this.defaults)}parseMarkdown(t){return(i,s)=>{let r=se({},s),o=se(se({},this.defaults),r),a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);let c=o.hooks?o.hooks.provideLexer():t?Xt.lex:Xt.lexInline,u=o.hooks?o.hooks.provideParser():t?Jt.parse:Jt.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(h=>c(h,o)).then(h=>o.hooks?o.hooks.processAllTokens(h):h).then(h=>o.walkTokens?Promise.all(this.walkTokens(h,o.walkTokens)).then(()=>h):h).then(h=>u(h,o)).then(h=>o.hooks?o.hooks.postprocess(h):h).catch(a);try{o.hooks&&(i=o.hooks.preprocess(i));let h=c(i,o);o.hooks&&(h=o.hooks.processAllTokens(h)),o.walkTokens&&this.walkTokens(h,o.walkTokens);let p=u(h,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(h){return a(h)}}}onError(t,e){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let s="<p>An error occurred:</p><pre>"+Ft(i.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(i);throw i}}},bn=new Ll;function ye(n,t){return bn.parse(n,t)}ye.options=ye.setOptions=function(n){return bn.setOptions(n),ye.defaults=bn.defaults,wh(ye.defaults),ye};ye.getDefaults=Vl;ye.defaults=_n;ye.use=function(...n){return bn.use(...n),ye.defaults=bn.defaults,wh(ye.defaults),ye};ye.walkTokens=function(n,t){return bn.walkTokens(n,t)};ye.parseInline=bn.parseInline;ye.Parser=Jt;ye.parser=Jt.parse;ye.Renderer=es;ye.TextRenderer=Xs;ye.Lexer=Xt;ye.lexer=Xt.lex;ye.Tokenizer=Qn;ye.Hooks=Jn;ye.parse=ye;var FM=ye.options,LM=ye.setOptions,VM=ye.use,zM=ye.walkTokens,UM=ye.parseInline;var WM=Jt.parse,jM=Xt.lex;var zy=["scrollContainer"];function Uy(n,t){if(n&1){let e=ve();_(0,"div",5)(1,"div",6)(2,"div")(3,"h2"),x(4),g()(),_(5,"h2"),x(6,"What can I help with?"),g(),_(7,"div",7)(8,"div",8)(9,"textarea",9),H("ngModelChange",function(s){ee(e);let r=V();return j(r.userMessage,s)||(r.userMessage=s),te(s)}),B("input",function(s){ee(e);let r=V();return te(r.autoResizeTextArea(s))}),g()(),_(10,"button",10),B("click",function(){ee(e);let s=V();return te(s.sendMessage())}),R(11,"i",11),g()()()()}if(n&2){let e=V();M(4),ce("Hello ",e.user.name,","),M(5),W("ngModel",e.userMessage),M(),L("disabled",!e.userMessage)}}function Wy(n,t){if(n&1&&(_(0,"div")(1,"div",24)(2,"div",25),R(3,"div",26),g()()()),n&2){let e=V().$implicit;M(3),L("innerHTML",e.content,Ct)}}function jy(n,t){if(n&1&&(_(0,"div")(1,"div",17)(2,"div",18),R(3,"img",19),g(),_(4,"div",20)(5,"div",27),R(6,"span")(7,"span")(8,"span"),g()()()()),n&2){let e=V(4);M(3),Mt("src",e.basicinfo.websiteMainLogoPath,nt)}}function Hy(n,t){if(n&1&&q(0,jy,9,1,"div",23),n&2){let e=V().$implicit,i=Be(5);L("ngIf",e.content==="...")("ngIfElse",i)}}function By(n,t){if(n&1&&(_(0,"div",17)(1,"div",18),R(2,"img",19),g(),_(3,"div",20),R(4,"div",26),g()()),n&2){let e=V().$implicit,i=V(2);M(2),Mt("src",i.basicinfo.websiteMainLogoPath,nt),M(2),L("innerHTML",e.content,Ct)}}function Yy(n,t){if(n&1&&(_(0,"li"),q(1,Wy,4,1,"div",23)(2,Hy,1,2,"ng-template",null,1,Je)(4,By,5,2,"ng-template",null,2,Je),g()),n&2){let e=t.$implicit,i=Be(3);Wn(e.role+" message"),M(),L("ngIf",e.role==="user")("ngIfElse",i)}}function $y(n,t){if(n&1){let e=ve();_(0,"div")(1,"div",28)(2,"div",8)(3,"textarea",29),H("ngModelChange",function(s){ee(e);let r=V(2);return j(r.userMessage,s)||(r.userMessage=s),te(s)}),B("keyup.enter",function(){ee(e);let s=V(2);return te(s.sendMessage())}),g(),_(4,"button",10),B("click",function(){ee(e);let s=V(2);return te(s.sendMessage())}),x(5,"Ask"),g()()()()}if(n&2){let e=V(2);M(3),W("ngModel",e.userMessage),L("disabled",e.isTextareaDisabled),M(),L("disabled",!e.userMessage)}}function Gy(n,t){if(n&1&&(_(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15,0)(5,"ul",16)(6,"div",17)(7,"div",18),R(8,"img",19),g(),_(9,"div",20),x(10," How can I assist you today? "),g()(),q(11,Yy,6,4,"li",21),g()(),q(12,$y,6,3,"div",22),g()()()),n&2){let e=V();M(8),Mt("src",e.basicinfo.websiteMainLogoPath,nt),M(3),L("ngForOf",e.chatMessages),M(),L("ngIf",!e.isTextareaDisabled)}}var Co=class n{constructor(t,e,i,s,r){this.auth=t;this.router=e;this._apiCallServices=i;this.sanitizer=s;this._toast=r}scrollContainer;selectedConversationId="";selectedUserId="";convertedMarkdown;chatMessages=[];isTextareaDisabled=!1;audioFile=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/3/success.mp3");user;basicinfo=[];userMessage="";conversationId="";showFirstRow=!0;temperature=.7;safeHtml="";threadId="";date="<p>Of course! Here are some key points to help you get started with learning C#:</p> <ol> <li><p><strong>Introduction to C#:</strong></p> <ul> <li>C# is a modern, versatile programming language developed by Microsoft.</li> <li>It is used for developing various types of applications, including desktop, web, mobile, and more.</li> </ul> </li> <li><p><strong>Basic Syntax:</strong></p> <ul> <li>C# is case-sensitive and uses curly braces {} to define code blocks.</li> <li>Statements end with a semicolon (;).</li> </ul> </li> <li><p><strong>Variables and Data Types:</strong></p> <ul> <li>Variables are used to store data in C#. They must be declared with a specific data type.</li> <li>Common data types include int (integer), string (text), double (decimal number), bool (boolean), etc.</li> </ul> </li> <li><p><strong>Control Structures:</strong></p> <ul> <li>C# includes control structures like if-else statements, loops (for, while, do-while), and switch-case for decision-making and iterating through code.</li> </ul> </li> <li><p><strong>Functions and Methods:</strong></p> <ul> <li>Functions in C# are blocks of code that perform a specific task.</li> <li>Methods are functions that are associated with a class or object.</li> </ul> </li> <li><p><strong>Classes and Objects:</strong></p> <ul> <li>C# is an object-oriented programming language, where classes are used to define objects.</li> <li>Objects are instances of classes that contain data (attributes) and methods (functions).</li> </ul> </li> <li><p><strong>Inheritance and Polymorphism:</strong></p> <ul> <li>Inheritance allows a class to inherit properties and behavior from another class.</li> <li>Polymorphism enables objects to be treated as instances of their parent class.</li> </ul> </li> <li><p><strong>Exception Handling:</strong></p> <ul> <li>C# provides mechanisms to handle exceptions that may occur during program execution using try-catch blocks.</li> </ul> </li> <li><p><strong>.NET Framework:</strong></p> <ul> <li>C# is commonly used with the .NET Framework, a software development platform for building Windows applications.</li> </ul> </li> <li><p><strong>Practice and Resources:</strong></p> <ul> <li>Practice coding regularly to improve your skills.</li> <li>Online tutorials, courses, and documentation can further enhance your understanding of C#.</li> </ul> </li> </ol> <p>I hope these points help you start your journey with C#! Is there anything specific you would like to learn more about?</p>";ngOnInit(){try{let t=localStorage.getItem("user"),e=localStorage.getItem("basicInfo");t&&e&&(this.user=JSON.parse(t),this.basicinfo=JSON.parse(e))}catch{this._toast.error({detail:"ERROR",summary:"An error occurred while loading user data",position:"br"})}this.selectedConversationId&&this.selectedUserId&&(console.log("clicked"),this.loadChatHistory(this.selectedConversationId,this.selectedUserId)),this.safeHtml=this.sanitizer.bypassSecurityTrustHtml(this.date)}loadChatHistory(t,e){this._apiCallServices.getConversation(t,e).subscribe(i=>{this.chatMessages=i.messages,this.threadId=i.result.conversation.threadId,console.log(this.threadId)})}autoResizeTextArea(t){let e=t.target;e.style.height="auto",e.scrollHeight<=100?e.style.height=e.scrollHeight+"px":(e.style.height="100px",e.style.overflowY="scroll")}playFile(){this.audioFile.play()}startNewConversation(){console.log();let t=this.userMessage;this.userMessage="",this.showFirstRow=!1,this.chatMessages.push({role:"user",content:t}),this.chatMessages.push({role:"bot",content:'<img src="https://cdn.pixabay.com/animation/2024/04/02/07/57/07-57-40-974_512.gif" width="60px;"></img>'}),this.isTextareaDisabled=!0;let e=this.getWordsUpToFiveSpaces(t);this._apiCallServices.addConversation(this.user._id,this.user.gptAssistant.assistantId,e).subscribe(i=>{i.success==!0&&(this.conversationId=i.conversationId,this.threadId=i.threadId,this._apiCallServices.getResponseFromChatbot(this.user._id,t,this.temperature,this.user.isOwner,i.threadId,this.conversationId).subscribe(s=>J(this,null,function*(){if(s.status==="success"){this.chatMessages.pop(),this.playFile();let r=yield this.formatMarkdown(s.response.content),o=this.sanitizer.bypassSecurityTrustHtml(r);this.chatMessages.push({role:"bot",content:o}),this.isTextareaDisabled=!1}})))})}getWordsUpToFiveSpaces(t){let e=0,i="";for(let s=0;s<t.length&&(t[s]===" "&&e++,i+=t[s],e!==5);s++);return i.trim()}sendMessageToExistingConversation(){let t=this.userMessage;this.userMessage="",this.chatMessages.push({role:"user",content:t}),this.chatMessages.push({role:"bot",content:'<img src="https://cdn.pixabay.com/animation/2024/04/02/07/57/07-57-40-974_512.gif" width="60px;"></img>'}),this.isTextareaDisabled=!0,this._apiCallServices.getResponseFromChatbot(this.user._id,t,this.temperature,this.user.isOwner,this.threadId,this.conversationId).subscribe(e=>J(this,null,function*(){if(e.status==="success"){this.chatMessages.pop(),this.playFile();let i=yield this.formatMarkdown(e.response.content),s=this.sanitizer.bypassSecurityTrustHtml(i);this.chatMessages.push({role:"bot",content:s}),this.isTextareaDisabled=!1}console.log(this.chatMessages)}))}sendMessage(){console.log(this.conversationId),this.conversationId?(console.log("if"),this.sendMessageToExistingConversation()):(console.log("else"),this.startNewConversation()),setTimeout(()=>{let t=this.scrollContainer.nativeElement;t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},100)}formatMarkdown(t){return J(this,null,function*(){return yield ye(t)})}static \u0275fac=function(e){return new(e||n)(T(mt),T(qe),T(ri),T(Hi),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-bot"]],viewQuery:function(e,i){if(e&1&&jn(zy,5),e&2){let s;Hn(s=Bn())&&(i.scrollContainer=s.first)}},inputs:{selectedConversationId:"selectedConversationId",selectedUserId:"selectedUserId"},decls:2,vars:2,consts:[["scrollContainer",""],["elseBlock",""],["elseBlockBotLoading",""],["class","row vh-90 justify-content-center align-items-center text-center","id","firstrow",4,"ngIf"],["class","row","id","secondrow",4,"ngIf"],["id","firstrow",1,"row","vh-90","justify-content-center","align-items-center","text-center"],[1,"col-lg-8"],["id","chat-bar",1,"card-footer","d-flex","mt-4"],[1,"input-group"],["id","auto-textarea","placeholder","Type your message...",1,"form-control","type_msg",3,"ngModelChange","input","ngModel"],[1,"btn","btn-danger",3,"click","disabled"],["aria-hidden","true",1,"fa","fa-arrow-up"],["id","secondrow",1,"row"],[1,"col-lg-12","chat"],[1,"card"],[1,"card-body","msg_card_body"],[1,"messages"],[1,"d-flex","justify-content-start","mb-4"],[1,"img_cont_msg"],[1,"rounded-circle","user_img_msg",3,"src"],["id","bot-msg",1,"msg_cotainer_send"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-end","mb-4"],[1,"msg_cotainer"],[3,"innerHTML"],[1,"loader"],[1,"card-footer"],["name","","placeholder","Type your message...",1,"form-control","type_msg",3,"ngModelChange","keyup.enter","ngModel","disabled"]],template:function(e,i){e&1&&q(0,Uy,12,3,"div",3)(1,Gy,13,3,"div",4),e&2&&(L("ngIf",i.showFirstRow),M(),L("ngIf",!i.showFirstRow))},dependencies:[ft,Ie,_e,Se,xe],styles:["#chat-bar[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:10px;border-radius:30px}textarea[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px;font-size:14px;background-color:#f4f4f4;border:none;outline:none;resize:none;overflow-y:auto;max-height:100px}textarea[_ngcontent-%COMP%]:focus{background-color:#f4f4f4;border:none;outline:none}#chat-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-top-right-radius:30px;border-bottom-right-radius:30px}.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000!important}.chat[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{height:90vh;border:none;padding:0;margin:0;background-color:#000000c8!important}.contacts_body[_ngcontent-%COMP%]{padding:.75rem 0!important;overflow-y:auto;white-space:nowrap}.msg_card_body[_ngcontent-%COMP%]{overflow-y:auto;background-color:#000000c8!important}.msg_card_body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.card-header[_ngcontent-%COMP%]{border-radius:15px 15px 0 0!important;border-bottom:0!important}.card-footer[_ngcontent-%COMP%]{border-radius:0 0 15px 15px!important;border-top:0!important}.container[_ngcontent-%COMP%]{align-content:center}.search[_ngcontent-%COMP%]{border-radius:15px 0 0 15px!important;background-color:#0000004d!important;border:0!important;color:#fff!important}.search[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0px!important}.type_msg[_ngcontent-%COMP%]{border:0!important;height:80px!important;overflow-y:auto}.type_msg[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0px!important}.attach_btn[_ngcontent-%COMP%]{border-radius:15px 0 0 15px!important;background-color:#0000004d!important;border:0!important;color:#fff!important;cursor:pointer}.send_btn[_ngcontent-%COMP%]{border-radius:0 15px 15px 0!important;background-color:#0000004d!important;border:0!important;color:#fff!important;cursor:pointer;height:100%}.search_btn[_ngcontent-%COMP%]{border-radius:0 15px 15px 0!important;background-color:#0000004d!important;border:0!important;color:#fff!important;cursor:pointer}.contacts[_ngcontent-%COMP%]{list-style:none;padding:0}.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%!important;padding:5px 10px;margin-bottom:15px!important}.active[_ngcontent-%COMP%]{background-color:#0000004d}.user_img[_ngcontent-%COMP%]{height:70px;width:70px;border:1.5px solid #f5f6fa}.user_img_msg[_ngcontent-%COMP%]{height:40px;width:40px}.img_cont[_ngcontent-%COMP%]{position:relative;height:70px;width:70px}.img_cont_msg[_ngcontent-%COMP%]{height:40px;width:40px}.online_icon[_ngcontent-%COMP%]{position:absolute;height:15px;width:15px;background-color:#4cd137;border-radius:50%;bottom:.2em;right:.4em;border:1.5px solid white}.offline[_ngcontent-%COMP%]{background-color:#c23616!important}.user_info[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:15px}.user_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#fff}.user_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;color:#fff9}.video_cam[_ngcontent-%COMP%]{margin-left:50px;margin-top:5px}.video_cam[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:20px;cursor:pointer;margin-right:20px}.msg_cotainer[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:10px;border-radius:25px 0 25px 25px;background-color:#a81c1c;color:#fff;padding:15px;position:relative;box-shadow:#63636333 0 2px 8px}.msg_cotainer_send[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:10px;border-radius:0 25px 25px;background-color:#f1f2f1;padding:15px;position:relative;box-shadow:#63636333 0 2px 8px}.pre-ques[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.msg_time[_ngcontent-%COMP%]{position:absolute;left:0;bottom:-15px;color:#ffffff80;font-size:10px}.msg_time_send[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-15px;color:#ffffff80;font-size:10px}.msg_head[_ngcontent-%COMP%]{position:relative}#action_menu_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;color:#fff;cursor:pointer;font-size:20px}.action_menu[_ngcontent-%COMP%]{z-index:1;position:absolute;padding:15px 0;background-color:#00000080;color:#fff;border-radius:15px;top:30px;right:15px;display:none}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;padding:10px 15px;margin-bottom:5px}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0003}@media (max-width: 576px){.contacts_card[_ngcontent-%COMP%]{margin-bottom:15px!important}}"]})};var Zy=["scrollContainer"];function Ky(n,t){if(n&1&&(_(0,"div")(1,"div",15)(2,"div",16),R(3,"div",17),g()()()),n&2){let e=V().$implicit;M(3),L("innerHTML",e.content,Ct)}}function Xy(n,t){if(n&1&&(_(0,"div",8)(1,"div",9),R(2,"img",10),g(),_(3,"div",11),R(4,"div",17),g()()),n&2){let e=V().$implicit,i=V(2);M(2),Mt("src",i.basicinfo.websiteMainLogoPath,nt),M(2),L("innerHTML",e.content,Ct)}}function Jy(n,t){if(n&1&&(_(0,"li"),q(1,Ky,4,1,"div",14)(2,Xy,5,2,"ng-template",null,1,Je),g()),n&2){let e=t.$implicit,i=Be(3);Wn(e.role+" message"),M(),L("ngIf",e.role==="user")("ngIfElse",i)}}function Qy(n,t){if(n&1){let e=ve();_(0,"div")(1,"div",18)(2,"div",19)(3,"textarea",20),H("ngModelChange",function(s){ee(e);let r=V(2);return j(r.userMessage,s)||(r.userMessage=s),te(s)}),B("keyup.enter",function(){ee(e);let s=V(2);return te(s.sendMessage())}),g(),_(4,"button",21),B("click",function(){ee(e);let s=V(2);return te(s.sendMessage())}),x(5,"Ask"),g()()()()}if(n&2){let e=V(2);M(3),W("ngModel",e.userMessage),L("disabled",e.isTextareaDisabled),M(),L("disabled",!e.userMessage)}}function ev(n,t){if(n&1&&(_(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6,0)(5,"ul",7)(6,"div",8)(7,"div",9),R(8,"img",10),g(),_(9,"div",11),x(10," How can I assist you today? "),g()(),q(11,Jy,4,4,"li",12),g()(),q(12,Qy,6,3,"div",13),g()()()),n&2){let e=V();M(8),Mt("src",e.basicinfo.websiteMainLogoPath,nt),M(3),L("ngForOf",e.chatMessages),M(),L("ngIf",!e.isTextareaDisabled)}}var Mo=class n{constructor(t,e,i,s,r){this.auth=t;this.router=e;this._apiCallServices=i;this.sanitizer=s;this._toast=r;try{let o=localStorage.getItem("user");o&&(this.user=JSON.parse(o))}catch{this._toast.error({detail:"ERROR",summary:"An error occurred while loading user data",position:"br"})}}selectedConversationId="";selectedUserId="";scrollContainer;temperature=.7;basicinfo=[];convertedMarkdown;chatMessages=[];isTextareaDisabled=!1;audioFile=new Audio("https://s3-us-west-2.amazonaws.com/s.cdpn.io/3/success.mp3");user;userMessage="";conversationId="";threadId="";showFirstRow=!1;safeHtml="";date="<p>Of course! Here are some key points to help you get started with learning C#:</p> <ol> <li><p><strong>Introduction to C#:</strong></p> <ul> <li>C# is a modern, versatile programming language developed by Microsoft.</li> <li>It is used for developing various types of applications, including desktop, web, mobile, and more.</li> </ul> </li> <li><p><strong>Basic Syntax:</strong></p> <ul> <li>C# is case-sensitive and uses curly braces {} to define code blocks.</li> <li>Statements end with a semicolon (;).</li> </ul> </li> <li><p><strong>Variables and Data Types:</strong></p> <ul> <li>Variables are used to store data in C#. They must be declared with a specific data type.</li> <li>Common data types include int (integer), string (text), double (decimal number), bool (boolean), etc.</li> </ul> </li> <li><p><strong>Control Structures:</strong></p> <ul> <li>C# includes control structures like if-else statements, loops (for, while, do-while), and switch-case for decision-making and iterating through code.</li> </ul> </li> <li><p><strong>Functions and Methods:</strong></p> <ul> <li>Functions in C# are blocks of code that perform a specific task.</li> <li>Methods are functions that are associated with a class or object.</li> </ul> </li> <li><p><strong>Classes and Objects:</strong></p> <ul> <li>C# is an object-oriented programming language, where classes are used to define objects.</li> <li>Objects are instances of classes that contain data (attributes) and methods (functions).</li> </ul> </li> <li><p><strong>Inheritance and Polymorphism:</strong></p> <ul> <li>Inheritance allows a class to inherit properties and behavior from another class.</li> <li>Polymorphism enables objects to be treated as instances of their parent class.</li> </ul> </li> <li><p><strong>Exception Handling:</strong></p> <ul> <li>C# provides mechanisms to handle exceptions that may occur during program execution using try-catch blocks.</li> </ul> </li> <li><p><strong>.NET Framework:</strong></p> <ul> <li>C# is commonly used with the .NET Framework, a software development platform for building Windows applications.</li> </ul> </li> <li><p><strong>Practice and Resources:</strong></p> <ul> <li>Practice coding regularly to improve your skills.</li> <li>Online tutorials, courses, and documentation can further enhance your understanding of C#.</li> </ul> </li> </ol> <p>I hope these points help you start your journey with C#! Is there anything specific you would like to learn more about?</p>";ngOnInit(){let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t)),this.selectedConversationId&&this.selectedUserId&&(console.log("clicked"),this.loadChatHistory(this.selectedConversationId,this.selectedUserId),this.loadConversation(this.selectedConversationId,this.selectedUserId)),this.safeHtml=this.sanitizer.bypassSecurityTrustHtml(this.date),console.log(this.chatMessages)}ngOnChanges(t){console.log("new clicked"),this.selectedUserId!=""&&this.selectedConversationId!=""&&(this.loadConversation(this.selectedConversationId,this.selectedUserId),this.conversationId=this.selectedConversationId)}loadChatHistory(t,e){this._apiCallServices.getConversation(t,e).subscribe(i=>{this.chatMessages=i.messages,console.log(i),this.threadId=i.result.conversation.threadId,console.log(this.threadId)})}autoResizeTextArea(t){let e=t.target;e.style.height="auto",e.scrollHeight<=100?e.style.height=e.scrollHeight+"px":(e.style.height="100px",e.style.overflowY="scroll")}playFile(){this.audioFile.play()}startNewConversation(){let t=this.userMessage;this.userMessage="",this.showFirstRow=!1,this.chatMessages.push({role:"user",content:t}),this.chatMessages.push({role:"bot",content:'<img src="https://cdn.pixabay.com/animation/2024/04/02/07/57/07-57-40-974_512.gif" width="60px;"></img>'}),this.isTextareaDisabled=!0;let e=this.getWordsUpToFiveSpaces(t);this._apiCallServices.addConversation(this.user._id,this.user.gptAssistant.assistantId,e).subscribe(i=>{i.success==!0&&(this.conversationId=i.conversationId,this._apiCallServices.getResponseFromChatbot(this.user._id,t,this.temperature,this.user.isOwner,i.threadId,this.conversationId).subscribe(s=>J(this,null,function*(){if(s.status==="success"){this.chatMessages.pop(),this.playFile();let r=yield this.formatMarkdown(s.response.content),o=this.sanitizer.bypassSecurityTrustHtml(r);this.chatMessages.push({role:"bot",content:o}),this.isTextareaDisabled=!1}})))})}getWordsUpToFiveSpaces(t){let e=0,i="";for(let s=0;s<t.length&&(t[s]===" "&&e++,i+=t[s],e!==5);s++);return i.trim()}sendMessageToExistingConversation(){let t=this.userMessage;this.userMessage="",this.chatMessages.push({role:"user",content:t}),this.chatMessages.push({role:"bot",content:'<img src="https://cdn.pixabay.com/animation/2024/04/02/07/57/07-57-40-974_512.gif" width="60px;"></img>'}),this.isTextareaDisabled=!0,this._apiCallServices.getResponseFromChatbot(this.user._id,t,this.temperature,this.user.isOwner,this.threadId,this.conversationId).subscribe(e=>J(this,null,function*(){if(e.status==="success"){this.chatMessages.pop(),this.playFile();let i=yield this.formatMarkdown(e.response.content),s=this.sanitizer.bypassSecurityTrustHtml(i);this.chatMessages.push({role:"bot",content:s}),this.isTextareaDisabled=!1}console.log(this.chatMessages)}))}sendMessage(){this.conversationId?this.sendMessageToExistingConversation():this.startNewConversation(),setTimeout(()=>{let t=this.scrollContainer.nativeElement;t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},100)}formatMarkdown(t){return J(this,null,function*(){return yield ye(t)})}loadConversation(t,e){this._apiCallServices.getConversation(t,e).pipe(Q(i=>(console.error("Error loading conversation:",i),[]))).subscribe(i=>{i?.isSuccessful&&i.result?.messages&&(this.chatMessages=[],i.result.messages.forEach(s=>{s.userPrompt&&this.chatMessages.push({role:"user",content:this.sanitizer.bypassSecurityTrustHtml(s.userPrompt)}),s.botReply&&this.chatMessages.push({role:"bot",content:this.sanitizer.bypassSecurityTrustHtml(s.botReply)})}),console.log(this.chatMessages))})}static \u0275fac=function(e){return new(e||n)(T(mt),T(qe),T(ri),T(Hi),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-loadchat"]],viewQuery:function(e,i){if(e&1&&jn(Zy,5),e&2){let s;Hn(s=Bn())&&(i.scrollContainer=s.first)}},inputs:{selectedConversationId:"selectedConversationId",selectedUserId:"selectedUserId"},features:[cn],decls:1,vars:1,consts:[["scrollContainer",""],["botMessage",""],["class","row","id","secondrow",4,"ngIf"],["id","secondrow",1,"row"],[1,"col-lg-12","chat"],[1,"card"],[1,"card-body","msg_card_body"],[1,"messages"],[1,"d-flex","justify-content-start","mb-4"],[1,"img_cont_msg"],[1,"rounded-circle","user_img_msg",3,"src"],["id","bot-msg",1,"msg_cotainer_send"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-end","mb-4"],[1,"msg_cotainer"],[3,"innerHTML"],[1,"card-footer"],[1,"input-group"],["name","","placeholder","Type your message...",1,"form-control","type_msg",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"btn","btn-danger",3,"click","disabled"]],template:function(e,i){e&1&&q(0,ev,13,3,"div",2),e&2&&L("ngIf",!i.showFirstRow)},dependencies:[ft,Ie,_e,Se,xe],styles:["#chat-bar[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:10px;border-radius:30px}textarea[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px;background-color:#f4f4f4;border:none;outline:none;resize:none;overflow-y:auto;max-height:100px}textarea[_ngcontent-%COMP%]:focus{background-color:#f4f4f4;border:none;outline:none}#chat-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-top-right-radius:30px;border-bottom-right-radius:30px}.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000!important}.chat[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{height:90vh;border:none;padding:0;margin:0;background-color:#000000c8!important}.contacts_body[_ngcontent-%COMP%]{padding:.75rem 0!important;overflow-y:auto;white-space:nowrap}.msg_card_body[_ngcontent-%COMP%]{overflow-y:auto;background-color:#000000c8!important}.msg_card_body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.card-header[_ngcontent-%COMP%]{border-radius:15px 15px 0 0!important;border-bottom:0!important}.card-footer[_ngcontent-%COMP%]{border-radius:0 0 15px 15px!important;border-top:0!important}.container[_ngcontent-%COMP%]{align-content:center}.search[_ngcontent-%COMP%]{border-radius:15px 0 0 15px!important;background-color:#0000004d!important;border:0!important;color:#fff!important}.search[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0px!important}.type_msg[_ngcontent-%COMP%]{border:0!important;height:80px!important;overflow-y:auto}.type_msg[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0px!important}.attach_btn[_ngcontent-%COMP%]{border-radius:15px 0 0 15px!important;background-color:#0000004d!important;border:0!important;color:#fff!important;cursor:pointer}.send_btn[_ngcontent-%COMP%]{border-radius:0 15px 15px 0!important;background-color:#0000004d!important;border:0!important;color:#fff!important;cursor:pointer;height:100%}.search_btn[_ngcontent-%COMP%]{border-radius:0 15px 15px 0!important;background-color:#0000004d!important;border:0!important;color:#fff!important;cursor:pointer}.contacts[_ngcontent-%COMP%]{list-style:none;padding:0}.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%!important;padding:5px 10px;margin-bottom:15px!important}.active[_ngcontent-%COMP%]{background-color:#0000004d}.user_img[_ngcontent-%COMP%]{height:70px;width:70px;border:1.5px solid #f5f6fa}.user_img_msg[_ngcontent-%COMP%]{height:40px;width:40px}.img_cont[_ngcontent-%COMP%]{position:relative;height:70px;width:70px}.img_cont_msg[_ngcontent-%COMP%]{height:40px;width:40px}.online_icon[_ngcontent-%COMP%]{position:absolute;height:15px;width:15px;background-color:#4cd137;border-radius:50%;bottom:.2em;right:.4em;border:1.5px solid white}.offline[_ngcontent-%COMP%]{background-color:#c23616!important}.user_info[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:15px}.user_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#fff}.user_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;color:#fff9}.video_cam[_ngcontent-%COMP%]{margin-left:50px;margin-top:5px}.video_cam[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:20px;cursor:pointer;margin-right:20px}.msg_cotainer[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:10px;border-radius:25px 0 25px 25px;background-color:#a81c1c;color:#fff;padding:15px;position:relative;box-shadow:#63636333 0 2px 8px}.msg_cotainer_send[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:10px;border-radius:0 25px 25px;background-color:#f1f2f1;padding:15px;position:relative;box-shadow:#63636333 0 2px 8px}.pre-ques[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.msg_time[_ngcontent-%COMP%]{position:absolute;left:0;bottom:-15px;color:#ffffff80;font-size:10px}.msg_time_send[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-15px;color:#ffffff80;font-size:10px}.msg_head[_ngcontent-%COMP%]{position:relative}#action_menu_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;color:#fff;cursor:pointer;font-size:20px}.action_menu[_ngcontent-%COMP%]{z-index:1;position:absolute;padding:15px 0;background-color:#00000080;color:#fff;border-radius:15px;top:30px;right:15px;display:none}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;padding:10px 15px;margin-bottom:5px}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.action_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0003}@media (max-width: 576px){.contacts_card[_ngcontent-%COMP%]{margin-bottom:15px!important}}"]})};var Do=()=>({"bold-text":!0});function iv(n,t){if(n&1&&(_(0,"span")(1,"span",44),x(2),g()()),n&2){let e=V().$implicit;M(),L("ngClass",Rs(2,Do)),M(),ce(" ",e.conversation.conversationName," ")}}function nv(n,t){if(n&1&&x(0),n&2){let e=V().$implicit;ce(" ",e.conversation.conversationName," ")}}function sv(n,t){if(n&1){let e=ve();Li(0),_(1,"li",38),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.selectConversation(s.conversation._id,s.conversation.userId))}),q(2,iv,3,3,"span",39)(3,nv,1,1,"ng-template",null,0,Je),R(5,"i",40),_(6,"ul",41)(7,"li")(8,"a",42),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.exportChat(s.conversation._id,r.user._id,s.conversation.conversationName,s.conversation.updatedAt))}),x(9,"Export Chat"),g()(),_(10,"li")(11,"button",43),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.deleteConversation(s.conversation._id))}),x(12,"Delete"),g()()()(),Vi()}if(n&2){let e=t.$implicit,i=Be(4),s=V();M(2),L("ngIf",s.selectedConversationId==e.conversation._id)("ngIfElse",i)}}function rv(n,t){if(n&1&&(_(0,"span")(1,"span",44),x(2),g()()),n&2){let e=V().$implicit;M(),L("ngClass",Rs(2,Do)),M(),ce(" ",e.conversation.conversationName," ")}}function ov(n,t){if(n&1&&x(0),n&2){let e=V().$implicit;ce(" ",e.conversation.conversationName," ")}}function av(n,t){if(n&1){let e=ve();Li(0),_(1,"li",38),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.selectConversation(s.conversation._id,s.conversation.userId))}),q(2,rv,3,3,"span",39)(3,ov,1,1,"ng-template",null,0,Je),R(5,"i",40),_(6,"ul",41)(7,"li")(8,"a",42),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.exportChat(s.conversation._id,r.user._id,s.conversation.conversationName,s.conversation.updatedAt))}),x(9,"Export Chat"),g()(),_(10,"li")(11,"button",43),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.deleteConversation(s.conversation._id))}),x(12,"Delete"),g()()()(),Vi()}if(n&2){let e=t.$implicit,i=Be(4),s=V();M(2),L("ngIf",s.selectedConversationId==e.conversation._id)("ngIfElse",i)}}function lv(n,t){if(n&1){let e=ve();_(0,"div",45)(1,"button",46),B("click",function(){ee(e);let s=V();return te(s.manageWorkspace())}),x(2," Manage Workspace "),g(),_(3,"p"),x(4,"ChatGPT can make mistakes. Check important info."),g()()}}function cv(n,t){if(n&1&&(_(0,"span")(1,"span",44),x(2),g()()),n&2){let e=V().$implicit;M(),L("ngClass",Rs(2,Do)),M(),ce(" ",e.conversation.conversationName," ")}}function dv(n,t){if(n&1&&x(0),n&2){let e=V().$implicit;ce(" ",e.conversation.conversationName," ")}}function uv(n,t){if(n&1){let e=ve();Li(0),_(1,"li",38),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.selectConversation(s.conversation._id,s.conversation.userId))}),q(2,cv,3,3,"span",39)(3,dv,1,1,"ng-template",null,0,Je),R(5,"i",40),_(6,"ul",41)(7,"li")(8,"a",42),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.exportChat(s.conversation._id,r.user._id,s.conversation.conversationName,s.conversation.updatedAt))}),x(9,"Export Chat"),g()(),_(10,"li")(11,"button",43),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.deleteConversation(s.conversation._id))}),x(12,"Delete"),g()()()(),Vi()}if(n&2){let e=t.$implicit,i=Be(4),s=V();M(2),L("ngIf",s.selectedConversationId==e.conversation._id)("ngIfElse",i)}}function hv(n,t){if(n&1&&(_(0,"span")(1,"span",44),x(2),g()()),n&2){let e=V().$implicit;M(),L("ngClass",Rs(2,Do)),M(),ce(" ",e.conversation.conversationName," ")}}function fv(n,t){if(n&1&&x(0),n&2){let e=V().$implicit;ce(" ",e.conversation.conversationName," ")}}function pv(n,t){if(n&1){let e=ve();Li(0),_(1,"li",38),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.selectConversation(s.conversation._id,s.conversation.userId))}),q(2,hv,3,3,"span",39)(3,fv,1,1,"ng-template",null,0,Je),R(5,"i",40),_(6,"ul",41)(7,"li")(8,"a",42),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.exportChat(s.conversation._id,r.user._id,s.conversation.conversationName,s.conversation.updatedAt))}),x(9,"Export Chat"),g()(),_(10,"li")(11,"button",43),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.deleteConversation(s.conversation._id))}),x(12,"Delete"),g()()()(),Vi()}if(n&2){let e=t.$implicit,i=Be(4),s=V();M(2),L("ngIf",s.selectedConversationId==e.conversation._id)("ngIfElse",i)}}function mv(n,t){if(n&1){let e=ve();_(0,"div",45)(1,"button",46),B("click",function(){ee(e);let s=V();return te(s.manageWorkspace())}),x(2," Manage Workspace "),g(),_(3,"p"),x(4,"ChatGPT can make mistakes. Check important info."),g()()}}function gv(n,t){n&1&&R(0,"app-bot")}function bv(n,t){if(n&1&&R(0,"app-loadchat",47),n&2){let e=V();L("selectedConversationId",e.selectedConversationId)("selectedUserId",e.selectedUserId)}}var ko=class n{constructor(t,e,i,s,r,o){this.auth=t;this.router=e;this.userService=i;this.chatService=s;this.spinner=r;this._toast=o}user=[];workspaceName="";errorMessage="";todayConversations=[];olderConversations=[];selectedConversationId="";selectedUserId="";ngOnInit(){this.spinner.show(),this.auth.isAuthenticated$.subscribe(e=>{!e&&!this.checkAuthKeysExist()?this.router.navigate(["login"]):e&&this.auth.user$.subscribe(i=>{i&&i.name&&i.email&&(localStorage.getItem("user")?this.userService.addUser(i.name,i.email).subscribe({next:r=>{if(r.isSuccessful){let o=we(se({},r.result.user),{organization:r.result.organization,gptAssistant:r.result.gptAssistant});localStorage.setItem("user",JSON.stringify(o)),console.log(r.result.user._id),this.getAllChats(r.result.user._id)}else this.router.navigate(["unauthorized"])},error:r=>{alert("Some error occured, please contact admin :"+r),this.router.navigate(["unauthorized"])}}):this.userService.addUser(i.name,i.email).subscribe({next:r=>{if(r.isSuccessful){let o=we(se({},r.result.user),{organization:r.result.organization,gptAssistant:r.result.gptAssistant});localStorage.setItem("user",JSON.stringify(o)),console.log(r.result.user._id),this.getAllChats(r.result.user._id),window.location.reload()}else this.router.navigate(["unauthorized"])},error:r=>{alert("Some error occured, please contact admin :"+r),this.router.navigate(["unauthorized"])}}))})});let t=localStorage.getItem("user");t&&(this.router.navigate(["/"]),this.user=JSON.parse(t),console.log(this.user)),setTimeout(()=>{this.spinner.hide()},1e3)}checkAuthKeysExist(){let e=Object.keys(localStorage).filter(i=>i.startsWith("@@auth0spajs@@::"));return e.length>=2&&e.every(i=>localStorage.getItem(i))}logout(){return J(this,null,function*(){this.auth.logout({logoutParams:{returnTo:"https://bclone.ai/login"}})})}createWorkspace(){this.userService.createOrganization(this.user._id,this.workspaceName).subscribe({next:t=>{t.isSuccessful&&this.router.navigate(["/workspace/"+t.result.organization._id])},error:t=>console.error("Error creating organization:",t)})}manageWorkspace(){this.userService.checkOrganization(this.user._id).subscribe({next:t=>{t.isSuccessful?this.router.navigate(["/workspace/"+t.result.organization._id]):new bootstrap.Modal(document.getElementById("exampleModal")).show()},error:t=>console.error("Error checking workspaces:",t)})}getAllChats(t){this.chatService.getAllChatsByUserId(t).subscribe({next:e=>{if(e.success){let i=new Date;this.todayConversations=e.conversations.filter(s=>new Date(s.conversation.updatedAt).toDateString()===i.toDateString()),this.olderConversations=e.conversations.filter(s=>new Date(s.conversation.updatedAt).toDateString()!==i.toDateString())}},error:e=>console.error("Error fetching chats:",e)})}selectConversation(t,e){this.selectedConversationId=t,this.selectedUserId=e}deleteConversation(t){this.spinner.show(),this.chatService.deleteConversation(t).subscribe(e=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.success({detail:"SUCCESS",summary:"Conversation deleted successfully",position:"br"}),setTimeout(()=>{window.location.reload()},1e3)},e=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Error deleting conversation",position:"br"})})}exportChat(t,e,i,s){this.spinner.show(),this.chatService.exportConversation(t,e).subscribe(r=>{setTimeout(()=>{this.spinner.hide()},100),this._toast.success({detail:"SUCCESS",summary:"Download started..",position:"br"});let o=new Blob([r],{type:"text/plain"}),a=document.createElement("a"),c=window.URL.createObjectURL(o),u=`${i}_${s}.txt`;a.href=c,a.download=u,a.click(),window.URL.revokeObjectURL(c)},r=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Error exporting conversation",position:"br"})})}newChatOpen(){this.selectedConversationId="",this.selectedUserId="",window.location.reload()}static \u0275fac=function(e){return new(e||n)(T(mt),T(qe),T(Wt),T(ri),T(me),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-home"]],decls:60,vars:9,consts:[["normal",""],[1,"container-fluid","h-100"],[1,"row","justify-content-center","vh-90"],[1,"col-lg-2","col-md-12","left-area","pt-2","d-none","d-lg-block"],[1,"row","h-100","d-flex","flex-column"],["id","item-top",1,"col-lg-12","flex-grow-0",2,"height","10%"],[1,"btn","btn-dark","col-12",3,"click"],[1,"col-lg-12","scrollable","flex-grow-1","overflow-auto",2,"height","80%"],[1,"fw-bold"],[4,"ngFor","ngForOf"],["class","col-lg-12 flex-grow-0","style","height: 10%","id","item-bottom",4,"ngIf"],[1,"d-block","d-lg-none"],["data-bs-toggle","offcanvas","href","#offcanvasExample","role","button","aria-controls","offcanvasExample",1,"btn","btn-light","sticky-btn"],["aria-hidden","true",1,"fa","fa-chevron-circle-left"],["tabindex","-1","id","offcanvasExample","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],[1,"btn","btn-dark","col-10","py-3",3,"click"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"col-12","left-area"],[1,"row","d-flex","flex-column",2,"height","80vh"],[1,"col-lg-12","scrollable","flex-grow-1","overflow-auto"],[1,"col-lg-10","col-md-12","chat"],[4,"ngIf"],[3,"selectedConversationId","selectedUserId",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","name","workspaceName",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[3,"click"],[4,"ngIf","ngIfElse"],["aria-hidden","true","data-bs-toggle","dropdown","aria-expanded","false",1,"fa","fa-ellipsis-h"],["aria-labelledby","dropdownMenu1",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"click"],["type","submit",1,"dropdown-item",3,"click"],[3,"ngClass"],["id","item-bottom",1,"col-lg-12","flex-grow-0",2,"height","10%"],["type","button",1,"btn","btn-light","col-12",3,"click"],[3,"selectedConversationId","selectedUserId"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),B("click",function(){return i.newChatOpen()}),x(7," New Chat "),g()(),_(8,"div",7)(9,"ul")(10,"li",8),x(11," Today "),g(),q(12,sv,13,2,"ng-container",9),g(),_(13,"ul")(14,"li",8),x(15," Older Conversations "),g(),q(16,av,13,2,"ng-container",9),g()(),q(17,lv,5,0,"div",10),g()(),_(18,"div",11)(19,"a",12),R(20,"i",13),g(),_(21,"div",14)(22,"div",15)(23,"button",16),B("click",function(){return i.newChatOpen()}),x(24," New Chat "),g(),R(25,"button",17),g(),_(26,"div",18)(27,"div",19)(28,"div",20)(29,"div",21)(30,"ul")(31,"li",8),x(32," Today "),g(),q(33,uv,13,2,"ng-container",9),g(),_(34,"ul")(35,"li",8),x(36," Older Conversations "),g(),q(37,pv,13,2,"ng-container",9),g()(),q(38,mv,5,0,"div",10),g()()()()(),_(39,"div",22),q(40,gv,1,0,"app-bot",23)(41,bv,1,2,"app-loadchat",24),g()()(),_(42,"div",25)(43,"div",26)(44,"div",27)(45,"div",28)(46,"h1",29),x(47,"Create new workspace"),g(),R(48,"button",30),g(),_(49,"div",31)(50,"form")(51,"div",32)(52,"label",33),x(53,"Workspace Name:"),g(),_(54,"input",34),H("ngModelChange",function(r){return j(i.workspaceName,r)||(i.workspaceName=r),r}),g()()()(),_(55,"div",35)(56,"button",36),x(57,"Close"),g(),_(58,"button",37),B("click",function(){return i.createWorkspace()}),x(59,"Create"),g()()()()()),e&2&&(M(12),L("ngForOf",i.todayConversations),M(4),L("ngForOf",i.olderConversations),M(),L("ngIf",i.user.isOwner),M(16),L("ngForOf",i.todayConversations),M(4),L("ngForOf",i.olderConversations),M(),L("ngIf",i.user.isOwner),M(2),L("ngIf",!i.selectedConversationId&&!i.selectedUserId),M(),L("ngIf",i.selectedConversationId&&i.selectedUserId),M(13),W("ngModel",i.workspaceName))},dependencies:[qr,ft,Ie,We,_e,Se,Ue,xe,Le,ot,Co,Mo],styles:[".chat[_ngcontent-%COMP%]{background-color:#fff}.btn[_ngcontent-%COMP%]{text-align:left}ul[_ngcontent-%COMP%]{margin:0 0 10px;padding:10px 0}li[_ngcontent-%COMP%]{list-style-type:none;position:relative;padding:5px}li[_ngcontent-%COMP%]:hover{background-color:#ececec;border-radius:5px;padding:5px}li[_ngcontent-%COMP%]   i.fa-ellipsis-h[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);visibility:hidden;opacity:0;transition:opacity .3s ease,visibility .3s ease}li[_ngcontent-%COMP%]:hover   i.fa-ellipsis-h[_ngcontent-%COMP%]{visibility:visible;opacity:1}.scrollable[_ngcontent-%COMP%]{overflow-y:auto}.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0000001a;border-radius:4px}.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#0003}.scrollable[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.1) transparent}.left-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#ececec}@media only screen and (max-width: 600px){.left-area[_ngcontent-%COMP%]{background-color:#fff}}.left-area[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-grow:1}.left-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.left-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:700}#item-top[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px}#item-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;font-weight:400;padding:4px 0 0 4px}.bold-text[_ngcontent-%COMP%]{font-weight:700}.sticky-btn[_ngcontent-%COMP%]{position:fixed;top:170px;left:1px;z-index:1050;border-radius:50%;padding:5px}.sticky-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}"]})};function _v(n,t){if(n&1){let e=ve();_(0,"div")(1,"div",11)(2,"label",22),x(3,"App Name"),g(),_(4,"input",23),H("ngModelChange",function(s){ee(e);let r=V();return j(r.user.appName,s)||(r.user.appName=s),te(s)}),g()(),_(5,"div",11)(6,"label",24),x(7,"App Logo"),g(),_(8,"input",25),H("ngModelChange",function(s){ee(e);let r=V();return j(r.user.appLogo,s)||(r.user.appLogo=s),te(s)}),g()()()}if(n&2){let e=V();M(4),W("ngModel",e.user.appName),M(4),W("ngModel",e.user.appLogo)}}var Eo=class n{constructor(t,e,i,s){this.auth=t;this.userService=e;this.spinner=i;this._toast=s}user={};ngOnInit(){try{let t=localStorage.getItem("user");t&&(this.user=JSON.parse(t)),this.auth.user$.subscribe(e=>{e&&!this.user.emailAddress&&(this.user.emailAddress=e.email)})}catch{this._toast.error({detail:"ERROR",summary:"An error occurred while loading user data",position:"br"})}}updateUser(){let t=this.user._id,e={appName:this.user.appName,appLogo:this.user.appLogo,name:this.user.name,phoneNumber:this.user.phoneNumber,address:this.user.address};this.spinner.show(),this.userService.updateUser(t,e).subscribe({next:i=>{if(setTimeout(()=>{this.spinner.hide()},1e3),i&&i.isSuccessful){let s=i.result.user;localStorage.setItem("user",JSON.stringify(s)),this.user=s,this._toast.success({detail:"SUCCESS",summary:"Profile has been updated successfully",position:"br"})}else this._toast.error({detail:"ERROR",summary:"Try again later",position:"br"})},error:i=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error updating user profile",position:"br"})}})}static \u0275fac=function(e){return new(e||n)(T(mt),T(Wt),T(me),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-settings"]],decls:40,vars:6,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-8"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","text","id","phone","name","phoneNumber",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","appName",1,"form-label"],["type","text","id","appName","name","appName",1,"form-control",3,"ngModelChange","ngModel"],["for","appLogo",1,"form-label"],["type","text","id","appLogo","name","appLogo",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11,"Settings"),g()()()()(),_(12,"div",2)(13,"div",3)(14,"h2"),x(15,"Manage your profile"),g(),_(16,"p"),x(17,"Update your personal information"),g()()(),_(18,"div",2)(19,"div",9)(20,"form",10),B("ngSubmit",function(){return i.updateUser()}),_(21,"div",11)(22,"label",12),x(23,"Name"),g(),_(24,"input",13),H("ngModelChange",function(r){return j(i.user.name,r)||(i.user.name=r),r}),g()(),_(25,"div",11)(26,"label",14),x(27,"Phone Number"),g(),_(28,"input",15),H("ngModelChange",function(r){return j(i.user.phoneNumber,r)||(i.user.phoneNumber=r),r}),g()(),_(29,"div",11)(30,"label",16),x(31,"Address"),g(),_(32,"input",17),H("ngModelChange",function(r){return j(i.user.address,r)||(i.user.address=r),r}),g()(),_(33,"div",11)(34,"label",18),x(35,"Email address"),g(),_(36,"input",19),H("ngModelChange",function(r){return j(i.user.emailAddress,r)||(i.user.emailAddress=r),r}),g()(),q(37,_v,9,2,"div",20),_(38,"button",21),x(39,"Update"),g()()()()()()),e&2&&(M(24),W("ngModel",i.user.name),M(4),W("ngModel",i.user.phoneNumber),M(4),W("ngModel",i.user.address),M(4),W("ngModel",i.user.emailAddress),M(),L("ngIf",i.user.isOwner),M(),L("disabled",!i.user.name||!i.user.phoneNumber||!i.user.address||!i.user.emailAddress||!i.user.appName||!i.user.appLogo))},dependencies:[Ie,We,_e,Se,Ue,xe,Le,ot]})};var Oo=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-support"]],decls:31,vars:0,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-8"],[1,"mb-3"],["for","name",1,"form-label","fw-bold"],["type","text","id","name","name","name",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label","fw-bold"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11," Help "),g()()()()(),_(12,"div",2)(13,"div",3)(14,"h2"),x(15,"Raise a support ticket"),g(),_(16,"p"),x(17," Contact +91 8250366763 or write to us by sumitting the below form, we will get in touch with you shortly. "),g()()(),_(18,"div",2)(19,"div",9)(20,"form")(21,"div",10)(22,"label",11),x(23,"Subject"),g(),R(24,"input",12),g(),_(25,"div",10)(26,"label",13),x(27,"Description"),g(),R(28,"textarea",14),g(),_(29,"button",15),x(30,"Send"),g()()()()()())},dependencies:[We,Ue,Le,ot]})};var Io=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-customkb"]],decls:33,vars:0,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-8"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label","fw-bold"],["id","emailHelp",1,"form-text"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11," Custom ChatGPT "),g()()()()(),_(12,"div",2)(13,"div",3)(14,"h2"),x(15,"Introducing Custom Instructions"),g(),_(16,"p"),x(17," Customize your interactions with ChatGPT by providing specific details and guidelines for your chats. "),g()()(),_(18,"div",2)(19,"div",9)(20,"form")(21,"div",10)(22,"label",11),x(23,"Custom Instructions "),g(),_(24,"div",12),x(25," What would you like ChatGPT to know about you to provide better responses? "),R(26,"textarea",13),g()(),_(27,"div",10)(28,"label",11),x(29,"How would you like ChatGPT to respond?"),g(),R(30,"textarea",13),g(),_(31,"button",14),x(32,"Save"),g()()()()()())},dependencies:[We,Ue,Le,ot]})};function yv(n,t){if(n&1&&(_(0,"tr")(1,"th",25),x(2),g(),_(3,"td"),x(4),_(5,"span",26),x(6),kt(7,"date"),g()(),_(8,"td"),x(9),g()()),n&2){let e=t.$implicit,i=t.index;M(2),le(i+1),M(2),ce("",e.name," "),M(2),ce("(",Yn(7,4,e.createdAt,"mediumDate"),")"),M(3),le(e.email)}}var Ao=class n{constructor(t,e,i,s){this.userService=t;this.route=e;this.spinner=i;this._toast=s}organizationId="";name="";emailAddress="";user={};organizationName="";members=[];ngOnInit(){let t=localStorage.getItem("user");t&&(this.user=JSON.parse(t)),this.route.params.subscribe(e=>{this.organizationId=e.id}),this.checkOrganization(this.user._id)}checkOrganization(t){this.userService.checkOrganization(t).subscribe(e=>{e.isSuccessful?(this.organizationId=e.result.organization._id,this.organizationName=e.result.organization.name,this.members=e.result.members):console.error("Organization not found:",e.result.message)},e=>{console.error("Error fetching organization:",e)})}sendInvitation(){this.spinner.show(),this.userService.addOrganizationMember(this.organizationId,this.name,this.emailAddress).subscribe(t=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.success({detail:"SUCCESS",summary:"Invitation sent successfully!",position:"br"}),this.name="",this.emailAddress="",setTimeout(()=>{window.location.reload()},1e3)},t=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Error sending invitation: "+t,position:"br"}),setTimeout(()=>{window.location.reload()},1e3)})}removeMember(t){confirm("Are you sure you want to remove this member?")&&(this.spinner.show(),this.userService.removeMember(this.organizationId,t).subscribe(e=>{this.spinner.hide(),e.isSuccessful?(this._toast.success({detail:"SUCCESS",summary:"Member removed successfully!",position:"br"}),this.members=this.members.filter(i=>i._id!==t),setTimeout(()=>{window.location.reload()},1e3)):(this._toast.error({detail:"ERROR",summary:"Failed to remove member.",position:"br"}),setTimeout(()=>{window.location.reload()},1e3))},e=>{this.spinner.hide(),console.error("Error removing member:",e),this._toast.error({detail:"ERROR",summary:"Error removing member: "+e,position:"br"}),setTimeout(()=>{window.location.reload()},1e3)}))}static \u0275fac=function(e){return new(e||n)(T(Wt),T(ni),T(me),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-workspace"]],decls:48,vars:5,consts:[["invitationForm","ngForm"],[1,"my-5"],[1,"container"],[1,"row","g-5"],[1,"col-lg-5"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","placeholder","Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Email Address","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-lg-7"],[1,"card"],[1,"card-body","table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[2,"font-size","12px"]],template:function(e,i){if(e&1){let s=ve();R(0,"app-navbar"),_(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"nav",7)(8,"ol",8)(9,"li",9)(10,"a",10),x(11,"Home"),g()(),_(12,"li",11),x(13," Manage Workspace "),g()()(),_(14,"h2"),x(15,"Setup your organization"),g(),_(16,"p"),x(17," Create organization and invite people via email to work together. "),g(),_(18,"form",12,0),B("ngSubmit",function(){return ee(s),te(i.sendInvitation())}),_(20,"div",13)(21,"label",14),x(22,"Name"),g(),_(23,"input",15),H("ngModelChange",function(o){return ee(s),j(i.name,o)||(i.name=o),te(o)}),g()(),_(24,"div",13)(25,"label",16),x(26,"Email address"),g(),_(27,"input",17),H("ngModelChange",function(o){return ee(s),j(i.emailAddress,o)||(i.emailAddress=o),te(o)}),g()(),_(28,"button",18),x(29," Send Invitation "),g()()()()(),_(30,"div",19)(31,"div",20)(32,"div",21)(33,"h2"),x(34),g(),_(35,"p"),x(36,"Below are the invited people to your organization"),g(),_(37,"table",22)(38,"thead")(39,"tr")(40,"th",23),x(41,"#"),g(),_(42,"th",23),x(43,"Name"),g(),_(44,"th",23),x(45,"Email Address"),g()()(),_(46,"tbody"),q(47,yv,10,7,"tr",24),g()()()()()()()()}if(e&2){let s=Be(19);M(23),W("ngModel",i.name),M(4),W("ngModel",i.emailAddress),M(),L("disabled",!s.valid),M(6),ce("Organization Name : ",i.organizationName,""),M(13),L("ngForOf",i.members)}},dependencies:[ft,We,_e,Se,Ue,St,xe,Le,ot,Kr]})};var Th={production:!1,baseUrl:"https://api.bclone.ai"};var To=class n{constructor(t){this.http=t}apiUrl=`${Th.baseUrl}/admin/login`;login(t,e){console.log(t);let i={emailAddress:t,password:e};return this.http.post(this.apiUrl,i).pipe(Q(this.errorHandler))}errorHandler(t){return console.error("Error occurred:",t),Nt(t.message||"Server Error")}static \u0275fac=function(e){return new(e||n)(Ge(ii))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})};var Po=class n{constructor(t,e,i){this.loginService=t;this.router=e;this.spinner=i}emailAddress="";password="";ngOnInit(){}onSubmit(){console.log("Attempting to log in with:",this.emailAddress),this.spinner.show(),this.loginService.login(this.emailAddress,this.password).subscribe({next:t=>{console.log("Login response received"),t.isSuccessful?(setTimeout(()=>{this.spinner.hide()},1e3),console.log("Login successful:",t.result),localStorage.setItem("userData",JSON.stringify(t.result)),this.router.navigate(["/admin/home"])):(setTimeout(()=>{this.spinner.hide()},1e3),alert("Login failed:"+t||"Unknown error"))},error:t=>{setTimeout(()=>{this.spinner.hide()},1e3),alert("Login error: "+t)},complete:()=>{console.log("Login process completed successfully")}})}static \u0275fac=function(e){return new(e||n)(T(To),T(qe),T(me))};static \u0275cmp=Z({type:n,selectors:[["app-ad-login"]],decls:20,vars:2,consts:[[1,"container"],[1,"row","vh-100","d-flex","justify-content-center","align-items-center"],[1,"col-lg-4"],[1,"form-signin","w-100","m-auto"],[3,"ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com","name","emailAddress","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingPassword"],["type","submit",1,"btn","btn-primary","w-100","my-2"],["href","admin/home",1,"btn","btn-success","w-100","my-2"]],template:function(e,i){e&1&&(_(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"main",3)(5,"form",4),B("ngSubmit",function(){return i.onSubmit()}),_(6,"h1",5),x(7,"Admin sign in"),g(),_(8,"div",6)(9,"input",7),H("ngModelChange",function(r){return j(i.emailAddress,r)||(i.emailAddress=r),r}),g(),_(10,"label",8),x(11,"Email address"),g()(),_(12,"div",6)(13,"input",9),H("ngModelChange",function(r){return j(i.password,r)||(i.password=r),r}),g(),_(14,"label",10),x(15,"Password"),g()(),_(16,"button",11),x(17,"Sign in"),g(),_(18,"a",12),x(19,"Go to Home"),g()()()()()()()),e&2&&(M(9),W("ngModel",i.emailAddress),M(4),W("ngModel",i.password))},dependencies:[We,_e,Se,Ue,St,xe,Le]})};var et=class n{constructor(t){this.router=t}basicinfo=[];signOut(){localStorage.removeItem("userData"),this.router.navigate(["admin/login"])}ngOnInit(){let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t))}static \u0275fac=function(e){return new(e||n)(T(qe))};static \u0275cmp=Z({type:n,selectors:[["app-ad-navbar"]],decls:31,vars:1,consts:[[1,"navbar-light","bg-white","sticky-top","p-2","border-bottom"],[1,"container-fluid"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["href","/admin/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none","logo"],["width","50px","alt","",3,"src"],[1,"nav","col-12","col-lg-auto","ms-lg-auto","mb-2","justify-content-center","mb-md-0","me-md-4"],["href","admin/home",1,"nav-link","px-2","link-dark"],["href","admin/users",1,"nav-link","px-2","link-dark"],["href","admin/settings",1,"nav-link","px-2","link-dark"],["href","admin/page/settings",1,"nav-link","px-2","link-dark"],[1,"dropdown","text-end"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","link-dark","text-decoration-none","dropdown-toggle"],["alt","mdo","width","42","height","42","src","https://cdn-icons-png.flaticon.com/512/512/512219.png",1,"rounded-circle"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small"],[1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out"]],template:function(e,i){e&1&&(_(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),R(4,"img",4),g(),_(5,"ul",5)(6,"li")(7,"a",6),x(8,"Dashboard"),g()(),_(9,"li")(10,"a",7),x(11,"Users"),g()(),_(12,"li")(13,"a",8),x(14,"Settings"),g()(),_(15,"li")(16,"a",9),x(17,"Page Settings"),g()()(),_(18,"div",10)(19,"a",11),R(20,"img",12),g(),_(21,"ul",13)(22,"li")(23,"span",14),x(24,"Welcome : Admin"),g()(),_(25,"li"),R(26,"hr",15),g(),_(27,"li")(28,"a",16),B("click",function(){return i.signOut()}),R(29,"i",17),x(30," Sign Out "),g()()()()()()()),e&2&&(M(4),Mt("src",i.basicinfo.websiteFaviconPath,nt))}})};var No=class n{constructor(t,e,i){this.settingsService=t;this.spinner=e;this._toast=i}settings={appName:"",homePageTitle:"",systemEmail:{username:"",emailAddress:"",password:""},chatGPT:{url:"",apiKey:"",modelName:"",masterInstruction:""},companyContact:{phone:"",emailAddress:"",fullAddress:""},websiteContent:{mainLogoPath:"",faviconPath:""},oktaSSO:{domain:"",clientId:"",redirectURL:""}};ngOnInit(){this.loadSettings()}loadSettings(){this.settingsService.getSettings().subscribe(t=>{this.settings=t.result},t=>{console.error("Error loading settings:",t)})}onSubmit(){console.log(this.settings),this.spinner.show(),this.settingsService.updateSettings(this.settings).subscribe(t=>{this.spinner.hide(),t.isSuccessful&&this._toast.success({detail:"SUCCESS",summary:"Settings updated successfully!",position:"br"})},t=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error updating settings",position:"br"})})}static \u0275fac=function(e){return new(e||n)(T(gt),T(me),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-ad-settings"]],decls:99,vars:17,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-8"],[3,"ngSubmit"],[1,"mb-3"],["for","appName",1,"form-label","fw-bold"],["type","text","id","appName","name","appName",1,"form-control",3,"ngModelChange","ngModel"],["for","homePageTitle",1,"form-label","fw-bold"],["type","text","id","homePageTitle","name","homePageTitle",1,"form-control",3,"ngModelChange","ngModel"],["for","systemEmailUsername",1,"form-label","fw-bold"],["type","text","id","systemEmailUsername","name","systemEmailUsername",1,"form-control",3,"ngModelChange","ngModel"],["for","systemEmailAddress",1,"form-label","fw-bold"],["type","text","id","systemEmailAddress","name","systemEmailAddress",1,"form-control",3,"ngModelChange","ngModel"],["for","systemEmailPassword",1,"form-label","fw-bold"],["type","password","id","systemEmailPassword","name","systemEmailPassword",1,"form-control",3,"ngModelChange","ngModel"],["for","chatGPTUrl",1,"form-label","fw-bold"],["type","text","id","chatGPTUrl","name","chatGPTUrl",1,"form-control",3,"ngModelChange","ngModel"],["for","chatGPTApiKey",1,"form-label","fw-bold"],["type","text","id","chatGPTApiKey","name","chatGPTApiKey",1,"form-control",3,"ngModelChange","ngModel"],["for","chatGPTModelName",1,"form-label","fw-bold"],["type","text","id","chatGPTModelName","name","chatGPTModelName",1,"form-control",3,"ngModelChange","ngModel"],["for","chatGPTMasterInstruction",1,"form-label","fw-bold"],["name","chatGPTMasterInstruction","id","chatGPTMasterInstruction","rows","3","required","","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","companyPhone",1,"form-label","fw-bold"],["type","text","id","companyPhone","name","companyPhone",1,"form-control",3,"ngModelChange","ngModel"],["for","companyEmail",1,"form-label","fw-bold"],["type","text","id","companyEmail","name","companyEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","companyAddress",1,"form-label","fw-bold"],["type","text","id","companyAddress","name","companyAddress",1,"form-control",3,"ngModelChange","ngModel"],["for","mainLogo",1,"form-label","fw-bold"],["type","text","id","mainLogo","name","mainLogoPath",1,"form-control",3,"ngModelChange","ngModel"],["for","faviconLogo",1,"form-label","fw-bold"],["type","text","id","faviconLogo","name","faviconPath",1,"form-control",3,"ngModelChange","ngModel"],["for","oktaDomain",1,"form-label","fw-bold"],["type","text","id","oktaDomain","name","oktaDomain",1,"form-control",3,"ngModelChange","ngModel"],["for","oktaClientId",1,"form-label","fw-bold"],["type","text","id","oktaClientId","name","oktaClientId",1,"form-control",3,"ngModelChange","ngModel"],["for","oktaRedirectURL",1,"form-label","fw-bold"],["type","text","id","oktaRedirectURL","name","oktaRedirectURL",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11," Manage Settings "),g()()()()(),_(12,"div")(13,"div",2)(14,"div",9)(15,"form",10),B("ngSubmit",function(){return i.onSubmit()}),_(16,"h2"),x(17,"General Settings"),g(),_(18,"div",11)(19,"label",12),x(20,"Application Name"),g(),_(21,"input",13),H("ngModelChange",function(r){return j(i.settings.appName,r)||(i.settings.appName=r),r}),g()(),_(22,"div",11)(23,"label",14),x(24,"Home Page Title"),g(),_(25,"input",15),H("ngModelChange",function(r){return j(i.settings.homePageTitle,r)||(i.settings.homePageTitle=r),r}),g()(),_(26,"h2"),x(27,"Configure System Email"),g(),_(28,"div",11)(29,"label",16),x(30,"Username"),g(),_(31,"input",17),H("ngModelChange",function(r){return j(i.settings.systemEmail.username,r)||(i.settings.systemEmail.username=r),r}),g()(),_(32,"div",11)(33,"label",18),x(34,"Email Address"),g(),_(35,"input",19),H("ngModelChange",function(r){return j(i.settings.systemEmail.emailAddress,r)||(i.settings.systemEmail.emailAddress=r),r}),g()(),_(36,"div",11)(37,"label",20),x(38,"Password"),g(),_(39,"input",21),H("ngModelChange",function(r){return j(i.settings.systemEmail.password,r)||(i.settings.systemEmail.password=r),r}),g()(),_(40,"h2"),x(41,"Configure ChatGPT"),g(),_(42,"div",11)(43,"label",22),x(44,"URL"),g(),_(45,"input",23),H("ngModelChange",function(r){return j(i.settings.chatGPT.url,r)||(i.settings.chatGPT.url=r),r}),g()(),_(46,"div",11)(47,"label",24),x(48,"API Key"),g(),_(49,"input",25),H("ngModelChange",function(r){return j(i.settings.chatGPT.apiKey,r)||(i.settings.chatGPT.apiKey=r),r}),g()(),_(50,"div",11)(51,"label",26),x(52,"Model Name"),g(),_(53,"input",27),H("ngModelChange",function(r){return j(i.settings.chatGPT.modelName,r)||(i.settings.chatGPT.modelName=r),r}),g()(),_(54,"div",11)(55,"label",28),x(56,"Master Instruction"),g(),_(57,"textarea",29),H("ngModelChange",function(r){return j(i.settings.chatGPT.masterInstruction,r)||(i.settings.chatGPT.masterInstruction=r),r}),x(58,"              "),g()(),_(59,"h2"),x(60,"Company Contact Information"),g(),_(61,"div",11)(62,"label",30),x(63,"Phone Number"),g(),_(64,"input",31),H("ngModelChange",function(r){return j(i.settings.companyContact.phone,r)||(i.settings.companyContact.phone=r),r}),g()(),_(65,"div",11)(66,"label",32),x(67,"Email Address"),g(),_(68,"input",33),H("ngModelChange",function(r){return j(i.settings.companyContact.emailAddress,r)||(i.settings.companyContact.emailAddress=r),r}),g()(),_(69,"div",11)(70,"label",34),x(71,"Company Full Address"),g(),_(72,"input",35),H("ngModelChange",function(r){return j(i.settings.companyContact.fullAddress,r)||(i.settings.companyContact.fullAddress=r),r}),g()(),_(73,"h2"),x(74,"Website Graphic Content"),g(),_(75,"div",11)(76,"label",36),x(77,"Website Bot Logo"),g(),_(78,"input",37),H("ngModelChange",function(r){return j(i.settings.websiteContent.mainLogoPath,r)||(i.settings.websiteContent.mainLogoPath=r),r}),g()(),_(79,"div",11)(80,"label",38),x(81,"Website Favicon Logo"),g(),_(82,"input",39),H("ngModelChange",function(r){return j(i.settings.websiteContent.faviconPath,r)||(i.settings.websiteContent.faviconPath=r),r}),g()(),_(83,"h2"),x(84,"Okta SSO Credentials"),g(),_(85,"div",11)(86,"label",40),x(87,"Domain"),g(),_(88,"input",41),H("ngModelChange",function(r){return j(i.settings.oktaSSO.domain,r)||(i.settings.oktaSSO.domain=r),r}),g()(),_(89,"div",11)(90,"label",42),x(91,"Client Id"),g(),_(92,"input",43),H("ngModelChange",function(r){return j(i.settings.oktaSSO.clientId,r)||(i.settings.oktaSSO.clientId=r),r}),g()(),_(93,"div",11)(94,"label",44),x(95,"Redirect URL"),g(),_(96,"input",45),H("ngModelChange",function(r){return j(i.settings.oktaSSO.redirectURL,r)||(i.settings.oktaSSO.redirectURL=r),r}),g()(),_(97,"button",46),x(98,"Update"),g()()()()()()()),e&2&&(M(21),W("ngModel",i.settings.appName),M(4),W("ngModel",i.settings.homePageTitle),M(6),W("ngModel",i.settings.systemEmail.username),M(4),W("ngModel",i.settings.systemEmail.emailAddress),M(4),W("ngModel",i.settings.systemEmail.password),M(6),W("ngModel",i.settings.chatGPT.url),M(4),W("ngModel",i.settings.chatGPT.apiKey),M(4),W("ngModel",i.settings.chatGPT.modelName),M(4),W("ngModel",i.settings.chatGPT.masterInstruction),M(7),W("ngModel",i.settings.companyContact.phone),M(4),W("ngModel",i.settings.companyContact.emailAddress),M(4),W("ngModel",i.settings.companyContact.fullAddress),M(6),W("ngModel",i.settings.websiteContent.mainLogoPath),M(4),W("ngModel",i.settings.websiteContent.faviconPath),M(6),W("ngModel",i.settings.oktaSSO.domain),M(4),W("ngModel",i.settings.oktaSSO.clientId),M(4),W("ngModel",i.settings.oktaSSO.redirectURL))},dependencies:[We,_e,Se,Ue,St,xe,Le,et]})};function ir(n){return n+.5|0}var $i=(n,t,e)=>Math.max(Math.min(n,e),t);function er(n){return $i(ir(n*2.55),0,255)}function Gi(n){return $i(ir(n*255),0,255)}function Mi(n){return $i(ir(n/2.55)/100,0,1)}function Ph(n){return $i(ir(n*100),0,100)}var jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yl=[..."0123456789ABCDEF"],xv=n=>Yl[n&15],wv=n=>Yl[(n&240)>>4]+Yl[n&15],Ro=n=>(n&240)>>4===(n&15),Sv=n=>Ro(n.r)&&Ro(n.g)&&Ro(n.b)&&Ro(n.a);function Cv(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&jt[n[1]]*17,g:255&jt[n[2]]*17,b:255&jt[n[3]]*17,a:t===5?jt[n[4]]*17:255}:(t===7||t===9)&&(e={r:jt[n[1]]<<4|jt[n[2]],g:jt[n[3]]<<4|jt[n[4]],b:jt[n[5]]<<4|jt[n[6]],a:t===9?jt[n[7]]<<4|jt[n[8]]:255})),e}var Mv=(n,t)=>n<255?t(n):"";function kv(n){var t=Sv(n)?xv:wv;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Mv(n.a,t):void 0}var Dv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lh(n,t,e){let i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Ev(n,t,e){let i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Ov(n,t,e){let i=Lh(n,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function Iv(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function $l(n){let e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2,c,u,h;return r!==o&&(h=r-o,u=a>.5?h/(2-r-o):h/(r+o),c=Iv(e,i,s,h,r),c=c*60+.5),[c|0,u||0,a]}function Gl(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Gi)}function ql(n,t,e){return Gl(Lh,n,t,e)}function Av(n,t,e){return Gl(Ov,n,t,e)}function Tv(n,t,e){return Gl(Ev,n,t,e)}function Vh(n){return(n%360+360)%360}function Pv(n){let t=Dv.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?er(+t[5]):Gi(+t[5]));let s=Vh(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Av(s,r,o):t[1]==="hsv"?i=Tv(s,r,o):i=ql(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function Nv(n,t){var e=$l(n);e[0]=Vh(e[0]+t),e=ql(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Rv(n){if(!n)return;let t=$l(n),e=t[0],i=Ph(t[1]),s=Ph(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Mi(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}var Nh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fv(){let n={},t=Object.keys(Rh),e=Object.keys(Nh),i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,Nh[r]);r=parseInt(Rh[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}var Fo;function Lv(n){Fo||(Fo=Fv(),Fo.transparent=[0,0,0,0]);let t=Fo[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Vv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zv(n){let t=Vv.exec(n),e=255,i,s,r;if(t){if(t[7]!==i){let o=+t[7];e=t[8]?er(o):$i(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?er(i):$i(i,0,255)),s=255&(t[4]?er(s):$i(s,0,255)),r=255&(t[6]?er(r):$i(r,0,255)),{r:i,g:s,b:r,a:e}}}function Uv(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Mi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Bl=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ts=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Wv(n,t,e){let i=ts(Mi(n.r)),s=ts(Mi(n.g)),r=ts(Mi(n.b));return{r:Gi(Bl(i+e*(ts(Mi(t.r))-i))),g:Gi(Bl(s+e*(ts(Mi(t.g))-s))),b:Gi(Bl(r+e*(ts(Mi(t.b))-r))),a:n.a+e*(t.a-n.a)}}function Lo(n,t,e){if(n){let i=$l(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ql(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function zh(n,t){return n&&Object.assign(t||{},n)}function Fh(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Gi(n[3]))):(t=zh(n,{r:0,g:0,b:0,a:1}),t.a=Gi(t.a)),t}function jv(n){return n.charAt(0)==="r"?zv(n):Pv(n)}var tr=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=Fh(t):e==="string"&&(i=Cv(t)||Lv(t)||jv(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=zh(this._rgb);return t&&(t.a=Mi(t.a)),t}set rgb(t){this._rgb=Fh(t)}rgbString(){return this._valid?Uv(this._rgb):void 0}hexString(){return this._valid?kv(this._rgb):void 0}hslString(){return this._valid?Rv(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,s=t.rgb,r,o=e===r?.5:e,a=2*o-1,c=i.a-s.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,i.r=255&u*i.r+r*s.r+.5,i.g=255&u*i.g+r*s.g+.5,i.b=255&u*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Wv(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=Gi(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=ir(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Lo(this._rgb,2,t),this}darken(t){return Lo(this._rgb,2,-t),this}saturate(t){return Lo(this._rgb,1,t),this}desaturate(t){return Lo(this._rgb,1,-t),this}rotate(t){return Nv(this._rgb,t),this}};function li(){}var Kh=(()=>{let n=0;return()=>n++})();function pe(n){return n===null||typeof n>"u"}function Ae(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function de(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ye(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Et(n,t){return Ye(n)?n:t}function re(n,t){return typeof n>"u"?t:n}var Xh=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Jl=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ee(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ce(n,t,e,i){let s,r,o;if(Ae(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if(de(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function rr(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Wo(n){if(Ae(n))return n.map(Wo);if(de(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,s=0;for(;s<i;++s)t[e[s]]=Wo(n[e[s]]);return t}return n}function Jh(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Hv(n,t,e,i){if(!Jh(n))return;let s=t[n],r=e[n];de(s)&&de(r)?ns(s,r,i):t[n]=Wo(r)}function ns(n,t,e){let i=Ae(t)?t:[t],s=i.length;if(!de(n))return n;e=e||{};let r=e.merger||Hv,o;for(let a=0;a<s;++a){if(o=i[a],!de(o))continue;let c=Object.keys(o);for(let u=0,h=c.length;u<h;++u)r(c[u],n,o,e)}return n}function rs(n,t){return ns(n,t,{merger:Bv})}function Bv(n,t,e){if(!Jh(n))return;let i=t[n],s=e[n];de(i)&&de(s)?rs(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Wo(s))}var Uh={"":n=>n,x:n=>n.x,y:n=>n.y};function Yv(n){let t=n.split("."),e=[],i="";for(let s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function $v(n){let t=Yv(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function Ei(n,t){return(Uh[t]||(Uh[t]=$v(t)))(n)}function Yo(n){return n.charAt(0).toUpperCase()+n.slice(1)}var os=n=>typeof n<"u",ki=n=>typeof n=="function",Ql=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function Qh(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Te=Math.PI,Pe=2*Te,Gv=Pe+Te,jo=Number.POSITIVE_INFINITY,qv=Te/180,Ze=Te/2,yn=Te/4,Wh=Te*2/3,Di=Math.log10,Qt=Math.sign;function as(n,t,e){return Math.abs(n-t)<e}function ec(n){let t=Math.round(n);n=as(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Di(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function ef(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function wn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function tf(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function tc(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Ht(n){return n*(Te/180)}function $o(n){return n*(180/Te)}function ic(n){if(!Ye(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function nc(n,t){let e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i),r=Math.atan2(i,e);return r<-.5*Te&&(r+=Pe),{angle:r,distance:s}}function Ho(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Zv(n,t){return(n-t+Gv)%Pe-Te}function Dt(n){return(n%Pe+Pe)%Pe}function ls(n,t,e,i){let s=Dt(n),r=Dt(t),o=Dt(e),a=Dt(r-s),c=Dt(o-s),u=Dt(s-r),h=Dt(s-o);return s===r||s===o||i&&r===o||a>c&&u<h}function st(n,t,e){return Math.max(t,Math.min(e,n))}function nf(n){return st(n,-32768,32767)}function ci(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Go(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}var oi=(n,t,e,i)=>Go(n,e,i?s=>{let r=n[s][t];return r<e||r===e&&n[s+1][t]===e}:s=>n[s][t]<e),sf=(n,t,e)=>Go(n,e,i=>n[i][t]>=e);function rf(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}var of=["push","pop","shift","splice","unshift"];function af(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),of.forEach(e=>{let i="_onData"+Yo(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){let o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function sc(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(of.forEach(r=>{delete n[r]}),delete n._chartjs)}function rc(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var oc=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function ac(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,oc.call(window,()=>{i=!1,n.apply(t,e)}))}}function lf(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var qo=n=>n==="start"?"left":n==="end"?"right":"center",ct=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,cf=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function lc(n,t,e){let i=t.length,s=0,r=i;if(n._sorted){let{iScale:o,_parsed:a}=n,c=o.axis,{min:u,max:h,minDefined:p,maxDefined:b}=o.getUserBounds();p&&(s=st(Math.min(oi(a,c,u).lo,e?i:oi(t,c,o.getPixelForValue(u)).lo),0,i-1)),b?r=st(Math.max(oi(a,o.axis,h,!0).hi+1,e?0:oi(t,c,o.getPixelForValue(h),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function cc(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;let r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}var Vo=n=>n===0||n===1,jh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Pe/e)),Hh=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Pe/e)+1,is={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ze)+1,easeOutSine:n=>Math.sin(n*Ze),easeInOutSine:n=>-.5*(Math.cos(Te*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Vo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Vo(n)?n:jh(n,.075,.3),easeOutElastic:n=>Vo(n)?n:Hh(n,.075,.3),easeInOutElastic(n){return Vo(n)?n:n<.5?.5*jh(n*2,.1125,.45):.5+.5*Hh(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-is.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?is.easeInBounce(n*2)*.5:is.easeOutBounce(n*2-1)*.5+.5};function dc(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function uc(n){return dc(n)?n:new tr(n)}function Zl(n){return dc(n)?n:new tr(n).saturate(.5).darken(.1).hexString()}var Kv=["x","y","borderWidth","radius","tension"],Xv=["color","borderColor","backgroundColor"];function Jv(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Xv},numbers:{type:"number",properties:Kv}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Qv(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Bh=new Map;function e1(n,t){t=t||{};let e=n+JSON.stringify(t),i=Bh.get(e);return i||(i=new Intl.NumberFormat(n,t),Bh.set(e,i)),i}function cs(n,t,e){return e1(t,e).format(n)}var df={values(n){return Ae(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,s,r=n;if(e.length>1){let u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=t1(n,e)}let o=Di(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),cs(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(Di(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?df.numeric.call(this,n,t,e):""}};function t1(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var or={formatters:df};function i1(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:or.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Zi=Object.create(null),Zo=Object.create(null);function nr(n,t){if(!t)return n;let e=t.split(".");for(let i=0,s=e.length;i<s;++i){let r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function Kl(n,t,e){return typeof t=="string"?ns(nr(n,t),e):ns(nr(n,""),t)}var Xl=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Zl(s.backgroundColor),this.hoverBorderColor=(i,s)=>Zl(s.borderColor),this.hoverColor=(i,s)=>Zl(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Kl(this,t,e)}get(t){return nr(this,t)}describe(t,e){return Kl(Zo,t,e)}override(t,e){return Kl(Zi,t,e)}route(t,e,i,s){let r=nr(this,t),o=nr(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],u=o[s];return de(c)?Object.assign({},u,c):re(c,u)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}},Ve=new Xl({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jv,Qv,i1]);function n1(n){return!n||pe(n.size)||pe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sr(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function uf(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0,a=e.length,c,u,h,p,b;for(c=0;c<a;c++)if(p=e[c],p!=null&&!Ae(p))o=sr(n,s,r,o,p);else if(Ae(p))for(u=0,h=p.length;u<h;u++)b=p[u],b!=null&&!Ae(b)&&(o=sr(n,s,r,o,b));n.restore();let y=r.length/2;if(y>e.length){for(c=0;c<y;c++)delete s[r[c]];r.splice(0,y)}return o}function Ki(n,t,e){let i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function hc(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ko(n,t,e,i){fc(n,t,e,i,null)}function fc(n,t,e,i,s){let r,o,a,c,u,h,p,b,y=t.pointStyle,v=t.rotation,S=t.radius,C=(v||0)*qv;if(y&&typeof y=="object"&&(r=y.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),y){default:s?n.ellipse(e,i,s/2,S,0,0,Pe):n.arc(e,i,S,0,Pe),n.closePath();break;case"triangle":h=s?s/2:S,n.moveTo(e+Math.sin(C)*h,i-Math.cos(C)*S),C+=Wh,n.lineTo(e+Math.sin(C)*h,i-Math.cos(C)*S),C+=Wh,n.lineTo(e+Math.sin(C)*h,i-Math.cos(C)*S),n.closePath();break;case"rectRounded":u=S*.516,c=S-u,o=Math.cos(C+yn)*c,p=Math.cos(C+yn)*(s?s/2-u:c),a=Math.sin(C+yn)*c,b=Math.sin(C+yn)*(s?s/2-u:c),n.arc(e-p,i-a,u,C-Te,C-Ze),n.arc(e+b,i-o,u,C-Ze,C),n.arc(e+p,i+a,u,C,C+Ze),n.arc(e-b,i+o,u,C+Ze,C+Te),n.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*S,h=s?s/2:c,n.rect(e-h,i-c,2*h,2*c);break}C+=yn;case"rectRot":p=Math.cos(C)*(s?s/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,b=Math.sin(C)*(s?s/2:S),n.moveTo(e-p,i-a),n.lineTo(e+b,i-o),n.lineTo(e+p,i+a),n.lineTo(e-b,i+o),n.closePath();break;case"crossRot":C+=yn;case"cross":p=Math.cos(C)*(s?s/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,b=Math.sin(C)*(s?s/2:S),n.moveTo(e-p,i-a),n.lineTo(e+p,i+a),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o);break;case"star":p=Math.cos(C)*(s?s/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,b=Math.sin(C)*(s?s/2:S),n.moveTo(e-p,i-a),n.lineTo(e+p,i+a),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o),C+=yn,p=Math.cos(C)*(s?s/2:S),o=Math.cos(C)*S,a=Math.sin(C)*S,b=Math.sin(C)*(s?s/2:S),n.moveTo(e-p,i-a),n.lineTo(e+p,i+a),n.moveTo(e+b,i-o),n.lineTo(e-b,i+o);break;case"line":o=s?s/2:Math.cos(C)*S,a=Math.sin(C)*S,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(s?s/2:S),i+Math.sin(C)*S);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ai(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ar(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function lr(n){n.restore()}function hf(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){let r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ff(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function s1(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),pe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function r1(n,t,e,i,s){if(s.strikethrough||s.underline){let r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=e-r.actualBoundingBoxAscent,u=e+r.actualBoundingBoxDescent,h=s.strikethrough?(c+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,h),n.lineTo(a,h),n.stroke()}}function o1(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Xi(n,t,e,i,s,r={}){let o=Ae(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="",c,u;for(n.save(),n.font=s.string,s1(n,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&o1(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),pe(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(u,e,i,r.maxWidth)),n.fillText(u,e,i,r.maxWidth),r1(n,e,i,u,r),i+=Number(s.lineHeight);n.restore()}function ds(n,t){let{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*Te,Te,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Te,Ze,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Ze,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-Ze,!0),n.lineTo(e+o.topLeft,i)}var a1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c1(n,t){let e=(""+n).match(a1);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var d1=n=>+n||0;function Xo(n,t){let e={},i=de(t),s=i?Object.keys(t):t,r=de(n)?i?o=>re(n[o],n[t[o]]):o=>n[o]:()=>n;for(let o of s)e[o]=d1(r(o));return e}function pc(n){return Xo(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ji(n){return Xo(n,["topLeft","topRight","bottomLeft","bottomRight"])}function dt(n){let t=pc(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function tt(n,t){n=n||{},t=t||Ve.font;let e=re(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=re(n.style,t.style);i&&!(""+i).match(l1)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let s={family:re(n.family,t.family),lineHeight:c1(re(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:re(n.weight,t.weight),string:""};return s.string=n1(s),s}function us(n,t,e,i){let s=!0,r,o,a;for(r=0,o=n.length;r<o;++r)if(a=n[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&Ae(a)&&(a=a[e%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function pf(n,t,e){let{min:i,max:s}=n,r=Jl(t,(s-i)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Oi(n,t){return Object.assign(Object.create(n),t)}function Jo(n,t=[""],e,i,s=()=>n[0]){let r=e||n;typeof i>"u"&&(i=bf("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Jo([a,...n],t,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return mf(a,c,()=>_1(c,t,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return $h(a).includes(c)},ownKeys(a){return $h(a)},set(a,c,u){let h=a._storage||(a._storage=s());return a[c]=h[c]=u,delete a._keys,!0}})}function xn(n,t,e,i){let s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:mc(n,i),setContext:r=>xn(n,r,e,i),override:r=>xn(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return mf(r,o,()=>h1(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function mc(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:ki(e)?e:()=>e,isIndexable:ki(i)?i:()=>i}}var u1=(n,t)=>n?n+Yo(t):t,gc=(n,t)=>de(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function mf(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let i=e();return n[t]=i,i}function h1(n,t,e){let{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n,a=i[t];return ki(a)&&o.isScriptable(t)&&(a=f1(t,a,n,e)),Ae(a)&&a.length&&(a=p1(t,a,n,o.isIndexable)),gc(t,a)&&(a=xn(a,s,r&&r[t],o)),a}function f1(n,t,e,i){let{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(r,o||i);return a.delete(n),gc(n,c)&&(c=bc(s._scopes,s,n,c)),c}function p1(n,t,e,i){let{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(de(t[0])){let c=t,u=s._scopes.filter(h=>h!==c);t=[];for(let h of c){let p=bc(u,s,n,h);t.push(xn(p,r,o&&o[n],a))}}return t}function gf(n,t,e){return ki(n)?n(t,e):n}var m1=(n,t)=>n===!0?t:typeof n=="string"?Ei(t,n):void 0;function g1(n,t,e,i,s){for(let r of t){let o=m1(e,r);if(o){n.add(o);let a=gf(o._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function bc(n,t,e,i){let s=t._rootScopes,r=gf(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let c=Yh(a,o,e,r||e,i);return c===null||typeof r<"u"&&r!==e&&(c=Yh(a,o,r,c,i),c===null)?!1:Jo(Array.from(a),[""],s,r,()=>b1(t,e,i))}function Yh(n,t,e,i,s){for(;e;)e=g1(n,t,e,i,s);return e}function b1(n,t,e){let i=n._getTarget();t in i||(i[t]={});let s=i[t];return Ae(s)&&de(e)?e:s||{}}function _1(n,t,e,i){let s;for(let r of t)if(s=bf(u1(r,n),e),typeof s<"u")return gc(n,s)?bc(e,i,n,s):s}function bf(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i<"u")return i}}function $h(n){let t=n._keys;return t||(t=n._keys=y1(n._scopes)),t}function y1(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function _c(n,t,e,i){let{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i),a,c,u,h;for(a=0,c=i;a<c;++a)u=a+e,h=t[u],o[a]={r:s.parse(Ei(h,r),u)};return o}var v1=Number.EPSILON||1e-14,ss=(n,t)=>t<n.length&&!n[t].skip&&n[t],_f=n=>n==="x"?"y":"x";function x1(n,t,e,i){let s=n.skip?t:n,r=t,o=e.skip?t:e,a=Ho(r,s),c=Ho(o,r),u=a/(a+c),h=c/(a+c);u=isNaN(u)?0:u,h=isNaN(h)?0:h;let p=i*u,b=i*h;return{previous:{x:r.x-p*(o.x-s.x),y:r.y-p*(o.y-s.y)},next:{x:r.x+b*(o.x-s.x),y:r.y+b*(o.y-s.y)}}}function w1(n,t,e){let i=n.length,s,r,o,a,c,u=ss(n,0);for(let h=0;h<i-1;++h)if(c=u,u=ss(n,h+1),!(!c||!u)){if(as(t[h],0,v1)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=s*o*t[h],e[h+1]=r*o*t[h])}}function S1(n,t,e="x"){let i=_f(e),s=n.length,r,o,a,c=ss(n,0);for(let u=0;u<s;++u){if(o=a,a=c,c=ss(n,u+1),!a)continue;let h=a[e],p=a[i];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${i}`]=p-r*t[u]),c&&(r=(c[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${i}`]=p+r*t[u])}}function C1(n,t="x"){let e=_f(t),i=n.length,s=Array(i).fill(0),r=Array(i),o,a,c,u=ss(n,0);for(o=0;o<i;++o)if(a=c,c=u,u=ss(n,o+1),!!c){if(u){let h=u[t]-c[t];s[o]=h!==0?(u[e]-c[e])/h:0}r[o]=a?u?Qt(s[o-1])!==Qt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}w1(n,s,r),S1(n,r,t)}function zo(n,t,e){return Math.max(Math.min(n,e),t)}function M1(n,t){let e,i,s,r,o,a=ai(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&ai(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=zo(s.cp1x,t.left,t.right),s.cp1y=zo(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=zo(s.cp2x,t.left,t.right),s.cp2y=zo(s.cp2y,t.top,t.bottom)))}function yf(n,t,e,i,s){let r,o,a,c;if(t.spanGaps&&(n=n.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")C1(n,s);else{let u=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],c=x1(u,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}t.capBezierPoints&&M1(n,e)}function Qo(){return typeof window<"u"&&typeof document<"u"}function ea(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bo(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var ta=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function k1(n,t){return ta(n).getPropertyValue(t)}var D1=["top","right","bottom","left"];function vn(n,t,e){let i={};e=e?"-"+e:"";for(let s=0;s<4;s++){let r=D1[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var E1=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function O1(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i,o=!1,a,c;if(E1(s,r,n.target))a=s,c=r;else{let u=t.getBoundingClientRect();a=i.clientX-u.left,c=i.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Qi(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,s=ta(e),r=s.boxSizing==="border-box",o=vn(s,"padding"),a=vn(s,"border","width"),{x:c,y:u,box:h}=O1(n,e),p=o.left+(h&&a.left),b=o.top+(h&&a.top),{width:y,height:v}=t;return r&&(y-=o.width+a.width,v-=o.height+a.height),{x:Math.round((c-p)/y*e.width/i),y:Math.round((u-b)/v*e.height/i)}}function I1(n,t,e){let i,s;if(t===void 0||e===void 0){let r=n&&ea(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{let o=r.getBoundingClientRect(),a=ta(r),c=vn(a,"border","width"),u=vn(a,"padding");t=o.width-u.width-c.width,e=o.height-u.height-c.height,i=Bo(a.maxWidth,r,"clientWidth"),s=Bo(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||jo,maxHeight:s||jo}}var Uo=n=>Math.round(n*10)/10;function vf(n,t,e,i){let s=ta(n),r=vn(s,"margin"),o=Bo(s.maxWidth,n,"clientWidth")||jo,a=Bo(s.maxHeight,n,"clientHeight")||jo,c=I1(n,t,e),{width:u,height:h}=c;if(s.boxSizing==="content-box"){let b=vn(s,"border","width"),y=vn(s,"padding");u-=y.width+b.width,h-=y.height+b.height}return u=Math.max(0,u-r.width),h=Math.max(0,i?u/i:h-r.height),u=Uo(Math.min(u,o,c.maxWidth)),h=Uo(Math.min(h,a,c.maxHeight)),u&&!h&&(h=Uo(u/2)),(t!==void 0||e!==void 0)&&i&&c.height&&h>c.height&&(h=c.height,u=Uo(Math.floor(h*i))),{width:u,height:h}}function yc(n,t,e){let i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var xf=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};Qo()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function vc(n,t){let e=k1(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qi(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function wf(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Sf(n,t,e,i){let s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=qi(n,s,e),a=qi(s,r,e),c=qi(r,t,e),u=qi(o,a,e),h=qi(a,c,e);return qi(u,h,e)}var A1=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},T1=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Sn(n,t,e){return n?A1(t,e):T1()}function xc(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function wc(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Cf(n){return n==="angle"?{between:ls,compare:Zv,normalize:Dt}:{between:ci,compare:(t,e)=>t-e,normalize:t=>t}}function Gh({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function P1(n,t,e){let{property:i,start:s,end:r}=e,{between:o,normalize:a}=Cf(i),c=t.length,{start:u,end:h,loop:p}=n,b,y;if(p){for(u+=c,h+=c,b=0,y=c;b<y&&o(a(t[u%c][i]),s,r);++b)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:p,style:n.style}}function Sc(n,t,e){if(!e)return[n];let{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:c,normalize:u}=Cf(i),{start:h,end:p,loop:b,style:y}=P1(n,t,e),v=[],S=!1,C=null,D,E,I,O=()=>c(s,I,D)&&a(s,I)!==0,A=()=>a(r,D)===0||c(r,I,D),N=()=>S||O(),U=()=>!S||A();for(let F=h,G=h;F<=p;++F)E=t[F%o],!E.skip&&(D=u(E[i]),D!==I&&(S=c(D,s,r),C===null&&N()&&(C=a(D,s)===0?F:G),C!==null&&U()&&(v.push(Gh({start:C,end:F,loop:b,count:o,style:y})),C=null),G=F,I=D));return C!==null&&v.push(Gh({start:C,end:p,loop:b,count:o,style:y})),v}function Cc(n,t){let e=[],i=n.segments;for(let s=0;s<i.length;s++){let r=Sc(i[s],n.points,t);r.length&&e.push(...r)}return e}function N1(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function R1(n,t,e,i){let s=n.length,r=[],o=t,a=n[t],c;for(c=t+1;c<=e;++c){let u=n[c%s];u.skip||u.stop?a.skip||(i=!1,r.push({start:t%s,end:(c-1)%s,loop:i}),t=o=u.stop?c:null):(o=c,a.skip&&(t=c)),a=u}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function Mf(n,t){let e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];let r=!!n._loop,{start:o,end:a}=N1(e,s,r,i);if(i===!0)return qh(n,[{start:o,end:a,loop:r}],e,t);let c=a<o?a+s:a,u=!!n._fullLoop&&o===0&&a===s-1;return qh(n,R1(e,o,c,u),e,t)}function qh(n,t,e,i){return!i||!i.setContext||!e?t:F1(n,t,e,i)}function F1(n,t,e,i){let s=n._chart.getContext(),r=Zh(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=e.length,u=[],h=r,p=t[0].start,b=p;function y(v,S,C,D){let E=a?-1:1;if(v!==S){for(v+=c;e[v%c].skip;)v-=E;for(;e[S%c].skip;)S+=E;v%c!==S%c&&(u.push({start:v%c,end:S%c,loop:C,style:D}),h=D,p=S%c)}}for(let v of t){p=a?p:v.start;let S=e[p%c],C;for(b=p+1;b<=v.end;b++){let D=e[b%c];C=Zh(i.setContext(Oi(s,{type:"segment",p0:S,p1:D,p0DataIndex:(b-1)%c,p1DataIndex:b%c,datasetIndex:o}))),L1(C,h)&&y(p,b-1,v.loop,h),S=D,h=C}p<b-1&&y(p,b-1,v.loop,h)}return u}function Zh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function L1(n,t){if(!t)return!1;let e=[],i=function(s,r){return dc(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}var Rc=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){let r=e.listeners[s],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=oc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;let r=i.items,o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Ii=new Rc,kf="transparent",V1={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=uc(n||kf),s=i.valid&&uc(t||kf);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},Fc=class{constructor(t,e,i,s){let r=e[i];s=us([t.to,s,r,t.from]);let o=us([t.from,r,s]);this._active=!0,this._fn=t.fn||V1[t.type||typeof o],this._easing=is[t.easing]||is.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=us([t.to,e,s,t.from]),this._from=us([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to,c;if(this._active=r!==a&&(o||e<i),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=r;return}c=e/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}},ua=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!de(t))return;let e=Object.keys(Ve.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{let r=t[s];if(!de(r))return;let o={};for(let a of e)o[a]=r[a];(Ae(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){let i=e.options,s=U1(t,i);if(!s)return[];let r=this._createAnimations(s,i);return i.$shared&&z1(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){let i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,e));continue}let h=e[u],p=r[u],b=i.get(u);if(p)if(b&&p.active()){p.update(b,h,a);continue}else p.cancel();if(!b||!b.duration){t[u]=h;continue}r[u]=p=new Fc(b,t,u,h),s.push(p)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Ii.add(this._chart,i),!0}};function z1(n,t){let e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){let r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function U1(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Df(n,t){let e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function W1(n,t,e){if(e===!1)return!1;let i=Df(n,e),s=Df(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function j1(n){let t,e,i,s;return de(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function kp(n,t){let e=[],i=n._getSortedDatasetMetas(t),s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function Ef(n,t,e,i={}){let s=n.keys,r=i.mode==="single",o,a,c,u;if(t===null)return;let h=!1;for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===e){if(h=!0,i.all)continue;break}u=n.values[c],Ye(u)&&(r||t===0||Qt(t)===Qt(u))&&(t+=u)}return!h&&!i.all?0:t}function H1(n,t){let{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),c,u,h;for(c=0,u=o.length;c<u;++c)h=o[c],a[c]={[s]:h,[r]:n[h]};return a}function Mc(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function B1(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Y1(n){let{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function $1(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Of(n,t,e,i){for(let s of t.getMatchingVisibleMetas(i).reverse()){let r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function If(n,t){let{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,u=o.axis,h=B1(r,o,i),p=t.length,b;for(let y=0;y<p;++y){let v=t[y],{[c]:S,[u]:C}=v,D=v._stacks||(v._stacks={});b=D[u]=$1(s,h,S),b[a]=C,b._top=Of(b,o,!0,i.type),b._bottom=Of(b,o,!1,i.type);let E=b._visualValues||(b._visualValues={});E[a]=C}}function kc(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function G1(n,t){return Oi(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function q1(n,t,e){return Oi(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function cr(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let s of t){let r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}var Dc=n=>n==="reset"||n==="none",Af=(n,t)=>t?n:Object.assign({},n),Z1=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:kp(e,!0),values:null},tn=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Mc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cr(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,s=this.getDataset(),r=(b,y,v,S)=>b==="x"?y:b==="r"?S:v,o=i.xAxisID=re(s.xAxisID,kc(e,"x")),a=i.yAxisID=re(s.yAxisID,kc(e,"y")),c=i.rAxisID=re(s.rAxisID,kc(e,"r")),u=i.indexAxis,h=i.iAxisID=r(u,o,a,c),p=i.vAxisID=r(u,a,o,c);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(h),i.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&sc(this._data,this),e._stacked&&cr(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),s=this._data;if(de(i)){let r=this._cachedMeta;this._data=H1(i,r)}else if(s!==i){if(s){sc(s,this);let r=this._cachedMeta;cr(r),r._parsed=[]}i&&Object.isExtensible(i)&&af(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,s=this.getDataset(),r=!1;this._dataCheck();let o=i._stacked;i._stacked=Mc(i.vScale,i),i.stack!==s.stack&&(r=!0,cr(i),i.stack=s.stack),this._resyncElements(e),(r||o!==i._stacked)&&(If(this,i._parsed),i._stacked=Mc(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:a}=s,c=o.axis,u=e===0&&i===r.length?!0:s._sorted,h=e>0&&s._parsed[e-1],p,b,y;if(this._parsing===!1)s._parsed=r,s._sorted=!0,y=r;else{Ae(r[e])?y=this.parseArrayData(s,r,e,i):de(r[e])?y=this.parseObjectData(s,r,e,i):y=this.parsePrimitiveData(s,r,e,i);let v=()=>b[c]===null||h&&b[c]<h[c];for(p=0;p<i;++p)s._parsed[p+e]=b=y[p],u&&(v()&&(u=!1),h=b);s._sorted=u}a&&If(this,y)}parsePrimitiveData(e,i,s,r){let{iScale:o,vScale:a}=e,c=o.axis,u=a.axis,h=o.getLabels(),p=o===a,b=new Array(r),y,v,S;for(y=0,v=r;y<v;++y)S=y+s,b[y]={[c]:p||o.parse(h[S],S),[u]:a.parse(i[S],S)};return b}parseArrayData(e,i,s,r){let{xScale:o,yScale:a}=e,c=new Array(r),u,h,p,b;for(u=0,h=r;u<h;++u)p=u+s,b=i[p],c[u]={x:o.parse(b[0],p),y:a.parse(b[1],p)};return c}parseObjectData(e,i,s,r){let{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(r),p,b,y,v;for(p=0,b=r;p<b;++p)y=p+s,v=i[y],h[p]={x:o.parse(Ei(v,c),y),y:a.parse(Ei(v,u),y)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,s){let r=this.chart,o=this._cachedMeta,a=i[e.axis],c={keys:kp(r,!0),values:i._stacks[e.axis]._visualValues};return Ef(c,a,o.index,{mode:s})}updateRangeFromParsed(e,i,s,r){let o=s[i.axis],a=o===null?NaN:o,c=r&&s._stacks[i.axis];r&&c&&(r.values=c,a=Ef(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,a=r.length,c=this._getOtherScale(e),u=Z1(i,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:b}=Y1(c),y,v;function S(){v=r[y];let C=v[c.axis];return!Ye(v[e.axis])||p>C||b<C}for(y=0;y<a&&!(!S()&&(this.updateRangeFromParsed(h,e,v,u),o));++y);if(o){for(y=a-1;y>=0;--y)if(!S()){this.updateRangeFromParsed(h,e,v,u);break}}return h}getAllParsedValues(e){let i=this._cachedMeta._parsed,s=[],r,o,a;for(r=0,o=i.length;r<o;++r)a=i[r][e.axis],Ye(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,s=i.iScale,r=i.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=j1(re(this.options.clip,W1(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,s=this._cachedMeta,r=s.data||[],o=i.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop,p;for(s.dataset&&s.dataset.draw(e,o,c,u),p=c;p<c+u;++p){let b=r[p];b.hidden||(b.active&&h?a.push(b):b.draw(e,o))}for(p=0;p<a.length;++p)a[p].draw(e,o)}getStyle(e,i){let s=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,i,s){let r=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];o=a.$context||(a.$context=q1(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=G1(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",s){let r=i==="active",o=this._cachedDataOpts,a=e+"-"+i,c=o[a],u=this.enableOptionSharing&&os(s);if(c)return Af(c,u);let h=this.chart.config,p=h.datasetElementScopeKeys(this._type,e),b=r?[`${e}Hover`,"hover",e,""]:[e,""],y=h.getOptionScopes(this.getDataset(),p),v=Object.keys(Ve.elements[e]),S=()=>this.getContext(s,r,i),C=h.resolveNamedOptions(y,v,S,b);return C.$shared&&(C.$shared=u,o[a]=Object.freeze(Af(C,u))),C}_resolveAnimations(e,i,s){let r=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,c=o[a];if(c)return c;let u;if(r.options.animation!==!1){let p=this.chart.config,b=p.datasetAnimationScopeKeys(this._type,i),y=p.getOptionScopes(this.getDataset(),b);u=p.createResolver(y,this.getContext(e,s,i))}let h=new ua(r,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Dc(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let s=this.resolveDataElementOptions(e,i),r=this._sharedOptions,o=this.getSharedOptions(s),a=this.includeOptions(i,o)||o!==r;return this.updateSharedOptions(o,i,s),{sharedOptions:o,includeOptions:a}}updateElement(e,i,s,r){Dc(r)?Object.assign(e,s):this._resolveAnimations(i,r).update(e,s)}updateSharedOptions(e,i,s){e&&!Dc(i)&&this._resolveAnimations(void 0,i).update(e,s)}_setStyle(e,i,s,r){e.active=r;let o=this.getStyle(i,r);this._resolveAnimations(i,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,i,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,s=this._cachedMeta.data;for(let[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];let r=s.length,o=i.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,i,s=!0){let r=this._cachedMeta,o=r.data,a=e+i,c,u=h=>{for(h.length+=i,c=h.length-1;c>=a;c--)h[c]=h[c-i]};for(u(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,i),s&&this.updateElements(o,e,i,"reset")}updateElements(e,i,s,r){}_removeElements(e,i){let s=this._cachedMeta;if(this._parsing){let r=s._parsed.splice(e,i);s._stacked&&cr(s,r)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,s,r]=e;this[i](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function K1(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=rc(i.sort((s,r)=>s-r))}return n._cache.$bar}function X1(n){let t=n.iScale,e=K1(t,n.type),i=t._length,s,r,o,a,c=()=>{o===32767||o===-32768||(os(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),c();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),c();return i}function J1(n,t,e,i){let s=e.barThickness,r,o;return pe(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}function Q1(n,t,e,i){let s=t.pixels,r=s[n],o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null,c=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);let u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:e.barPercentage,start:u}}function ex(n,t,e,i){let s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r),c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),t[e.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:r,min:o,max:a}}function Dp(n,t,e,i){return Ae(n)?ex(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Tf(n,t,e,i){let s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,c=[],u,h,p,b;for(u=e,h=e+i;u<h;++u)b=t[u],p={},p[s.axis]=a||s.parse(o[u],u),c.push(Dp(b,p,r,u));return c}function Ec(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tx(n,t,e){return n!==0?Qt(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ix(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}function nx(n,t,e,i){let s=t.borderSkipped,r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:u,bottom:h}=ix(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=u:(e._bottom||0)===i?s=h:(r[Pf(h,o,a,c)]=!0,s=u)),r[Pf(s,o,a,c)]=!0,n.borderSkipped=r}function Pf(n,t,e,i){return i?(n=sx(n,t,e),n=Nf(n,e,t)):n=Nf(n,t,e),n}function sx(n,t,e){return n===t?e:n===e?t:n}function Nf(n,t,e){return n==="start"?t:n==="end"?e:n}function rx(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var ox=(()=>{class n extends tn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,s,r){return Tf(e,i,s,r)}parseArrayData(e,i,s,r){return Tf(e,i,s,r)}parseObjectData(e,i,s,r){let{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=o.axis==="x"?c:u,p=a.axis==="x"?c:u,b=[],y,v,S,C;for(y=s,v=s+r;y<v;++y)C=i[y],S={},S[o.axis]=o.parse(Ei(C,h),y),b.push(Dp(Ei(C,p),S,a,y));return b}updateRangeFromParsed(e,i,s,r){super.updateRangeFromParsed(e,i,s,r);let o=s._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:s,vScale:r}=i,o=this.getParsed(e),a=o._custom,c=Ec(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,s,r){let o=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),p=this._getRuler(),{sharedOptions:b,includeOptions:y}=this._getSharedOptions(i,r);for(let v=i;v<i+s;v++){let S=this.getParsed(v),C=o||pe(S[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),D=this._calculateBarIndexPixels(v,p),E=(S._stacks||{})[c.axis],I={horizontal:h,base:C.base,enableBorderRadius:!E||Ec(S._custom)||a===E._top||a===E._bottom,x:h?C.head:D.center,y:h?D.center:C.head,height:h?D.size:Math.abs(C.size),width:h?Math.abs(C.size):D.size};y&&(I.options=b||this.resolveDataElementOptions(v,e[v].active?"active":r));let O=I.options||e[v].options;nx(I,O,E,a),rx(I,O,p.ratio),this.updateElement(e[v],v,I,r)}}_getStacks(e,i){let{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(i),u=c&&c[s.axis],h=p=>{let b=p._parsed.find(v=>v[s.axis]===u),y=b&&b[p.vScale.axis];if(pe(y)||isNaN(y))return!0};for(let p of r)if(!(i!==void 0&&h(p))&&((o===!1||a.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,s){let r=this._getStacks(e,s),o=i!==void 0?r.indexOf(i):-1;return o===-1?r.length-1:o}_getRuler(){let e=this.options,i=this._cachedMeta,s=i.iScale,r=[],o,a;for(o=0,a=i.data.length;o<a;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));let c=e.barThickness;return{min:c||X1(i),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:s,index:r},options:{base:o,minBarLength:a}}=this,c=o||0,u=this.getParsed(e),h=u._custom,p=Ec(h),b=u[i.axis],y=0,v=s?this.applyStack(i,u,s):b,S,C;v!==b&&(y=v-b,v=b),p&&(b=h.barStart,v=h.barEnd-h.barStart,b!==0&&Qt(b)!==Qt(h.barEnd)&&(y=0),y+=b);let D=!pe(o)&&!p?o:y,E=i.getPixelForValue(D);if(this.chart.getDataVisibility(e)?S=i.getPixelForValue(y+v):S=E,C=S-E,Math.abs(C)<a){C=tx(C,i,c)*a,b===c&&(E-=C/2);let I=i.getPixelForDecimal(0),O=i.getPixelForDecimal(1),A=Math.min(I,O),N=Math.max(I,O);E=Math.max(Math.min(E,N),A),S=E+C,s&&!p&&(u._stacks[i.axis]._visualValues[r]=i.getValueForPixel(S)-i.getValueForPixel(E))}if(E===i.getPixelForValue(c)){let I=Qt(C)*i.getLineWidthForValue(c)/2;E+=I,C-=I}return{size:C,base:E,head:S,center:S+C/2}}_calculateBarIndexPixels(e,i){let s=i.scale,r=this.options,o=r.skipNull,a=re(r.maxBarThickness,1/0),c,u;if(i.grouped){let h=o?this._getStackCount(e):i.stackCount,p=r.barThickness==="flex"?Q1(e,i,r,h):J1(e,i,r,h),b=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);c=p.start+p.chunk*b+p.chunk/2,u=Math.min(a,p.chunk*p.ratio)}else c=s.getPixelForValue(this.getParsed(e)[s.axis],e),u=Math.min(a,i.min*i.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){let e=this._cachedMeta,i=e.vScale,s=e.data,r=s.length,o=0;for(;o<r;++o)this.getParsed(o)[i.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}return n})(),ax=(()=>{class n extends tn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,s,r){let o=super.parsePrimitiveData(e,i,s,r);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+s).radius;return o}parseArrayData(e,i,s,r){let o=super.parseArrayData(e,i,s,r);for(let a=0;a<o.length;a++){let c=i[s+a];o[a]._custom=re(c[2],this.resolveDataElementOptions(a+s).radius)}return o}parseObjectData(e,i,s,r){let o=super.parseObjectData(e,i,s,r);for(let a=0;a<o.length;a++){let c=i[s+a];o[a]._custom=re(c&&c.r&&+c.r,this.resolveDataElementOptions(a+s).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let s=e.length-1;s>=0;--s)i=Math.max(i,e[s].size(this.resolveDataElementOptions(s))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=i,a=this.getParsed(e),c=r.getLabelForValue(a.x),u=o.getLabelForValue(a.y),h=a._custom;return{label:s[e]||"",value:"("+c+", "+u+(h?", "+h:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,s,r){let o=r==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(i,r),p=a.axis,b=c.axis;for(let y=i;y<i+s;y++){let v=e[y],S=!o&&this.getParsed(y),C={},D=C[p]=o?a.getPixelForDecimal(.5):a.getPixelForValue(S[p]),E=C[b]=o?c.getBasePixel():c.getPixelForValue(S[b]);C.skip=isNaN(D)||isNaN(E),h&&(C.options=u||this.resolveDataElementOptions(y,v.active?"active":r),o&&(C.options.radius=0)),this.updateElement(v,y,C,r)}}resolveDataElementOptions(e,i){let s=this.getParsed(e),r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let o=r.radius;return i!=="active"&&(r.radius=0),r.radius+=re(s&&s._custom,o),r}}return n})();function lx(n,t,e){let i=1,s=1,r=0,o=0;if(t<Pe){let a=n,c=a+t,u=Math.cos(a),h=Math.sin(a),p=Math.cos(c),b=Math.sin(c),y=(I,O,A)=>ls(I,a,c,!0)?1:Math.max(O,O*e,A,A*e),v=(I,O,A)=>ls(I,a,c,!0)?-1:Math.min(O,O*e,A,A*e),S=y(0,u,p),C=y(Ze,h,b),D=v(Te,u,p),E=v(Te+Ze,h,b);i=(S-D)/2,s=(C-E)/2,r=-(S+D)/2,o=-(C+E)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}var id=(()=>{class n extends tn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:s,color:r}}=e.legend.options;return i.labels.map((o,a)=>{let u=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let o=u=>+s[u];if(de(s[e])){let{key:u="value"}=this._parsing;o=h=>+Ei(s[h],u)}let a,c;for(a=e,c=e+i;a<c;++a)r._parsed[a]=o(a)}}_getRotation(){return Ht(this.options.rotation-90)}_getCircumference(){return Ht(this.options.circumference)}_getRotationExtents(){let e=Pe,i=-Pe;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){let r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),a=r._getCircumference();e=Math.min(e,o),i=Math.max(i,o+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:s}=i,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-a)/2,0),u=Math.min(Xh(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:b}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:S,offsetY:C}=lx(b,p,u),D=(s.width-a)/y,E=(s.height-a)/v,I=Math.max(Math.min(D,E)/2,0),O=Jl(this.options.radius,I),A=Math.max(O*u,0),N=(O-A)/this._getVisibleDatasetWeightTotal();this.offsetX=S*O,this.offsetY=C*O,r.total=this.calculateTotal(),this.outerRadius=O-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){let s=this.options,r=this._cachedMeta,o=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/Pe)}updateElements(e,i,s,r){let o=r==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,p=(c.left+c.right)/2,b=(c.top+c.bottom)/2,y=o&&h.animateScale,v=y?0:this.innerRadius,S=y?0:this.outerRadius,{sharedOptions:C,includeOptions:D}=this._getSharedOptions(i,r),E=this._getRotation(),I;for(I=0;I<i;++I)E+=this._circumference(I,o);for(I=i;I<i+s;++I){let O=this._circumference(I,o),A=e[I],N={x:p+this.offsetX,y:b+this.offsetY,startAngle:E,endAngle:E+O,circumference:O,outerRadius:S,innerRadius:v};D&&(N.options=C||this.resolveDataElementOptions(I,A.active?"active":r)),E+=O,this.updateElement(A,I,N,r)}}calculateTotal(){let e=this._cachedMeta,i=e.data,s=0,r;for(r=0;r<i.length;r++){let o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Pe*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=cs(i._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let i=0,s=this.chart,r,o,a,c,u;if(!e){for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,c=a.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(i=Math.max(i,u.borderWidth||0,u.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let s=0,r=e.length;s<r;++s){let o=this.resolveDataElementOptions(s);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(e){return Math.max(re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),cx=(()=>{class n extends tn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:c,count:u}=lc(i,r,a);this._drawStart=c,this._drawCount=u,cc(i)&&(c=0,u=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;let h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:h},e),this.updateElements(r,c,u,e)}updateElements(e,i,s,r){let o=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(i,r),y=a.axis,v=c.axis,{spanGaps:S,segment:C}=this.options,D=wn(S)?S:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||o||r==="none",I=i+s,O=e.length,A=i>0&&this.getParsed(i-1);for(let N=0;N<O;++N){let U=e[N],F=E?U:{};if(N<i||N>=I){F.skip=!0;continue}let G=this.getParsed(N),ne=pe(G[v]),X=F[y]=a.getPixelForValue(G[y],N),ae=F[v]=o||ne?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,G,u):G[v],N);F.skip=isNaN(X)||isNaN(ae)||ne,F.stop=N>0&&Math.abs(G[y]-A[y])>D,C&&(F.parsed=G,F.raw=h.data[N]),b&&(F.options=p||this.resolveDataElementOptions(N,U.active?"active":r)),E||this.updateElement(U,N,F,r),A=G}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),Ep=(()=>{class n extends tn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:s,color:r}}=e.legend.options;return i.labels.map((o,a)=>{let u=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,s){s.chart.toggleDataVisibility(i.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=cs(i._parsed[e].r,s.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,i,s,r){return _c.bind(this)(e,i,s,r)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,r)=>{let o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,s=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(r/2,0),a=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),c=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,i,s,r){let o=r==="reset",a=this.chart,u=a.options.animation,h=this._cachedMeta.rScale,p=h.xCenter,b=h.yCenter,y=h.getIndexAngle(0)-.5*Te,v=y,S,C=360/this.countVisibleElements();for(S=0;S<i;++S)v+=this._computeAngle(S,r,C);for(S=i;S<i+s;S++){let D=e[S],E=v,I=v+this._computeAngle(S,r,C),O=a.getDataVisibility(S)?h.getDistanceFromCenterForValue(this.getParsed(S).r):0;v=I,o&&(u.animateScale&&(O=0),u.animateRotate&&(E=I=y));let A={x:p,y:b,innerRadius:0,outerRadius:O,startAngle:E,endAngle:I,options:this.resolveDataElementOptions(S,D.active?"active":r)};this.updateElement(D,S,A,r)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(e,i,s){return this.chart.getDataVisibility(e)?Ht(this.resolveDataElementOptions(e,i).angle||s):0}}return n})(),dx=(()=>{class n extends id{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),ux=(()=>{class n extends tn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,s=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(s[i.axis])}}parseObjectData(e,i,s,r){return _c.bind(this)(e,i,s,r)}update(e){let i=this._cachedMeta,s=i.dataset,r=i.data||[],o=i.iScale.getLabels();if(s.points=r,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===r.length,options:a};this.updateElement(s,void 0,c,e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,s,r){let o=this._cachedMeta.rScale,a=r==="reset";for(let c=i;c<i+s;c++){let u=e[c],h=this.resolveDataElementOptions(c,u.active?"active":r),p=o.getPointPositionForValue(c,this.getParsed(c).r),b=a?o.xCenter:p.x,y=a?o.yCenter:p.y,v={x:b,y,angle:p.angle,skip:isNaN(b)||isNaN(y),options:h};this.updateElement(u,c,v,r)}}}return n})(),hx=(()=>{class n extends tn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=i,a=this.getParsed(e),c=r.getLabelForValue(a.x),u=o.getLabelForValue(a.y);return{label:s[e]||"",value:"("+c+", "+u+")"}}update(e){let i=this._cachedMeta,{data:s=[]}=i,r=this.chart._animationsDisabled,{start:o,count:a}=lc(i,s,r);if(this._drawStart=o,this._drawCount=a,cc(i)&&(o=0,a=s.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:u}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=s;let h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(s,o,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,s,r){let o=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,p=this.resolveDataElementOptions(i,r),b=this.getSharedOptions(p),y=this.includeOptions(r,b),v=a.axis,S=c.axis,{spanGaps:C,segment:D}=this.options,E=wn(C)?C:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||o||r==="none",O=i>0&&this.getParsed(i-1);for(let A=i;A<i+s;++A){let N=e[A],U=this.getParsed(A),F=I?N:{},G=pe(U[S]),ne=F[v]=a.getPixelForValue(U[v],A),X=F[S]=o||G?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,U,u):U[S],A);F.skip=isNaN(ne)||isNaN(X)||G,F.stop=A>0&&Math.abs(U[v]-O[v])>E,D&&(F.parsed=U,F.raw=h.data[A]),y&&(F.options=b||this.resolveDataElementOptions(A,N.active?"active":r)),I||this.updateElement(N,A,F,r),O=U}this.updateSharedOptions(b,r,p)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let c=0;for(let u=i.length-1;u>=0;--u)c=Math.max(c,i[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}let s=e.dataset,r=s.options&&s.options.borderWidth||0;if(!i.length)return r;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,a)/2}}return n})(),fx=Object.freeze({__proto__:null,BarController:ox,BubbleController:ax,DoughnutController:id,LineController:cx,PieController:dx,PolarAreaController:Ep,RadarController:ux,ScatterController:hx});function Cn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Lc=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Cn()}parse(){return Cn()}format(){return Cn()}add(){return Cn()}diff(){return Cn()}startOf(){return Cn()}endOf(){return Cn()}},px={_date:Lc};function mx(n,t,e,i){let{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){let c=a._reversePixels?sf:oi;if(i){if(s._sharedOptions){let u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){let p=c(r,t,e-h),b=c(r,t,e+h);return{lo:p.lo,hi:b.hi}}}}else return c(r,t,e)}return{lo:0,hi:r.length-1}}function yr(n,t,e,i,s){let r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=r.length;a<c;++a){let{index:u,data:h}=r[a],{lo:p,hi:b}=mx(r[a],t,o,s);for(let y=p;y<=b;++y){let v=h[y];v.skip||i(v,u,y)}}}function gx(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){let r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Oc(n,t,e,i,s){let r=[];return!s&&!n.isPointInArea(t)||yr(n,e,t,function(a,c,u){!s&&!ai(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function bx(n,t,e,i){let s=[];function r(o,a,c){let{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:p}=nc(o,{x:t.x,y:t.y});ls(p,u,h)&&s.push({element:o,datasetIndex:a,index:c})}return yr(n,e,t,r),s}function _x(n,t,e,i,s,r){let o=[],a=gx(e),c=Number.POSITIVE_INFINITY;function u(h,p,b){let y=h.inRange(t.x,t.y,s);if(i&&!y)return;let v=h.getCenterPoint(s);if(!(!!r||n.isPointInArea(v))&&!y)return;let C=a(t,v);C<c?(o=[{element:h,datasetIndex:p,index:b}],c=C):C===c&&o.push({element:h,datasetIndex:p,index:b})}return yr(n,e,t,u),o}function Ic(n,t,e,i,s,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?bx(n,t,e,s):_x(n,t,e,i,s,r)}function Rf(n,t,e,i,s){let r=[],o=e==="x"?"inXRange":"inYRange",a=!1;return yr(n,e,t,(c,u,h)=>{c[o]&&c[o](t[e],s)&&(r.push({element:c,datasetIndex:u,index:h}),a=a||c.inRange(t.x,t.y,s))}),i&&!a?[]:r}var yx={evaluateInteractionItems:yr,modes:{index(n,t,e,i){let s=Qi(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Oc(n,s,r,i,o):Ic(n,s,r,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{let h=a[0].index,p=u.data[h];p&&!p.skip&&c.push({element:p,datasetIndex:u.index,index:h})}),c):[]},dataset(n,t,e,i){let s=Qi(t,n),r=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?Oc(n,s,r,i,o):Ic(n,s,r,!1,i,o);if(a.length>0){let c=a[0].datasetIndex,u=n.getDatasetMeta(c).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:c,index:h})}return a},point(n,t,e,i){let s=Qi(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Oc(n,s,r,i,o)},nearest(n,t,e,i){let s=Qi(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Ic(n,s,r,e.intersect,i,o)},x(n,t,e,i){let s=Qi(t,n);return Rf(n,s,"x",e.intersect,i)},y(n,t,e,i){let s=Qi(t,n);return Rf(n,s,"y",e.intersect,i)}}},Op=["left","top","right","bottom"];function dr(n,t){return n.filter(e=>e.pos===t)}function Ff(n,t){return n.filter(e=>Op.indexOf(e.pos)===-1&&e.box.axis===t)}function ur(n,t){return n.sort((e,i)=>{let s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function vx(n){let t=[],e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function xx(n){let t={};for(let e of n){let{stack:i,pos:s,stackWeight:r}=e;if(!i||!Op.includes(s))continue;let o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function wx(n,t){let e=xx(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t,r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];let{fullSize:c}=a.box,u=e[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*i:c&&t.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:c&&t.availableHeight)}return e}function Sx(n){let t=vx(n),e=ur(t.filter(u=>u.box.fullSize),!0),i=ur(dr(t,"left"),!0),s=ur(dr(t,"right")),r=ur(dr(t,"top"),!0),o=ur(dr(t,"bottom")),a=Ff(t,"x"),c=Ff(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:dr(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function Lf(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Ip(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Cx(n,t,e,i){let{pos:s,box:r}=e,o=n.maxPadding;if(!de(s)){e.size&&(n[s]-=e.size);let p=i[e.stack]||{size:0,count:1};p.size=Math.max(p.size,e.horizontal?r.height:r.width),e.size=p.size/p.count,n[s]+=e.size}r.getPadding&&Ip(o,r.getPadding());let a=Math.max(0,t.outerWidth-Lf(o,n,"left","right")),c=Math.max(0,t.outerHeight-Lf(o,n,"top","bottom")),u=a!==n.w,h=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:u,other:h}:{same:h,other:u}}function Mx(n){let t=n.maxPadding;function e(i){let s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function kx(n,t){let e=t.maxPadding;function i(s){let r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(n?["left","right"]:["top","bottom"])}function pr(n,t,e,i){let s=[],r,o,a,c,u,h;for(r=0,o=n.length,u=0;r<o;++r){a=n[r],c=a.box,c.update(a.width||t.w,a.height||t.h,kx(a.horizontal,t));let{same:p,other:b}=Cx(t,e,a,i);u|=p&&s.length,h=h||b,c.fullSize||s.push(a)}return u&&pr(s,t,e,i)||h}function ia(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function Vf(n,t,e,i){let s=e.padding,{x:r,y:o}=t;for(let a of n){let c=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){let p=t.w*h,b=u.size||c.height;os(u.start)&&(o=u.start),c.fullSize?ia(c,s.left,o,e.outerWidth-s.right-s.left,b):ia(c,t.left+u.placed,o,p,b),u.start=o,u.placed+=p,o=c.bottom}else{let p=t.h*h,b=u.size||c.width;os(u.start)&&(r=u.start),c.fullSize?ia(c,r,s.top,b,e.outerHeight-s.bottom-s.top):ia(c,r,t.top+u.placed,b,p),u.start=r,u.placed+=p,r=c.right}}t.x=r,t.y=o}var bt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let s=dt(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=Sx(n.boxes),c=a.vertical,u=a.horizontal;Ce(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});let h=c.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),b=Object.assign({},s);Ip(b,dt(i));let y=Object.assign({maxPadding:b,w:r,h:o,x:s.left,y:s.top},s),v=wx(c.concat(u),p);pr(a.fullSize,y,p,v),pr(c,y,p,v),pr(u,y,p,v)&&pr(c,y,p,v),Mx(y),Vf(a.leftAndTop,y,p,v),y.x+=y.w,y.y+=y.h,Vf(a.rightAndBottom,y,p,v),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Ce(a.chartArea,S=>{let C=S.box;Object.assign(C,n.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}},ha=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}},Vc=class extends ha{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},ca="$chartjs",Dx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zf=n=>n===null||n==="";function Ex(n,t){let e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[ca]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",zf(s)){let r=vc(n,"width");r!==void 0&&(n.width=r)}if(zf(i))if(n.style.height==="")n.height=n.width/(t||2);else{let r=vc(n,"height");r!==void 0&&(n.height=r)}return n}var Ap=xf?{passive:!0}:!1;function Ox(n,t,e){n&&n.addEventListener(t,e,Ap)}function Ix(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Ap)}function Ax(n,t){let e=Dx[n.type]||n.type,{x:i,y:s}=Qi(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function fa(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function Tx(n,t,e){let i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(let a of r)o=o||fa(a.addedNodes,i),o=o&&!fa(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Px(n,t,e){let i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(let a of r)o=o||fa(a.removedNodes,i),o=o&&!fa(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}var gr=new Map,Uf=0;function Tp(){let n=window.devicePixelRatio;n!==Uf&&(Uf=n,gr.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Nx(n,t){gr.size||window.addEventListener("resize",Tp),gr.set(n,t)}function Rx(n){gr.delete(n),gr.size||window.removeEventListener("resize",Tp)}function Fx(n,t,e){let i=n.canvas,s=i&&ea(i);if(!s)return;let r=ac((a,c)=>{let u=s.clientWidth;e(a,c),u<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{let c=a[0],u=c.contentRect.width,h=c.contentRect.height;u===0&&h===0||r(u,h)});return o.observe(s),Nx(n,r),o}function Ac(n,t,e){e&&e.disconnect(),t==="resize"&&Rx(n)}function Lx(n,t,e){let i=n.canvas,s=ac(r=>{n.ctx!==null&&e(Ax(r,n))},n);return Ox(i,t,s),s}var zc=class extends ha{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Ex(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[ca])return!1;let i=e[ca].initial;["height","width"].forEach(r=>{let o=i[r];pe(o)?e.removeAttribute(r):e.setAttribute(r,o)});let s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[ca],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),o={attach:Tx,detach:Px,resize:Fx}[e]||Lx;s[e]=o(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Ac,detach:Ac,resize:Ac}[e]||Ix)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return vf(t,e,i,s)}isAttached(t){let e=t&&ea(t);return!!(e&&e.isConnected)}};function Vx(n){return!Qo()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Vc:zc}var ei=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return wn(this.x)&&wn(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};function zx(n,t){let e=n.options.ticks,i=Ux(n),s=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?jx(t):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>s)return Hx(t,u,r,o/s),u;let h=Wx(r,t,s);if(o>0){let p,b,y=o>1?Math.round((c-a)/(o-1)):null;for(na(t,u,h,pe(y)?0:a-y,a),p=0,b=o-1;p<b;p++)na(t,u,h,r[p],r[p+1]);return na(t,u,h,c,pe(y)?t.length:c+y),u}return na(t,u,h),u}function Ux(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function Wx(n,t,e){let i=Bx(n),s=t.length/e;if(!i)return Math.max(s,1);let r=ef(i);for(let o=0,a=r.length-1;o<a;o++){let c=r[o];if(c>s)return c}return Math.max(s,1)}function jx(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Hx(n,t,e,i){let s=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}function na(n,t,e,i,s){let r=re(i,0),o=Math.min(re(s,n.length),n.length),a=0,c,u,h;for(e=Math.ceil(e),s&&(c=s-i,e=c/Math.floor(c/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(u=Math.max(r,0);u<o;u++)u===h&&(t.push(n[u]),a++,h=Math.round(r+a*e))}function Bx(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var Yx=n=>n==="left"?"right":n==="right"?"left":n,Wf=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,jf=(n,t)=>Math.min(t||n,n);function Hf(n,t){let e=[],i=n.length/t,s=n.length,r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function $x(n,t,e){let i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6,c=n.getPixelForTick(s),u;if(!(e&&(i===1?u=Math.max(c-r,o-c):t===0?u=(n.getPixelForTick(1)-c)/2:u=(c-n.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<r-a||c>o+a)))return c}function Gx(n,t){Ce(n,e=>{let i=e.gc,s=i.length/2,r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function hr(n){return n.drawTicks?n.tickLength:0}function Bf(n,t){if(!n.display)return 0;let e=tt(n.font,t),i=dt(n.padding);return(Ae(n.text)?n.text.length:1)*e.lineHeight+i.height}function qx(n,t){return Oi(n,{scale:t,type:"scale"})}function Zx(n,t,e){return Oi(n,{tick:e,index:t,type:"tick"})}function Kx(n,t,e){let i=qo(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Yx(i)),i}function Xx(n,t,e,i){let{top:s,left:r,bottom:o,right:a,chart:c}=n,{chartArea:u,scales:h}=c,p=0,b,y,v,S=o-s,C=a-r;if(n.isHorizontal()){if(y=ct(i,r,a),de(e)){let D=Object.keys(e)[0],E=e[D];v=h[D].getPixelForValue(E)+S-t}else e==="center"?v=(u.bottom+u.top)/2+S-t:v=Wf(n,e,t);b=a-r}else{if(de(e)){let D=Object.keys(e)[0],E=e[D];y=h[D].getPixelForValue(E)-C+t}else e==="center"?y=(u.left+u.right)/2-C+t:y=Wf(n,e,t);v=ct(i,o,s),p=e==="left"?-Ze:Ze}return{titleX:y,titleY:v,maxWidth:b,rotation:p}}var kn=class n extends ei{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Et(t,Number.POSITIVE_INFINITY),e=Et(e,Number.NEGATIVE_INFINITY),i=Et(i,Number.POSITIVE_INFINITY),s=Et(s,Number.NEGATIVE_INFINITY),{min:Et(t,i),max:Et(e,s),minDefined:Ye(t),maxDefined:Ye(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:Et(e,Et(i,e)),max:Et(i,Et(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ee(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pf(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?Hf(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=zx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ee(this.options.afterUpdate,[this])}beforeSetDimensions(){Ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ee(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ee(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ee(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=jf(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation,o=s,a,c,u;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}let h=this._getLabelSizes(),p=h.widest.width,b=h.highest.height,y=st(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/i:y/(i-1),p+6>a&&(a=y/(i-(t.offset?.5:1)),c=this.maxHeight-hr(t.grid)-e.padding-Bf(t.title,this.chart.options.font),u=Math.sqrt(p*p+b*b),o=$o(Math.min(Math.asin(st((h.highest.height+6)/a,-1,1)),Math.asin(st(c/u,-1,1))-Math.asin(st(b/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ee(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=Bf(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=hr(r)+c):(t.height=this.maxHeight,t.width=hr(r)+c),i.display&&this.ticks.length){let{first:u,last:h,widest:p,highest:b}=this._getLabelSizes(),y=i.padding*2,v=Ht(this.labelRotation),S=Math.cos(v),C=Math.sin(v);if(a){let D=i.mirror?0:C*p.width+S*b.height;t.height=Math.min(this.maxHeight,t.height+D+y)}else{let D=i.mirror?0:S*p.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+D+y)}this._calculatePadding(u,h,C,S)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){let{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1),b=0,y=0;c?u?(b=s*t.width,y=i*e.height):(b=i*t.height,y=s*e.width):r==="start"?y=e.width:r==="end"?b=t.width:r!=="inner"&&(b=t.width/2,y=e.width/2),this.paddingLeft=Math.max((b-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let h=e.height/2,p=t.height/2;r==="start"?(h=0,p=t.height):r==="end"&&(h=e.height,p=0),this.paddingTop=h+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ee(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)pe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=Hf(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(e/jf(e,i)),u=0,h=0,p,b,y,v,S,C,D,E,I,O,A;for(p=0;p<e;p+=c){if(v=t[p].label,S=this._resolveTickFontOptions(p),s.font=C=S.string,D=r[C]=r[C]||{data:{},gc:[]},E=S.lineHeight,I=O=0,!pe(v)&&!Ae(v))I=sr(s,D.data,D.gc,I,v),O=E;else if(Ae(v))for(b=0,y=v.length;b<y;++b)A=v[b],!pe(A)&&!Ae(A)&&(I=sr(s,D.data,D.gc,I,A),O+=E);o.push(I),a.push(O),u=Math.max(I,u),h=Math.max(O,h)}Gx(r,e);let N=o.indexOf(u),U=a.indexOf(h),F=G=>({width:o[G]||0,height:a[G]||0});return{first:F(0),last:F(e-1),widest:F(N),highest:F(U),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return nf(this._alignToPixels?Ki(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=Zx(this.getContext(),t,i))}return this.$context||(this.$context=qx(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Ht(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,u=this.isHorizontal(),p=this.ticks.length+(c?1:0),b=hr(r),y=[],v=a.setContext(this.getContext()),S=v.display?v.width:0,C=S/2,D=function(Oe){return Ki(i,Oe,S)},E,I,O,A,N,U,F,G,ne,X,ae,Ke;if(o==="top")E=D(this.bottom),U=this.bottom-b,G=E-C,X=D(t.top)+C,Ke=t.bottom;else if(o==="bottom")E=D(this.top),X=t.top,Ke=D(t.bottom)-C,U=E+C,G=this.top+b;else if(o==="left")E=D(this.right),N=this.right-b,F=E-C,ne=D(t.left)+C,ae=t.right;else if(o==="right")E=D(this.left),ne=t.left,ae=D(t.right)-C,N=E+C,F=this.left+b;else if(e==="x"){if(o==="center")E=D((t.top+t.bottom)/2+.5);else if(de(o)){let Oe=Object.keys(o)[0],je=o[Oe];E=D(this.chart.scales[Oe].getPixelForValue(je))}X=t.top,Ke=t.bottom,U=E+C,G=U+b}else if(e==="y"){if(o==="center")E=D((t.left+t.right)/2);else if(de(o)){let Oe=Object.keys(o)[0],je=o[Oe];E=D(this.chart.scales[Oe].getPixelForValue(je))}N=E-C,F=N-b,ne=t.left,ae=t.right}let at=re(s.ticks.maxTicksLimit,p),ge=Math.max(1,Math.ceil(p/at));for(I=0;I<p;I+=ge){let Oe=this.getContext(I),je=r.setContext(Oe),$e=a.setContext(Oe),Qe=je.lineWidth,$t=je.color,Ti=$e.dash||[],Tt=$e.dashOffset,K=je.tickWidth,hi=je.tickColor,sn=je.tickBorderDash||[],Lt=je.tickBorderDashOffset;O=$x(this,I,c),O!==void 0&&(A=Ki(i,O,Qe),u?N=F=ne=ae=A:U=G=X=Ke=A,y.push({tx1:N,ty1:U,tx2:F,ty2:G,x1:ne,y1:X,x2:ae,y2:Ke,width:Qe,color:$t,borderDash:Ti,borderDashOffset:Tt,tickWidth:K,tickColor:hi,tickBorderDash:sn,tickBorderDashOffset:Lt}))}return this._ticksLength=p,this._borderValue=E,y}_computeLabelItems(t){let e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:h,mirror:p}=r,b=hr(i.grid),y=b+h,v=p?-h:y,S=-Ht(this.labelRotation),C=[],D,E,I,O,A,N,U,F,G,ne,X,ae,Ke="middle";if(s==="top")N=this.bottom-v,U=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+v,U=this._getXAxisLabelAlignment();else if(s==="left"){let ge=this._getYAxisLabelAlignment(b);U=ge.textAlign,A=ge.x}else if(s==="right"){let ge=this._getYAxisLabelAlignment(b);U=ge.textAlign,A=ge.x}else if(e==="x"){if(s==="center")N=(t.top+t.bottom)/2+y;else if(de(s)){let ge=Object.keys(s)[0],Oe=s[ge];N=this.chart.scales[ge].getPixelForValue(Oe)+y}U=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")A=(t.left+t.right)/2-y;else if(de(s)){let ge=Object.keys(s)[0],Oe=s[ge];A=this.chart.scales[ge].getPixelForValue(Oe)}U=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(c==="start"?Ke="top":c==="end"&&(Ke="bottom"));let at=this._getLabelSizes();for(D=0,E=a.length;D<E;++D){I=a[D],O=I.label;let ge=r.setContext(this.getContext(D));F=this.getPixelForTick(D)+r.labelOffset,G=this._resolveTickFontOptions(D),ne=G.lineHeight,X=Ae(O)?O.length:1;let Oe=X/2,je=ge.color,$e=ge.textStrokeColor,Qe=ge.textStrokeWidth,$t=U;o?(A=F,U==="inner"&&(D===E-1?$t=this.options.reverse?"left":"right":D===0?$t=this.options.reverse?"right":"left":$t="center"),s==="top"?u==="near"||S!==0?ae=-X*ne+ne/2:u==="center"?ae=-at.highest.height/2-Oe*ne+ne:ae=-at.highest.height+ne/2:u==="near"||S!==0?ae=ne/2:u==="center"?ae=at.highest.height/2-Oe*ne:ae=at.highest.height-X*ne,p&&(ae*=-1),S!==0&&!ge.showLabelBackdrop&&(A+=ne/2*Math.sin(S))):(N=F,ae=(1-X)*ne/2);let Ti;if(ge.showLabelBackdrop){let Tt=dt(ge.backdropPadding),K=at.heights[D],hi=at.widths[D],sn=ae-Tt.top,Lt=0-Tt.left;switch(Ke){case"middle":sn-=K/2;break;case"bottom":sn-=K;break}switch(U){case"center":Lt-=hi/2;break;case"right":Lt-=hi;break;case"inner":D===E-1?Lt-=hi:D>0&&(Lt-=hi/2);break}Ti={left:Lt,top:sn,width:hi+Tt.width,height:K+Tt.height,color:ge.backdropColor}}C.push({label:O,font:G,textOffset:ae,options:{rotation:S,color:je,strokeColor:$e,strokeWidth:Qe,textAlign:$t,textBaseline:Ke,translation:[A,N],backdrop:Ti}})}return C}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Ht(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,c=o.widest.width,u,h;return e==="left"?s?(h=this.right+r,i==="near"?u="left":i==="center"?(u="center",h+=c/2):(u="right",h+=c)):(h=this.right-a,i==="near"?u="right":i==="center"?(u="center",h-=c/2):(u="left",h=this.left)):e==="right"?s?(h=this.left+r,i==="near"?u="right":i==="center"?(u="center",h-=c/2):(u="left",h-=c)):(h=this.left+a,i==="near"?u="left":i==="center"?(u="center",h+=c/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,o,a=(c,u,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){let c=s[r];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;let a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue,u,h,p,b;this.isHorizontal()?(u=Ki(t,this.left,o)-o/2,h=Ki(t,this.right,a)+a/2,p=b=c):(p=Ki(t,this.top,o)-o/2,b=Ki(t,this.bottom,a)+a/2,u=h=c),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(u,p),e.lineTo(h,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,s=this._computeLabelArea();s&&ar(i,s);let r=this.getLabelItems(t);for(let o of r){let a=o.options,c=o.font,u=o.label,h=o.textOffset;Xi(i,u,0,h,c,a)}s&&lr(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;let r=tt(i.font),o=dt(i.padding),a=i.align,c=r.lineHeight/2;e==="bottom"||e==="center"||de(e)?(c+=o.bottom,Ae(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;let{titleX:u,titleY:h,maxWidth:p,rotation:b}=Xx(this,c,e,a);Xi(t,i.text,0,0,r,{color:i.color,maxWidth:p,rotation:b,textAlign:Kx(a,e,s),textBaseline:"middle",translation:[u,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=re(t.grid&&t.grid.z,-1),s=re(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[],r,o;for(r=0,o=e.length;r<o;++r){let a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return tt(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},fs=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;ew(e)&&(i=this.register(e));let s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,Jx(t,o,i),this.override&&Ve.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Ve[s]&&(delete Ve[s][i],this.override&&delete Zi[i])}};function Jx(n,t,e){let i=ns(Object.create(null),[e?Ve.get(e):{},Ve.get(t),n.defaults]);Ve.set(t,i),n.defaultRoutes&&Qx(t,n.defaultRoutes),n.descriptors&&Ve.describe(t,n.descriptors)}function Qx(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");Ve.route(r,s,c,a)})}function ew(n){return"id"in n&&"defaults"in n}var Uc=class{constructor(){this.controllers=new fs(tn,"datasets",!0),this.elements=new fs(ei,"elements"),this.plugins=new fs(Object,"plugins"),this.scales=new fs(kn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{let r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Ce(s,o=>{let a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){let s=Yo(t);Ee(i["before"+s],[],i),e[t](i),Ee(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}},ui=new Uc,Wc=class{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(let r of t){let o=r.plugin,a=o[i],c=[e,s,r.options];if(Ee(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,s=re(i.options&&i.options.plugins,{}),r=tw(i);return s===!1&&!e?[]:nw(t,r,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}};function tw(n){let t={},e=[],i=Object.keys(ui.plugins.items);for(let r=0;r<i.length;r++)e.push(ui.getPlugin(i[r]));let s=n.plugins||[];for(let r=0;r<s.length;r++){let o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function iw(n,t){return!t&&n===!1?null:n===!0?{}:n}function nw(n,{plugins:t,localIds:e},i,s){let r=[],o=n.getContext();for(let a of t){let c=a.id,u=iw(i[c],s);u!==null&&r.push({plugin:a,options:sw(n.config,{plugin:a,local:e[c]},u,o)})}return r}function sw(n,{plugin:t,local:e},i,s){let r=n.pluginScopeKeys(t),o=n.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jc(n,t){let e=Ve.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function rw(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function ow(n,t){return n===t?"_index_":"_value_"}function Yf(n){if(n==="x"||n==="y"||n==="r")return n}function aw(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Hc(n,...t){if(Yf(n))return n;for(let e of t){let i=e.axis||aw(e.position)||n.length>1&&Yf(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function $f(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function lw(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return $f(n,"x",e[0])||$f(n,"y",e[0])}return{}}function cw(n,t){let e=Zi[n.type]||{scales:{}},i=t.scales||{},s=jc(n.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!de(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=Hc(o,a,lw(o,n),Ve.scales[a.type]),u=ow(c,s),h=e.scales||{};r[o]=rs(Object.create(null),[{axis:c},a,h[c],h[u]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,c=o.indexAxis||jc(a,t),h=(Zi[a]||{}).scales||{};Object.keys(h).forEach(p=>{let b=rw(p,c),y=o[b+"AxisID"]||b;r[y]=r[y]||Object.create(null),rs(r[y],[{axis:b},i[y],h[p]])})}),Object.keys(r).forEach(o=>{let a=r[o];rs(a,[Ve.scales[a.type],Ve.scale])}),r}function Pp(n){let t=n.options||(n.options={});t.plugins=re(t.plugins,{}),t.scales=cw(n,t)}function Np(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function dw(n){return n=n||{},n.data=Np(n.data),Pp(n),n}var Gf=new Map,Rp=new Set;function sa(n,t){let e=Gf.get(n);return e||(e=t(),Gf.set(n,e),Rp.add(e)),e}var fr=(n,t,e)=>{let i=Ei(t,e);i!==void 0&&n.add(i)},Bc=class{constructor(t){this._config=dw(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Np(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Pp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sa(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return sa(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return sa(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return sa(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){let{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;let c=new Set;e.forEach(h=>{t&&(c.add(t),h.forEach(p=>fr(c,t,p))),h.forEach(p=>fr(c,s,p)),h.forEach(p=>fr(c,Zi[r]||{},p)),h.forEach(p=>fr(c,Ve,p)),h.forEach(p=>fr(c,Zo,p))});let u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Rp.has(e)&&o.set(e,u),u}chartOptionScopes(){let{options:t,type:e}=this;return[t,Zi[e]||{},Ve.datasets[e]||{},{type:e},Ve,Zo]}resolveNamedOptions(t,e,i,s=[""]){let r={$shared:!0},{resolver:o,subPrefixes:a}=qf(this._resolverCache,t,s),c=o;if(hw(o,e)){r.$shared=!1,i=ki(i)?i():i;let u=this.createResolver(t,i,a);c=xn(o,i,u)}for(let u of e)r[u]=c[u];return r}createResolver(t,e,i=[""],s){let{resolver:r}=qf(this._resolverCache,t,i);return de(e)?xn(r,e,void 0,s):r}};function qf(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let s=e.join(),r=i.get(s);return r||(r={resolver:Jo(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}var uw=n=>de(n)&&Object.getOwnPropertyNames(n).some(t=>ki(n[t]));function hw(n,t){let{isScriptable:e,isIndexable:i}=mc(n);for(let s of t){let r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(ki(a)||uw(a))||o&&Ae(a))return!0}return!1}var fw="4.4.6",pw=["top","bottom","left","right","chartArea"];function Zf(n,t){return n==="top"||n==="bottom"||pw.indexOf(n)===-1&&t==="x"}function Kf(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Xf(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ee(e&&e.onComplete,[n],t)}function mw(n){let t=n.chart,e=t.options.animation;Ee(e&&e.onProgress,[n],t)}function Fp(n){return Qo()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var da={},Jf=n=>{let t=Fp(n);return Object.values(da).filter(e=>e.canvas===t).pop()};function gw(n,t,e){let i=Object.keys(n);for(let s of i){let r=+s;if(r>=t){let o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}function bw(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function ra(n,t,e){return n.options.clip?n[e]:t[e]}function _w(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:ra(e,t,"left"),right:ra(e,t,"right"),top:ra(i,t,"top"),bottom:ra(i,t,"bottom")}:t}var Bt=(()=>{class n{static defaults=Ve;static instances=da;static overrides=Zi;static registry=ui;static version=fw;static getChart=Jf;static register(...e){ui.add(...e),Qf()}static unregister(...e){ui.remove(...e),Qf()}constructor(e,i){let s=this.config=new Bc(i),r=Fp(e),o=Jf(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Vx(r)),this.platform.updateConfig(s);let c=this.platform.acquireContext(r,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,p=u&&u.width;if(this.id=Kh(),this.ctx=c,this.canvas=u,this.width=p,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lf(b=>this.update(b),a.resizeDelay||0),this._dataChanges=[],da[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ii.listen(this,"complete",Xf),Ii.listen(this,"progress",mw),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:s,height:r,_aspectRatio:o}=this;return pe(e)?i&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ui}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hc(this.canvas,this.ctx),this}stop(){return Ii.stop(this),this}resize(e,i){Ii.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,i,o),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yc(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ee(s.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Ce(i,(s,r)=>{s.id=r})}buildOrUpdateScales(){let e=this.options,i=e.scales,s=this.scales,r=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let c=i[a],u=Hc(a,c),h=u==="r",p=u==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Ce(o,a=>{let c=a.options,u=c.id,h=Hc(u,c),p=re(c.type,a.dtype);(c.position===void 0||Zf(c.position,h)!==Zf(a.dposition))&&(c.position=a.dposition),r[u]=!0;let b=null;if(u in s&&s[u].type===p)b=s[u];else{let y=ui.getScale(p);b=new y({id:u,type:p,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(c,e)}),Ce(r,(a,c)=>{a||delete s[c]}),Ce(s,a=>{bt.configure(this,a,a.options),bt.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>i){for(let r=i;r<s;++r)this._destroyDatasetMeta(r);e.splice(i,s-i)}this._sortedMetasets=e.slice(0).sort(Kf("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((s,r)=>{i.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,s,r;for(this._removeUnreferencedMetasets(),s=0,r=i.length;s<r;s++){let o=i[s],a=this.getDatasetMeta(s),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=c,a.indexAxis=o.indexAxis||jc(c,this.options),a.order=o.order||0,a.index=s,a.label=""+o.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{let u=ui.getController(c),{datasetElementType:h,dataElementType:p}=Ve.datasets[c];Object.assign(u,{dataElementType:ui.getElement(p),datasetElementType:h&&ui.getElement(h)}),a.controller=new u(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ce(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let s=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,p=this.data.datasets.length;h<p;h++){let{controller:b}=this.getDatasetMeta(h),y=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(y),a=Math.max(+b.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Ce(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Kf("z","_idx"));let{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ce(this.scales,e=>{bt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Ql(i,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:s,start:r,count:o}of i){let a=s==="_removeElements"?-o:o;gw(e,r,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,s=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),r=s(0);for(let o=1;o<i;o++)if(!Ql(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bt.update(this,this.width,this.height,e);let i=this.chartArea,s=i.width<=0||i.height<=0;this._layers=[],Ce(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,s=this.data.datasets.length;i<s;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,s=this.data.datasets.length;i<s;++i)this._updateDataset(i,ki(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let s=this.getDatasetMeta(e),r={meta:s,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ii.has(this)?this.attached&&!Ii.running(this)&&Ii.start(this):(this.draw(),Xf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,s=[],r,o;for(r=0,o=i.length;r<o;++r){let a=i[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,s=e._clip,r=!s.disabled,o=_w(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&ar(i,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),e.controller.draw(),r&&lr(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,s,r){let o=yx.modes[i];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){let i=this.data.datasets[e],s=this._metasets,r=s.filter(o=>o&&o._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Oi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!i.hidden}setDatasetVisibility(e,i){let s=this.getDatasetMeta(e);s.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,s){let r=s?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,r);os(i)?(o.data[i].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(o,{visible:s}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Ii.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hc(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete da[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,s=(o,a)=>{i.addEventListener(this,o,a),e[o]=a},r=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Ce(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,s=(u,h)=>{i.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(i.removeEventListener(this,u,h),delete e[u])},o=(u,h)=>{this.canvas&&this.resize(u,h)},a,c=()=>{r("attach",c),this.attached=!0,this.resize(),s("resize",o),s("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){Ce(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Ce(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,s){let r=s?"set":"remove",o,a,c,u;for(i==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];let h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],s=e.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!rr(s,i)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,i))}notifyPlugins(e,i,s){return this._plugins.notify(this,e,i,s)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,s){let r=this.options.hover,o=(u,h)=>u.filter(p=>!h.some(b=>p.datasetIndex===b.datasetIndex&&p.index===b.index)),a=o(i,e),c=s?e:o(e,i);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,i){let s={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;let o=this._handleEvent(e,i,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,i,s){let{_active:r=[],options:o}=this,a=i,c=this._getActiveElements(e,r,s,a),u=Qh(e),h=bw(e,this._lastEvent,s,u);s&&(this._lastEvent=null,Ee(o.onHover,[e,c,this],this),u&&Ee(o.onClick,[e,c,this],this));let p=!rr(c,r);return(p||i)&&(this._active=c,this._updateHoverStyles(c,r,i)),this._lastEvent=h,p}_getActiveElements(e,i,s,r){if(e.type==="mouseout")return[];if(!s)return i;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}return n})();function Qf(){return Ce(Bt.instances,n=>n._plugins.invalidate())}function yw(n,t,e){let{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:c}=t,u=s/a;n.beginPath(),n.arc(r,o,a,i-u,e+u),c>s?(u=s/c,n.arc(r,o,c,e+u,i-u,!0)):n.arc(r,o,s,e+Ze,i-Ze),n.closePath(),n.clip()}function vw(n){return Xo(n,["outerStart","outerEnd","innerStart","innerEnd"])}function xw(n,t,e,i){let s=vw(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=c=>{let u=(e-Math.min(r,c))*i/2;return st(c,0,Math.min(r,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:st(s.innerStart,0,o),innerEnd:st(s.innerEnd,0,o)}}function hs(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function pa(n,t,e,i,s,r){let{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:h}=t,p=Math.max(t.outerRadius+i+e-u,0),b=h>0?h+i+e+u:0,y=0,v=s-c;if(i){let ge=h>0?h-i:0,Oe=p>0?p-i:0,je=(ge+Oe)/2,$e=je!==0?v*je/(je+i):v;y=(v-$e)/2}let S=Math.max(.001,v*p-e/Te)/p,C=(v-S)/2,D=c+C+y,E=s-C-y,{outerStart:I,outerEnd:O,innerStart:A,innerEnd:N}=xw(t,b,p,E-D),U=p-I,F=p-O,G=D+I/U,ne=E-O/F,X=b+A,ae=b+N,Ke=D+A/X,at=E-N/ae;if(n.beginPath(),r){let ge=(G+ne)/2;if(n.arc(o,a,p,G,ge),n.arc(o,a,p,ge,ne),O>0){let Qe=hs(F,ne,o,a);n.arc(Qe.x,Qe.y,O,ne,E+Ze)}let Oe=hs(ae,E,o,a);if(n.lineTo(Oe.x,Oe.y),N>0){let Qe=hs(ae,at,o,a);n.arc(Qe.x,Qe.y,N,E+Ze,at+Math.PI)}let je=(E-N/b+(D+A/b))/2;if(n.arc(o,a,b,E-N/b,je,!0),n.arc(o,a,b,je,D+A/b,!0),A>0){let Qe=hs(X,Ke,o,a);n.arc(Qe.x,Qe.y,A,Ke+Math.PI,D-Ze)}let $e=hs(U,D,o,a);if(n.lineTo($e.x,$e.y),I>0){let Qe=hs(U,G,o,a);n.arc(Qe.x,Qe.y,I,D-Ze,G)}}else{n.moveTo(o,a);let ge=Math.cos(G)*p+o,Oe=Math.sin(G)*p+a;n.lineTo(ge,Oe);let je=Math.cos(ne)*p+o,$e=Math.sin(ne)*p+a;n.lineTo(je,$e)}n.closePath()}function ww(n,t,e,i,s){let{fullCircles:r,startAngle:o,circumference:a}=t,c=t.endAngle;if(r){pa(n,t,e,i,c,s);for(let u=0;u<r;++u)n.fill();isNaN(a)||(c=o+(a%Pe||Pe))}return pa(n,t,e,i,c,s),n.fill(),c}function Sw(n,t,e,i,s){let{fullCircles:r,startAngle:o,circumference:a,options:c}=t,{borderWidth:u,borderJoinStyle:h,borderDash:p,borderDashOffset:b}=c,y=c.borderAlign==="inner";if(!u)return;n.setLineDash(p||[]),n.lineDashOffset=b,y?(n.lineWidth=u*2,n.lineJoin=h||"round"):(n.lineWidth=u,n.lineJoin=h||"bevel");let v=t.endAngle;if(r){pa(n,t,e,i,v,s);for(let S=0;S<r;++S)n.stroke();isNaN(a)||(v=o+(a%Pe||Pe))}y&&yw(n,t,v),r||(pa(n,t,e,i,v,s),n.stroke())}var Yc=class extends ei{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let s=this.getProps(["x","y"],i),{angle:r,distance:o}=nc(s,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,y=re(p,c-a),v=ls(r,a,c)&&a!==c,S=y>=Pe||v,C=ci(o,u+b,h+b);return S&&C}getCenterPoint(t){let{x:e,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,h=(s+r)/2,p=(o+a+u+c)/2;return{x:e+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,s=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Pe?Math.floor(i/Pe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);let c=1-Math.sin(Math.min(Te,i||0)),u=s*c;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,ww(t,this,u,r,o),Sw(t,this,u,r,o),t.restore()}};function Lp(n,t,e=t){n.lineCap=re(e.borderCapStyle,t.borderCapStyle),n.setLineDash(re(e.borderDash,t.borderDash)),n.lineDashOffset=re(e.borderDashOffset,t.borderDashOffset),n.lineJoin=re(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=re(e.borderWidth,t.borderWidth),n.strokeStyle=re(e.borderColor,t.borderColor)}function Cw(n,t,e){n.lineTo(e.x,e.y)}function Mw(n){return n.stepped?hf:n.tension||n.cubicInterpolationMode==="monotone"?ff:Cw}function Vp(n,t,e={}){let i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,c=Math.max(s,o),u=Math.min(r,a),h=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:t.loop,ilen:u<c&&!h?i+u-c:u-c}}function kw(n,t,e,i){let{points:s,options:r}=t,{count:o,start:a,loop:c,ilen:u}=Vp(s,e,i),h=Mw(r),{move:p=!0,reverse:b}=i||{},y,v,S;for(y=0;y<=u;++y)v=s[(a+(b?u-y:y))%o],!v.skip&&(p?(n.moveTo(v.x,v.y),p=!1):h(n,S,v,b,r.stepped),S=v);return c&&(v=s[(a+(b?u:0))%o],h(n,S,v,b,r.stepped)),!!c}function Dw(n,t,e,i){let s=t.points,{count:r,start:o,ilen:a}=Vp(s,e,i),{move:c=!0,reverse:u}=i||{},h=0,p=0,b,y,v,S,C,D,E=O=>(o+(u?a-O:O))%r,I=()=>{S!==C&&(n.lineTo(h,C),n.lineTo(h,S),n.lineTo(h,D))};for(c&&(y=s[E(0)],n.moveTo(y.x,y.y)),b=0;b<=a;++b){if(y=s[E(b)],y.skip)continue;let O=y.x,A=y.y,N=O|0;N===v?(A<S?S=A:A>C&&(C=A),h=(p*h+O)/++p):(I(),n.lineTo(O,A),v=N,p=0,S=C=A),D=A}I()}function $c(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Dw:kw}function Ew(n){return n.stepped?wf:n.tension||n.cubicInterpolationMode==="monotone"?Sf:qi}function Ow(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),Lp(n,t.options),n.stroke(s)}function Iw(n,t,e,i){let{segments:s,options:r}=t,o=$c(t);for(let a of s)Lp(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var Aw=typeof Path2D=="function";function Tw(n,t,e,i){Aw&&!t.options.segment?Ow(n,t,e,i):Iw(n,t,e,i)}var ba=(()=>{class n extends ei{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){let r=s.spanGaps?this._loop:this._fullLoop;yf(this._points,s,e,r,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Mf(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,s=e.length;return s&&i[e[s-1].end]}interpolate(e,i){let s=this.options,r=e[i],o=this.points,a=Cc(this,{property:i,start:r,end:r});if(!a.length)return;let c=[],u=Ew(s),h,p;for(h=0,p=a.length;h<p;++h){let{start:b,end:y}=a[h],v=o[b],S=o[y];if(v===S){c.push(v);continue}let C=Math.abs((r-v[i])/(S[i]-v[i])),D=u(v,S,C,s.stepped);D[i]=e[i],c.push(D)}return c.length===1?c[0]:c}pathSegment(e,i,s){return $c(this)(e,this,i,s)}path(e,i,s){let r=this.segments,o=$c(this),a=this._loop;i=i||0,s=s||this.points.length-i;for(let c of r)a&=o(e,this,c,{start:i,end:i+s-1});return!!a}draw(e,i,s,r){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Tw(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function ep(n,t,e,i){let s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}var Pw=(()=>{class n extends ei{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){let r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return ep(this,e,"x",i)}inYRange(e,i){return ep(this,e,"y",i)}getCenterPoint(e){let{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){let s=this.options;this.skip||s.radius<.1||!ai(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Ko(e,s,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function zp(n,t){let{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t),a,c,u,h,p;return n.horizontal?(p=o/2,a=Math.min(e,s),c=Math.max(e,s),u=i-p,h=i+p):(p=r/2,a=e-p,c=e+p,u=Math.min(i,s),h=Math.max(i,s)),{left:a,top:u,right:c,bottom:h}}function en(n,t,e,i){return n?0:st(t,e,i)}function Nw(n,t,e){let i=n.options.borderWidth,s=n.borderSkipped,r=pc(i);return{t:en(s.top,r.top,0,e),r:en(s.right,r.right,0,t),b:en(s.bottom,r.bottom,0,e),l:en(s.left,r.left,0,t)}}function Rw(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=Ji(s),o=Math.min(t,e),a=n.borderSkipped,c=i||de(s);return{topLeft:en(!c||a.top||a.left,r.topLeft,0,o),topRight:en(!c||a.top||a.right,r.topRight,0,o),bottomLeft:en(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:en(!c||a.bottom||a.right,r.bottomRight,0,o)}}function Fw(n){let t=zp(n),e=t.right-t.left,i=t.bottom-t.top,s=Nw(n,e/2,i/2),r=Rw(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Tc(n,t,e,i){let s=t===null,r=e===null,a=n&&!(s&&r)&&zp(n,i);return a&&(s||ci(t,a.left,a.right))&&(r||ci(e,a.top,a.bottom))}function Lw(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Vw(n,t){n.rect(t.x,t.y,t.w,t.h)}function Pc(n,t,e={}){let i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}var Gc=class extends ei{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=Fw(this),a=Lw(o.radius)?ds:Vw;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Pc(o,e,r)),t.clip(),a(t,Pc(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Pc(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Tc(this,t,e,i)}inXRange(t,e){return Tc(this,t,null,e)}inYRange(t,e){return Tc(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},zw=Object.freeze({__proto__:null,ArcElement:Yc,BarElement:Gc,LineElement:ba,PointElement:Pw}),qc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],tp=qc.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Up(n){return qc[n%qc.length]}function Wp(n){return tp[n%tp.length]}function Uw(n,t){return n.borderColor=Up(t),n.backgroundColor=Wp(t),++t}function Ww(n,t){return n.backgroundColor=n.data.map(()=>Up(t++)),t}function jw(n,t){return n.backgroundColor=n.data.map(()=>Wp(t++)),t}function Hw(n){let t=0;return(e,i)=>{let s=n.getDatasetMeta(i).controller;s instanceof id?t=Ww(e,t):s instanceof Ep?t=jw(e,t):s&&(t=Uw(e,t))}}function ip(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Bw(n){return n&&(n.borderColor||n.backgroundColor)}function Yw(){return Ve.borderColor!=="rgba(0,0,0,0.1)"||Ve.backgroundColor!=="rgba(0,0,0,0.1)"}var $w={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:s}=n.config,{elements:r}=s,o=ip(i)||Bw(s)||r&&ip(r)||Yw();if(!e.forceOverride&&o)return;let a=Hw(n);i.forEach(a)}};function Gw(n,t,e,i,s){let r=s.samples||i;if(r>=e)return n.slice(t,t+e);let o=[],a=(e-2)/(r-2),c=0,u=t+e-1,h=t,p,b,y,v,S;for(o[c++]=n[h],p=0;p<r-2;p++){let C=0,D=0,E,I=Math.floor((p+1)*a)+1+t,O=Math.min(Math.floor((p+2)*a)+1,e)+t,A=O-I;for(E=I;E<O;E++)C+=n[E].x,D+=n[E].y;C/=A,D/=A;let N=Math.floor(p*a)+1+t,U=Math.min(Math.floor((p+1)*a)+1,e)+t,{x:F,y:G}=n[h];for(y=v=-1,E=N;E<U;E++)v=.5*Math.abs((F-C)*(n[E].y-G)-(F-n[E].x)*(D-G)),v>y&&(y=v,b=n[E],S=E);o[c++]=b,h=S}return o[c++]=n[u],o}function qw(n,t,e,i){let s=0,r=0,o,a,c,u,h,p,b,y,v,S,C=[],D=t+e-1,E=n[t].x,O=n[D].x-E;for(o=t;o<t+e;++o){a=n[o],c=(a.x-E)/O*i,u=a.y;let A=c|0;if(A===h)u<v?(v=u,p=o):u>S&&(S=u,b=o),s=(r*s+a.x)/++r;else{let N=o-1;if(!pe(p)&&!pe(b)){let U=Math.min(p,b),F=Math.max(p,b);U!==y&&U!==N&&C.push(we(se({},n[U]),{x:s})),F!==y&&F!==N&&C.push(we(se({},n[F]),{x:s}))}o>0&&N!==y&&C.push(n[N]),C.push(a),h=A,r=0,v=S=u,p=b=y=o}}return C}function jp(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function np(n){n.data.datasets.forEach(t=>{jp(t)})}function Zw(n,t){let e=t.length,i=0,s,{iScale:r}=n,{min:o,max:a,minDefined:c,maxDefined:u}=r.getUserBounds();return c&&(i=st(oi(t,r.axis,o).lo,0,e-1)),u?s=st(oi(t,r.axis,a).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var Kw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){np(n);return}let i=n.width;n.data.datasets.forEach((s,r)=>{let{_data:o,indexAxis:a}=s,c=n.getDatasetMeta(r),u=o||s.data;if(us([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let h=n.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:p,count:b}=Zw(c,u),y=e.threshold||4*i;if(b<=y){jp(s);return}pe(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let v;switch(e.algorithm){case"lttb":v=Gw(u,p,b,i,e);break;case"min-max":v=qw(u,p,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=v})},destroy(n){np(n)}};function Xw(n,t,e){let i=n.segments,s=n.points,r=t.points,o=[];for(let a of i){let{start:c,end:u}=a;u=nd(c,u,s);let h=Zc(e,s[c],s[u],a.loop);if(!t.segments){o.push({source:a,target:h,start:s[c],end:s[u]});continue}let p=Cc(t,h);for(let b of p){let y=Zc(e,r[b.start],r[b.end],b.loop),v=Sc(a,s,y);for(let S of v)o.push({source:S,target:b,start:{[e]:sp(h,y,"start",Math.max)},end:{[e]:sp(h,y,"end",Math.min)}})}}return o}function Zc(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=Dt(s),r=Dt(r)),{property:n,start:s,end:r}}function Jw(n,t){let{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=nd(o,a,s);let c=s[o],u=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:u.x,y:i})):e!==null&&(r.push({x:e,y:c.y}),r.push({x:e,y:u.y}))}),r}function nd(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function sp(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Hp(n,t){let e=[],i=!1;return Ae(n)?(i=!0,e=n):e=Jw(n,t),e.length?new ba({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function rp(n){return n&&n.fill!==!1}function Qw(n,t,e){let s=n[t].fill,r=[t],o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ye(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function eS(n,t,e){let i=sS(n);if(de(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ye(s)&&Math.floor(s)===s?tS(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function tS(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function iS(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:de(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function nS(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:de(n)?i=n.value:i=t.getBaseValue(),i}function sS(n){let t=n.options,e=t.fill,i=re(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function rS(n){let{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=oS(t,e);a.push(Hp({x:null,y:t.bottom},i));for(let c=0;c<r.length;c++){let u=r[c];for(let h=u.start;h<=u.end;h++)aS(s,o[h],a)}return new ba({points:s,options:{}})}function oS(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){let r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function aS(n,t,e){let i=[];for(let s=0;s<e.length;s++){let r=e[s],{first:o,last:a,point:c}=lS(r,t,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function lS(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let s=i[e],r=n.segments,o=n.points,a=!1,c=!1;for(let u=0;u<r.length;u++){let h=r[u],p=o[h.start][e],b=o[h.end][e];if(ci(s,p,b)){a=s===p,c=s===b;break}}return{first:a,last:c,point:i}}var ma=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:s,y:r,radius:o}=this;return e=e||{start:0,end:Pe},t.arc(s,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}};function cS(n){let{chart:t,fill:e,line:i}=n;if(Ye(e))return dS(t,e);if(e==="stack")return rS(n);if(e==="shape")return!0;let s=uS(n);return s instanceof ma?s:Hp(s,i)}function dS(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function uS(n){return(n.scale||{}).getPointPositionForValue?fS(n):hS(n)}function hS(n){let{scale:t={},fill:e}=n,i=iS(e,t);if(Ye(i)){let s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function fS(n){let{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=nS(e,t,r),a=[];if(i.grid.circular){let c=t.getPointPositionForValue(0,r);return new ma({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(t.getPointPositionForValue(c,o));return a}function Nc(n,t,e){let i=cS(t),{line:s,scale:r,axis:o}=t,a=s.options,c=a.fill,u=a.backgroundColor,{above:h=u,below:p=u}=c||{};i&&s.points.length&&(ar(n,e),pS(n,{line:s,target:i,above:h,below:p,area:e,scale:r,axis:o}),lr(n))}function pS(n,t){let{line:e,target:i,above:s,below:r,area:o,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),c==="x"&&r!==s&&(op(n,i,o.top),ap(n,{line:e,target:i,color:s,scale:a,property:c}),n.restore(),n.save(),op(n,i,o.bottom)),ap(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore()}function op(n,t,e){let{segments:i,points:s}=t,r=!0,o=!1;n.beginPath();for(let a of i){let{start:c,end:u}=a,h=s[c],p=s[nd(c,u,s)];r?(n.moveTo(h.x,h.y),r=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(p.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function ap(n,t){let{line:e,target:i,property:s,color:r,scale:o}=t,a=Xw(e,i,s);for(let{source:c,target:u,start:h,end:p}of a){let{style:{backgroundColor:b=r}={}}=c,y=i!==!0;n.save(),n.fillStyle=b,mS(n,o,y&&Zc(s,h,p)),n.beginPath();let v=!!e.pathSegment(n,c),S;if(y){v?n.closePath():lp(n,i,p,s);let C=!!i.pathSegment(n,u,{move:v,reverse:!0});S=v&&C,S||lp(n,i,h,s)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function mS(n,t,e){let{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(n.beginPath(),n.rect(o,i,a-o,s-i),n.clip())}function lp(n,t,e,i){let s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var gS={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,s=[],r,o,a,c;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof ba&&(c={visible:n.isDatasetVisible(o),index:o,fill:eS(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=Qw(s,o,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){let a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Nc(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){let r=i[s].$filler;rp(r)&&Nc(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!rp(i)||e.drawTime!=="beforeDatasetDraw"||Nc(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},cp=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},bS=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,ga=class extends ei{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Ee(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,s=tt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=cp(i,r),u,h;e.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,r,a,c)+10):(h=this.maxHeight,u=this._fitCols(o,s,a,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){let{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+a,p=t;r.textAlign="left",r.textBaseline="middle";let b=-1,y=-h;return this.legendItems.forEach((v,S)=>{let C=i+e/2+r.measureText(v.text).width;(S===0||u[u.length-1]+C+2*a>o)&&(p+=h,u[u.length-(S>0?0:1)]=0,y+=h,b++),c[S]={left:0,top:y,row:b,width:C,height:s},u[u.length-1]+=C+a}),p}_fitCols(t,e,i,s){let{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-t,p=a,b=0,y=0,v=0,S=0;return this.legendItems.forEach((C,D)=>{let{itemWidth:E,itemHeight:I}=_S(i,e,r,C,s);D>0&&y+I+2*a>h&&(p+=b+a,u.push({width:b,height:y}),v+=b+a,S++,b=y=0),c[D]={left:v,top:y,col:S,width:E,height:I},b=Math.max(b,E),y+=I+a}),p+=b,u.push({width:b,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Sn(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=ct(i,this.left+s,this.right-this.lineWidths[a]);for(let u of e)a!==u.row&&(a=u.row,c=ct(i,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+s}else{let a=0,c=ct(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(let u of e)u.col!==a&&(a=u.col,c=ct(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;ar(t,this),this._draw(),lr(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Ve.color,c=Sn(t.rtl,this.left,this.width),u=tt(o.font),{padding:h}=o,p=u.size,b=p/2,y;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;let{boxWidth:v,boxHeight:S,itemHeight:C}=cp(o,p),D=function(N,U,F){if(isNaN(v)||v<=0||isNaN(S)||S<0)return;s.save();let G=re(F.lineWidth,1);if(s.fillStyle=re(F.fillStyle,a),s.lineCap=re(F.lineCap,"butt"),s.lineDashOffset=re(F.lineDashOffset,0),s.lineJoin=re(F.lineJoin,"miter"),s.lineWidth=G,s.strokeStyle=re(F.strokeStyle,a),s.setLineDash(re(F.lineDash,[])),o.usePointStyle){let ne={radius:S*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:G},X=c.xPlus(N,v/2),ae=U+b;fc(s,ne,X,ae,o.pointStyleWidth&&v)}else{let ne=U+Math.max((p-S)/2,0),X=c.leftForLtr(N,v),ae=Ji(F.borderRadius);s.beginPath(),Object.values(ae).some(Ke=>Ke!==0)?ds(s,{x:X,y:ne,w:v,h:S,radius:ae}):s.rect(X,ne,v,S),s.fill(),G!==0&&s.stroke()}s.restore()},E=function(N,U,F){Xi(s,F.text,N,U+C/2,u,{strikethrough:F.hidden,textAlign:c.textAlign(F.textAlign)})},I=this.isHorizontal(),O=this._computeTitleHeight();I?y={x:ct(r,this.left+h,this.right-i[0]),y:this.top+h+O,line:0}:y={x:this.left+h,y:ct(r,this.top+O+h,this.bottom-e[0].height),line:0},xc(this.ctx,t.textDirection);let A=C+h;this.legendItems.forEach((N,U)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;let F=s.measureText(N.text).width,G=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),ne=v+b+F,X=y.x,ae=y.y;c.setWidth(this.width),I?U>0&&X+ne+h>this.right&&(ae=y.y+=A,y.line++,X=y.x=ct(r,this.left+h,this.right-i[y.line])):U>0&&ae+A>this.bottom&&(X=y.x=X+e[y.line].width+h,y.line++,ae=y.y=ct(r,this.top+O+h,this.bottom-e[y.line].height));let Ke=c.x(X);if(D(Ke,ae,N),X=cf(G,X+v+b,I?X+ne:this.right,t.rtl),E(c.x(X),ae,N),I)y.x+=ne+h;else if(typeof N.text!="string"){let at=u.lineHeight;y.y+=Bp(N,at)+h}else y.y+=A}),wc(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=tt(e.font),s=dt(e.padding);if(!e.display)return;let r=Sn(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=i.size/2,u=s.top+c,h,p=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),h=this.top+u,p=ct(t.align,p,this.right-b);else{let v=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);h=u+ct(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}let y=ct(a,p,p+b);o.textAlign=r.textAlign(qo(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Xi(o,e.text,y,h,i)}_computeTitleHeight(){let t=this.options.title,e=tt(t.font),i=dt(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(ci(t,this.left,this.right)&&ci(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],ci(t,s.left,s.left+s.width)&&ci(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!xS(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let s=this._hoveredItem,r=bS(s,i);s&&!r&&Ee(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ee(e.onHover,[t,i,this],this)}else i&&Ee(e.onClick,[t,i,this],this)}};function _S(n,t,e,i,s){let r=yS(i,n,t,e),o=vS(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function yS(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(s).width}function vS(n,t,e){let i=n;return typeof t.text!="string"&&(i=Bp(t,e)),i}function Bp(n,t){let e=n.text?n.text.length:0;return t*e}function xS(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var wS={id:"legend",_element:ga,start(n,t,e){let i=n.legend=new ga({ctx:n.ctx,options:e,chart:n});bt.configure(n,i,e),bt.addBox(n,i)},stop(n){bt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;bt.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let u=c.controller.getStyle(e?0:void 0),h=dt(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},br=class extends ei{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let s=Ae(i.text)?i.text.length:1;this._padding=dt(i.padding);let r=s*tt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align,c=0,u,h,p;return this.isHorizontal()?(h=ct(a,i,r),p=e+t,u=r-i):(o.position==="left"?(h=i+t,p=ct(a,s,e),c=Te*-.5):(h=r-t,p=ct(a,e,s),c=Te*.5),u=s-e),{titleX:h,titleY:p,maxWidth:u,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=tt(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);Xi(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:u,textAlign:qo(e.align),textBaseline:"middle",translation:[o,a]})}};function SS(n,t){let e=new br({ctx:n.ctx,options:t,chart:n});bt.configure(n,e,t),bt.addBox(n,e),n.titleBlock=e}var CS={id:"title",_element:br,start(n,t,e){SS(n,e)},stop(n){let t=n.titleBlock;bt.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;bt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},oa=new WeakMap,MS={id:"subtitle",start(n,t,e){let i=new br({ctx:n.ctx,options:e,chart:n});bt.configure(n,i,e),bt.addBox(n,i),oa.set(n,i)},stop(n){bt.removeBox(n,oa.get(n)),oa.delete(n)},beforeUpdate(n,t,e){let i=oa.get(n);bt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},mr={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,r=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){let c=n[r].element;if(c&&c.hasValue()){let u=c.getCenterPoint(),h=Ho(t,u);h<s&&(s=h,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function di(n,t){return t&&(Ae(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ai(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function kS(n,t){let{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function dp(n,t){let e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,c=tt(t.bodyFont),u=tt(t.titleFont),h=tt(t.footerFont),p=r.length,b=s.length,y=i.length,v=dt(t.padding),S=v.height,C=0,D=i.reduce((O,A)=>O+A.before.length+A.lines.length+A.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,p&&(S+=p*u.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),D){let O=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;S+=y*O+(D-y)*c.lineHeight+(D-1)*t.bodySpacing}b&&(S+=t.footerMarginTop+b*h.lineHeight+(b-1)*t.footerSpacing);let E=0,I=function(O){C=Math.max(C,e.measureText(O).width+E)};return e.save(),e.font=u.string,Ce(n.title,I),e.font=c.string,Ce(n.beforeBody.concat(n.afterBody),I),E=t.displayColors?o+2+t.boxPadding:0,Ce(i,O=>{Ce(O.before,I),Ce(O.lines,I),Ce(O.after,I)}),E=0,e.font=h.string,Ce(n.footer,I),e.restore(),C+=v.width,{width:C,height:S}}function DS(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function ES(n,t,e,i){let{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&s+r+o>t.width||n==="right"&&s-r-o<0)return!0}function OS(n,t,e,i){let{x:s,width:r}=e,{width:o,chartArea:{left:a,right:c}}=n,u="center";return i==="center"?u=s<=(a+c)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),ES(u,n,t,e)&&(u="center"),u}function up(n,t,e){let i=e.yAlign||t.yAlign||DS(n,e);return{xAlign:e.xAlign||t.xAlign||OS(n,t,e,i),yAlign:i}}function IS(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function AS(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function hp(n,t,e,i){let{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:c}=e,u=s+r,{topLeft:h,topRight:p,bottomLeft:b,bottomRight:y}=Ji(o),v=IS(t,a),S=AS(t,c,u);return c==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(h,b)+s:a==="right"&&(v+=Math.max(p,y)+s),{x:st(v,0,i.width-t.width),y:st(S,0,i.height-t.height)}}function aa(n,t,e){let i=dt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function fp(n){return di([],Ai(n))}function TS(n,t,e){return Oi(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function pp(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var Yp={beforeTitle:li,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:li,beforeBody:li,beforeLabel:li,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return pe(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:li,afterBody:li,beforeFooter:li,footer:li,afterFooter:li};function Ot(n,t,e,i){let s=n[t].call(e,i);return typeof s>"u"?Yp[t].call(e,i):s}var mp=(()=>{class n extends ei{static positioners=mr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&i.options.animation&&s.animations,o=new ua(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=TS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:s}=i,r=Ot(s,"beforeTitle",this,e),o=Ot(s,"title",this,e),a=Ot(s,"afterTitle",this,e),c=[];return c=di(c,Ai(r)),c=di(c,Ai(o)),c=di(c,Ai(a)),c}getBeforeBody(e,i){return fp(Ot(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:s}=i,r=[];return Ce(e,o=>{let a={before:[],lines:[],after:[]},c=pp(s,o);di(a.before,Ai(Ot(c,"beforeLabel",this,o))),di(a.lines,Ot(c,"label",this,o)),di(a.after,Ai(Ot(c,"afterLabel",this,o))),r.push(a)}),r}getAfterBody(e,i){return fp(Ot(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:s}=i,r=Ot(s,"beforeFooter",this,e),o=Ot(s,"footer",this,e),a=Ot(s,"afterFooter",this,e),c=[];return c=di(c,Ai(r)),c=di(c,Ai(o)),c=di(c,Ai(a)),c}_createItems(e){let i=this._active,s=this.chart.data,r=[],o=[],a=[],c=[],u,h;for(u=0,h=i.length;u<h;++u)c.push(kS(this.chart,i[u]));return e.filter&&(c=c.filter((p,b,y)=>e.filter(p,b,y,s))),e.itemSort&&(c=c.sort((p,b)=>e.itemSort(p,b,s))),Ce(c,p=>{let b=pp(e.callbacks,p);r.push(Ot(b,"labelColor",this,p)),o.push(Ot(b,"labelPointStyle",this,p)),a.push(Ot(b,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,i){let s=this.options.setContext(this.getContext()),r=this._active,o,a=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{let c=mr[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);let u=this._size=dp(this,s),h=Object.assign({},c,u),p=up(this.chart,s,h),b=hp(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:b.x,y:b.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,s,r){let o=this.getCaretPosition(e,s,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,s){let{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:c}=s,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:b}=Ji(c),{x:y,y:v}=e,{width:S,height:C}=i,D,E,I,O,A,N;return o==="center"?(A=v+C/2,r==="left"?(D=y,E=D-a,O=A+a,N=A-a):(D=y+S,E=D+a,O=A-a,N=A+a),I=D):(r==="left"?E=y+Math.max(u,p)+a:r==="right"?E=y+S-Math.max(h,b)-a:E=this.caretX,o==="top"?(O=v,A=O-a,D=E-a,I=E+a):(O=v+C,A=O+a,D=E+a,I=E-a),N=O),{x1:D,x2:E,x3:I,y1:O,y2:A,y3:N}}drawTitle(e,i,s){let r=this.title,o=r.length,a,c,u;if(o){let h=Sn(s.rtl,this.x,this.width);for(e.x=aa(this,s.titleAlign,s),i.textAlign=h.textAlign(s.titleAlign),i.textBaseline="middle",a=tt(s.titleFont),c=s.titleSpacing,i.fillStyle=s.titleColor,i.font=a.string,u=0;u<o;++u)i.fillText(r[u],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===o&&(e.y+=s.titleMarginBottom-c)}}_drawColorBox(e,i,s,r,o){let a=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:u,boxWidth:h}=o,p=tt(o.bodyFont),b=aa(this,"left",o),y=r.x(b),v=u<p.lineHeight?(p.lineHeight-u)/2:0,S=i.y+v;if(o.usePointStyle){let C={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},D=r.leftForLtr(y,h)+h/2,E=S+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ko(e,C,D,E),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ko(e,C,D,E)}else{e.lineWidth=de(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let C=r.leftForLtr(y,h),D=r.leftForLtr(r.xPlus(y,1),h-2),E=Ji(a.borderRadius);Object.values(E).some(I=>I!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ds(e,{x:C,y:S,w:h,h:u,radius:E}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ds(e,{x:D,y:S+1,w:h-2,h:u-2,radius:E}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(C,S,h,u),e.strokeRect(C,S,h,u),e.fillStyle=a.backgroundColor,e.fillRect(D,S+1,h-2,u-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,i,s){let{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:p}=s,b=tt(s.bodyFont),y=b.lineHeight,v=0,S=Sn(s.rtl,this.x,this.width),C=function(G){i.fillText(G,S.x(e.x+v),e.y+y/2),e.y+=y+o},D=S.textAlign(a),E,I,O,A,N,U,F;for(i.textAlign=a,i.textBaseline="middle",i.font=b.string,e.x=aa(this,D,s),i.fillStyle=s.bodyColor,Ce(this.beforeBody,C),v=c&&D!=="right"?a==="center"?h/2+p:h+2+p:0,A=0,U=r.length;A<U;++A){for(E=r[A],I=this.labelTextColors[A],i.fillStyle=I,Ce(E.before,C),O=E.lines,c&&O.length&&(this._drawColorBox(i,e,A,S,s),y=Math.max(b.lineHeight,u)),N=0,F=O.length;N<F;++N)C(O[N]),y=b.lineHeight;Ce(E.after,C)}v=0,y=b.lineHeight,Ce(this.afterBody,C),e.y-=o}drawFooter(e,i,s){let r=this.footer,o=r.length,a,c;if(o){let u=Sn(s.rtl,this.x,this.width);for(e.x=aa(this,s.footerAlign,s),e.y+=s.footerMarginTop,i.textAlign=u.textAlign(s.footerAlign),i.textBaseline="middle",a=tt(s.footerFont),i.fillStyle=s.footerColor,i.font=a.string,c=0;c<o;++c)i.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,i,s,r){let{xAlign:o,yAlign:a}=this,{x:c,y:u}=e,{width:h,height:p}=s,{topLeft:b,topRight:y,bottomLeft:v,bottomRight:S}=Ji(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(c+b,u),a==="top"&&this.drawCaret(e,i,s,r),i.lineTo(c+h-y,u),i.quadraticCurveTo(c+h,u,c+h,u+y),a==="center"&&o==="right"&&this.drawCaret(e,i,s,r),i.lineTo(c+h,u+p-S),i.quadraticCurveTo(c+h,u+p,c+h-S,u+p),a==="bottom"&&this.drawCaret(e,i,s,r),i.lineTo(c+v,u+p),i.quadraticCurveTo(c,u+p,c,u+p-v),a==="center"&&o==="left"&&this.drawCaret(e,i,s,r),i.lineTo(c,u+b),i.quadraticCurveTo(c,u,c+b,u),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){let a=mr[e.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=dp(this,e),u=Object.assign({},a,this._size),h=up(i,e,u),p=hp(e,u,h,i);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),s=this.opacity;if(!s)return;this._updateAnimationTarget(i);let r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;let a=dt(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,i),xc(e,i.textDirection),o.y+=a.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),wc(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let s=this._active,r=e.map(({datasetIndex:c,index:u})=>{let h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),o=!rr(s,r),a=this._positionChanged(r,i);(o||a)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,o=this._active||[],a=this._getActiveElements(e,o,i,s),c=this._positionChanged(a,e),u=i||!rr(a,o)||c;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),u}_getActiveElements(e,i,s,r){let o=this.options;if(e.type==="mouseout")return[];if(!r)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:s,caretY:r,options:o}=this,a=mr[o.position].call(this,e,i);return a!==!1&&(s!==a.x||r!==a.y)}}return n})(),PS={id:"tooltip",_element:mp,positioners:mr,afterInit(n,t,e){e&&(n.tooltip=new mp({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",we(se({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},NS=Object.freeze({__proto__:null,Colors:$w,Decimation:Kw,Filler:gS,Legend:wS,SubTitle:MS,Title:CS,Tooltip:PS}),RS=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function FS(n,t,e,i){let s=n.indexOf(t);if(s===-1)return RS(n,t,e,i);let r=n.lastIndexOf(t);return s!==r?e:s}var LS=(n,t)=>n===null?null:st(Math.round(n),0,t);function gp(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var VS=(()=>{class n extends kn{static id="category";static defaults={ticks:{callback:gp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let s=this.getLabels();for(let{index:r,label:o}of i)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(pe(e))return null;let s=this.getLabels();return i=isFinite(i)&&s[i]===e?i:FS(s,e,re(i,e),this._addedLabels),LS(i,s.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),i||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){let e=this.min,i=this.max,s=this.options.offset,r=[],o=this.getLabels();o=e===0&&i===o.length-1?o:o.slice(e,i+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=i;a++)r.push({value:a});return r}getLabelForValue(e){return gp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function zS(n,t){let e=[],{bounds:s,step:r,min:o,max:a,precision:c,count:u,maxTicks:h,maxDigits:p,includeBounds:b}=n,y=r||1,v=h-1,{min:S,max:C}=t,D=!pe(o),E=!pe(a),I=!pe(u),O=(C-S)/(p+1),A=ec((C-S)/v/y)*y,N,U,F,G;if(A<1e-14&&!D&&!E)return[{value:S},{value:C}];G=Math.ceil(C/A)-Math.floor(S/A),G>v&&(A=ec(G*A/v/y)*y),pe(c)||(N=Math.pow(10,c),A=Math.ceil(A*N)/N),s==="ticks"?(U=Math.floor(S/A)*A,F=Math.ceil(C/A)*A):(U=S,F=C),D&&E&&r&&tf((a-o)/r,A/1e3)?(G=Math.round(Math.min((a-o)/A,h)),A=(a-o)/G,U=o,F=a):I?(U=D?o:U,F=E?a:F,G=u-1,A=(F-U)/G):(G=(F-U)/A,as(G,Math.round(G),A/1e3)?G=Math.round(G):G=Math.ceil(G));let ne=Math.max(ic(A),ic(U));N=Math.pow(10,pe(c)?ne:c),U=Math.round(U*N)/N,F=Math.round(F*N)/N;let X=0;for(D&&(b&&U!==o?(e.push({value:o}),U<o&&X++,as(Math.round((U+X*A)*N)/N,o,bp(o,O,n))&&X++):U<o&&X++);X<G;++X){let ae=Math.round((U+X*A)*N)/N;if(E&&ae>a)break;e.push({value:ae})}return E&&b&&F!==a?e.length&&as(e[e.length-1].value,a,bp(a,O,n))?e[e.length-1].value=a:e.push({value:a}):(!E||F===a)&&e.push({value:F}),e}function bp(n,t,{horizontal:e,minRotation:i}){let s=Ht(i),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}var ps=class extends kn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return pe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:s,max:r}=this,o=c=>s=e?s:c,a=c=>r=i?r:c;if(t){let c=Qt(s),u=Qt(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),t||o(s-c)}this.min=s,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=zS(s,r);return t.bounds==="ticks"&&tc(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return cs(t,this.chart.options.locale,this.options.ticks.format)}},Kc=class extends ps{static id="linear";static defaults={ticks:{callback:or.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ye(t)?t:0,this.max=Ye(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=Ht(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},_r=n=>Math.floor(Di(n)),Mn=(n,t)=>Math.pow(10,_r(n)+t);function _p(n){return n/Math.pow(10,_r(n))===1}function yp(n,t,e){let i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function US(n,t){let e=t-n,i=_r(e);for(;yp(n,t,i)>10;)i++;for(;yp(n,t,i)<10;)i--;return Math.min(i,_r(n))}function WS(n,{min:t,max:e}){t=Et(n.min,t);let i=[],s=_r(t),r=US(t,e),o=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,u=Math.round((t-c)*o)/o,h=Math.floor((t-c)/a/10)*a*10,p=Math.floor((u-h)/Math.pow(10,r)),b=Et(n.min,Math.round((c+h+p*Math.pow(10,r))*o)/o);for(;b<e;)i.push({value:b,major:_p(b),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(r++,p=2,o=r>=0?1:o),b=Math.round((c+h+p*Math.pow(10,r))*o)/o;let y=Et(n.max,b);return i.push({value:y,major:_p(y),significand:p}),i}var Xc=class extends kn{static id="logarithmic";static defaults={ticks:{callback:or.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=ps.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ye(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ye(t)?Math.max(0,t):null,this.max=Ye(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ye(this._userMin)&&(this.min=t===Mn(this.min,0)?Mn(this.min,-1):Mn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,s=this.max,r=a=>i=t?i:a,o=a=>s=e?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Mn(i,-1)),o(Mn(s,1)))),i<=0&&r(Mn(s,-1)),s<=0&&o(Mn(i,1)),this.min=i,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=WS(e,this);return t.bounds==="ticks"&&tc(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":cs(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Di(t),this._valueRange=Di(this.max)-Di(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Di(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function Jc(n){let t=n.ticks;if(t.display&&n.display){let e=dt(t.backdropPadding);return re(t.font&&t.font.size,Ve.font.size)+e.height}return 0}function jS(n,t,e){return e=Ae(e)?e:[e],{w:uf(n,t.string,e),h:e.length*t.lineHeight}}function vp(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function HS(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Te/r:0;for(let c=0;c<r;c++){let u=o.setContext(n.getPointLabelContext(c));s[c]=u.padding;let h=n.getPointPosition(c,n.drawingArea+s[c],a),p=tt(u.font),b=jS(n.ctx,p,n._pointLabels[c]);i[c]=b;let y=Dt(n.getIndexAngle(c)+a),v=Math.round($o(y)),S=vp(v,h.x,b.w,0,180),C=vp(v,h.y,b.h,90,270);BS(e,t,y,S,C)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=GS(n,i,s)}function BS(n,t,e,i,s){let r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,c=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(c=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+c))}function YS(n,t,e){let i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=e,c=n.getPointPosition(t,i+s+o,r),u=Math.round($o(Dt(c.angle+Ze))),h=KS(c.y,a.h,u),p=qS(u),b=ZS(c.x,a.w,p);return{visible:!0,x:c.x,y:h,textAlign:p,left:b,top:h,right:b+a.w,bottom:h+a.h}}function $S(n,t){if(!t)return!0;let{left:e,top:i,right:s,bottom:r}=n;return!(ai({x:e,y:i},t)||ai({x:e,y:r},t)||ai({x:s,y:i},t)||ai({x:s,y:r},t))}function GS(n,t,e){let i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Jc(r)/2,additionalAngle:o?Te/s:0},u;for(let h=0;h<s;h++){c.padding=e[h],c.size=t[h];let p=YS(n,h,c);i.push(p),a==="auto"&&(p.visible=$S(p,u),p.visible&&(u=p))}return i}function qS(n){return n===0||n===180?"center":n<180?"left":"right"}function ZS(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function KS(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function XS(n,t,e){let{left:i,top:s,right:r,bottom:o}=e,{backdropColor:a}=t;if(!pe(a)){let c=Ji(t.borderRadius),u=dt(t.backdropPadding);n.fillStyle=a;let h=i-u.left,p=s-u.top,b=r-i+u.width,y=o-s+u.height;Object.values(c).some(v=>v!==0)?(n.beginPath(),ds(n,{x:h,y:p,w:b,h:y,radius:c}),n.fill()):n.fillRect(h,p,b,y)}}function JS(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){let r=n._pointLabelItems[s];if(!r.visible)continue;let o=i.setContext(n.getPointLabelContext(s));XS(e,o,r);let a=tt(o.font),{x:c,y:u,textAlign:h}=r;Xi(e,n._pointLabels[s],c,u+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function $p(n,t,e,i){let{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Pe);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function QS(n,t,e,i,s){let r=n.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!i||!a||!c||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),$p(n,e,o,i),r.closePath(),r.stroke(),r.restore())}function eC(n,t,e){return Oi(n,{label:e,index:t,type:"pointLabel"})}var Qc=class extends ps{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:or.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=dt(Jc(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Ye(t)&&!isNaN(t)?t:0,this.max=Ye(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jc(this.options))}generateTickLabels(t){ps.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let s=Ee(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?HS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){let e=Pe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Dt(t*e+Ht(i))}getDistanceFromCenterForValue(t){if(pe(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(pe(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return eC(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let s=this.getIndexAngle(t)-Ze+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),$p(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:s,border:r}=e,o=this._pointLabels.length,a,c,u;if(e.pointLabels.display&&JS(this,o),s.display&&this.ticks.forEach((h,p)=>{if(p!==0||p===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);let b=this.getContext(p),y=s.setContext(b),v=r.setContext(b);QS(this,y,c,o,v)}}),i.display){for(t.save(),a=o-1;a>=0;a--){let h=i.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:b}=h;!b||!p||(t.lineWidth=b,t.strokeStyle=p,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let s=this.getIndexAngle(0),r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let u=i.setContext(this.getContext(c)),h=tt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;let p=dt(u.backdropPadding);t.fillRect(-o/2-p.left,-r-h.size/2-p.top,o+p.width,h.size+p.height)}Xi(t,a.label,0,-r,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}},_a={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(_a);function xp(n,t){return n-t}function wp(n,t){if(pe(t))return null;let e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts,o=t;return typeof i=="function"&&(o=i(o)),Ye(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(wn(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function Sp(n,t,e,i){let s=It.length;for(let r=It.indexOf(n);r<s-1;++r){let o=_a[It[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return It[r]}return It[s-1]}function tC(n,t,e,i,s){for(let r=It.length-1;r>=It.indexOf(e);r--){let o=It[r];if(_a[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return It[e?It.indexOf(e):0]}function iC(n){for(let t=It.indexOf(n)+1,e=It.length;t<e;++t)if(_a[It[t]].common)return It[t]}function Cp(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:s}=Go(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function nC(n,t,e,i){let s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value,a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}function Mp(n,t,e){let i=[],s={},r=t.length,o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!e?i:nC(n,i,s,e)}var ed=(()=>{class n extends kn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let s=e.time||(e.time={}),r=this._adapter=new px._date(e.adapters.date);r.init(i),rs(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:wp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,s=e.time.unit||"day",{min:r,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Ye(r)&&!isNaN(r)?r:+i.startOf(Date.now(),s),o=Ye(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],s=e[e.length-1]),{min:i,max:s}}buildTicks(){let e=this.options,i=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let o=this.min,a=this.max,c=rf(r,o,a);return this._unit=i.unit||(s.autoSkip?Sp(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):tC(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:iC(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),Mp(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?i=1-r:i=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=st(i,0,a),s=st(s,0,a),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){let e=this._adapter,i=this.min,s=this.max,r=this.options,o=r.time,a=o.unit||Sp(o.minUnit,i,s,this._getLabelCapacity(i)),c=re(r.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,h=wn(u)||u===!0,p={},b=i,y,v;if(h&&(b=+e.startOf(b,"isoWeek",u)),b=+e.startOf(b,h?"day":a),e.diff(s,i,a)>1e5*c)throw new Error(i+" and "+s+" are too far apart with stepSize of "+c+" "+a);let S=r.ticks.source==="data"&&this.getDataTimestamps();for(y=b,v=0;y<s;y=+e.add(y,c,a),v++)Cp(p,y,S);return(y===s||r.bounds==="ticks"||v===1)&&Cp(p,y,S),Object.keys(p).sort(xp).map(C=>+C)}getLabelForValue(e){let i=this._adapter,s=this.options.time;return s.tooltipFormat?i.format(e,s.tooltipFormat):i.format(e,s.displayFormats.datetime)}format(e,i){let r=this.options.time.displayFormats,o=this._unit,a=i||r[o];return this._adapter.format(e,a)}_tickFormatFunction(e,i,s,r){let o=this.options,a=o.ticks.callback;if(a)return Ee(a,[e,i,s],this);let c=o.time.displayFormats,u=this._unit,h=this._majorUnit,p=u&&c[u],b=h&&c[h],y=s[i],v=h&&b&&y&&y.major;return this._adapter.format(e,r||(v?b:p))}generateTickLabels(e){let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(e){let i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,s=this.ctx.measureText(e).width,r=Ht(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:s*o+c*a,h:s*a+c*o}}_getLabelCapacity(e){let i=this.options.time,s=i.displayFormats,r=s[i.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Mp(this,[e],this._majorUnit),r),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],i,s;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,s=r.length;i<s;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,s;if(e.length)return e;let r=this.getLabels();for(i=0,s=r.length;i<s;++i)e.push(wp(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rc(e.sort(xp))}}return n})();function la(n,t,e){let i=0,s=n.length-1,r,o,a,c;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=oi(n,"pos",t)),{pos:r,time:a}=n[i],{pos:o,time:c}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=oi(n,"time",t)),{time:r,pos:a}=n[i],{time:o,pos:c}=n[s]);let u=o-r;return u?a+(c-a)*(t-r)/u:a}var td=class extends ed{static id="timeseries";static defaults=ed.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=la(e,this.min),this._tableRange=la(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,s=[],r=[],o,a,c,u,h;for(o=0,a=t.length;o<a;++o)u=t[o],u>=e&&u<=i&&s.push(u);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],c=s[o-1],u=s[o],Math.round((h+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(la(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return la(this._table,i*this._tableRange+this._minPos,!0)}},sC=Object.freeze({__proto__:null,CategoryScale:VS,LinearScale:Kc,LogarithmicScale:Xc,RadialLinearScale:Qc,TimeScale:ed,TimeSeriesScale:td}),ms=[fx,zw,NS,sC];var Dn=ol(ya());var At=class n{constructor(t){this.http=t}apiUrl="https://api.bclone.ai/admin";userApiUrl="https://api.bclone.ai";getAllUsers(){return this.http.get(`${this.apiUrl}/users`).pipe(Q(this.errorHandler))}addUser(t){return this.http.post(`${this.apiUrl}/user/add`,t).pipe(Q(this.errorHandler))}updateAssistant(t,e){return this.http.put(`${this.apiUrl}/user/edit/gptassistant/${t}`,e).pipe(Q(this.errorHandler))}updateUserDetails(t,e){return this.http.put(`${this.apiUrl}/user/edit/${t}`,e).pipe(Q(this.errorHandler))}getUserDetails(t){return this.http.get(`${this.userApiUrl}/user/get/${t}`).pipe(Q(this.errorHandler))}deleteUserAndAssociatedRecords(t){return this.http.delete(`${this.apiUrl}/user/${t}`).pipe(Q(this.errorHandler))}deleteUserFromOrganization(t,e){return this.http.delete(`${this.apiUrl}/organization/${t}/member/${e}`).pipe(Q(this.errorHandler))}getUserMessageStats(t,e,i){let s={userId:t};return e&&(s.startDate=e),i&&(s.endDate=i),this.http.get(`${this.apiUrl}/user/message-stats`,{params:s}).pipe(Q(this.errorHandler))}getOrganizationMessageStats(t,e,i){let s={};return e&&(s.startDate=e),i&&(s.endDate=i),this.http.get(`${this.apiUrl}/organization/message-stats/${t}`,{params:s}).pipe(Q(this.errorHandler))}getAllUserStats(t,e){let i={};return t&&(i.startDate=t),e&&(i.endDate=e),this.http.get(`${this.apiUrl}/allUser/stats`,{params:i}).pipe(Q(this.errorHandler))}errorHandler(t){return console.error("Error occurred:",t),Nt(t.message||"Server Error")}static \u0275fac=function(e){return new(e||n)(Ge(ii))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})};Bt.register(...ms);var va=class n{constructor(t,e,i,s){this.apiSettingsService=t;this.apiUserService=e;this.route=i;this.spinner=s}totalOrganizations=0;totalOwners=0;totalNonOwners=0;currentGptModel="not set";startDate="";endDate="";formattedStartDate="";formattedEndDate="";userStatsData=[];chartInstance=null;ngOnInit(){this.startDate=(0,Dn.default)().startOf("month").format("YYYY-MM-DD"),this.endDate=(0,Dn.default)().endOf("month").format("YYYY-MM-DD"),this.onFetchData(),this.formattedStartDate=(0,Dn.default)().startOf("month").format("ll"),this.formattedEndDate=(0,Dn.default)().endOf("month").format("ll"),this.getDashboardStatistics()}onFetchData(){this.startDate&&this.endDate&&this.getUserMessageStats()}getDashboardStatistics(){this.apiSettingsService.getbasicDashboardStatistics().subscribe(t=>{this.totalOrganizations=t.result.details.totalOrganizations,this.totalOwners=t.result.details.totalOwners,this.totalNonOwners=t.result.details.totalNonOwners,this.currentGptModel=t.result.details.currentGptModel},t=>{console.error("Error fetching statistics:",t)})}ngAfterViewInit(){this.renderBarChart()}getUserMessageStats(){this.spinner.show(),this.apiUserService.getAllUserStats(this.startDate,this.endDate).pipe(Q(t=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching user stats: "+t),[]))).subscribe(t=>{this.userStatsData=t.result,console.log(this.userStatsData),this.renderBarChart(),setTimeout(()=>{this.spinner.hide()},100)})}renderBarChart(){let t=document.getElementById("barChart");this.chartInstance&&this.chartInstance.destroy();let e=this.userStatsData?.months||[],i=e.map(r=>{let o=Object.keys(r)[0];return o.charAt(0).toUpperCase()+o.slice(1)}),s=e.map(r=>Object.values(r)[0]);console.log("Month Labels:",i),console.log("Month Data:",s),this.chartInstance=new Bt(t,{type:"bar",data:{labels:i,datasets:[{label:`Usage Stats for ${(0,Dn.default)().startOf("month").format("LL")} - ${(0,Dn.default)().endOf("month").format("LL")}`,data:s,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}static \u0275fac=function(e){return new(e||n)(T(gt),T(At),T(ni),T(me))};static \u0275cmp=Z({type:n,selectors:[["app-ad-home"]],decls:49,vars:8,consts:[[1,"container"],[1,"row","g-2","my-2"],[1,"col-lg-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row","my-4"],["for","startDate"],[1,"col-lg-4","d-flex"],["id","startDate","type","date",1,"form-control","me-2",3,"ngModelChange","ngModel"],["id","endDate","type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-lg-4"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"col-lg-12"],[1,"fw-bold"],["id","barChart"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section")(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"p",5),x(8,"Total Owners"),g(),_(9,"h2",5),x(10),g()()()(),_(11,"div",2)(12,"div",3)(13,"div",4)(14,"p",5),x(15,"Total Organizations Members"),g(),_(16,"h2",5),x(17),g()()()(),_(18,"div",2)(19,"div",3)(20,"div",4)(21,"p",5),x(22,"Total Organizations"),g(),_(23,"h2",5),x(24),g()()()(),_(25,"div",2)(26,"div",3)(27,"div",4)(28,"p",5),x(29,"Current GPT Model"),g(),_(30,"h2",5),x(31),g()()()()(),_(32,"div",6),R(33,"hr"),_(34,"label",7),x(35,"Filter Useage by Start & End Date"),g(),_(36,"div",8)(37,"input",9),H("ngModelChange",function(r){return j(i.startDate,r)||(i.startDate=r),r}),g(),_(38,"input",10),H("ngModelChange",function(r){return j(i.endDate,r)||(i.endDate=r),r}),g()(),_(39,"div",11)(40,"button",12),B("click",function(){return i.onFetchData()}),x(41," Fetch Usage Stats "),g()()(),_(42,"div",6)(43,"div",13)(44,"h5",14),x(45),g(),_(46,"div",3)(47,"div",4),R(48,"canvas",15),g()()()()()()),e&2&&(M(10),le(i.totalOwners),M(7),le(i.totalNonOwners),M(7),le(i.totalOrganizations),M(7),le(i.currentGptModel),M(6),W("ngModel",i.startDate),M(),W("ngModel",i.endDate),M(7),zi("",i.formattedStartDate," - ",i.formattedEndDate," Usage History"))},dependencies:[_e,Se,xe,et],styles:["canvas[_ngcontent-%COMP%]{max-width:100%;height:400px}"]})};var xa=class n{constructor(t,e,i){this.pageSettingsService=t;this.spinner=e;this._toast=i}pageSettings={aboutUs:"",termsOfUse:"",privacyPolicy:"",updatedBy:""};ngOnInit(){let t=JSON.parse(localStorage.getItem("userData")||"{}");this.pageSettings.updatedBy=t.id||"",this.getPageSettings()}getPageSettings(){this.spinner.show(),this.pageSettingsService.getPageSettings("all").subscribe(t=>{this.spinner.hide(),t.isSuccessful&&t.result&&(this.pageSettings=se(se({},this.pageSettings),t.result))},t=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error fetching page settings",position:"br"})})}allFieldsFilled(){return this.pageSettings.aboutUs.trim()!==""&&this.pageSettings.termsOfUse.trim()!==""&&this.pageSettings.privacyPolicy.trim()!==""}updatePageSettings(){this.spinner.show(),this.pageSettingsService.updatePageSettings(this.pageSettings).subscribe(t=>{this.spinner.hide(),t.isSuccessful&&this._toast.success({detail:"SUCCESS",summary:"Page settings updated successfully!",position:"br"})},t=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error updating page settings",position:"br"})})}static \u0275fac=function(e){return new(e||n)(T(gt),T(me),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-ad-page-settings"]],decls:38,vars:4,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-8"],[3,"ngSubmit"],[1,"mb-3"],["for","aboutUs",1,"form-label","fw-bold"],["name","aboutUs","id","aboutUs","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-5"],["for","termsOfUse",1,"form-label","fw-bold"],["name","termsOfUse","id","termsOfUse","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","privacyPolicy",1,"form-label","fw-bold"],["name","privacyPolicy","id","privacyPolicy","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11,"Manage Page Settings"),g()()()()(),_(12,"div",2)(13,"div",9)(14,"form",10),B("ngSubmit",function(){return i.updatePageSettings()}),_(15,"h2"),x(16,"About Us"),g(),_(17,"div",11)(18,"label",12),x(19,"Edit About Us"),g(),_(20,"textarea",13),H("ngModelChange",function(r){return j(i.pageSettings.aboutUs,r)||(i.pageSettings.aboutUs=r),r}),x(21,"                        "),g()(),_(22,"h2",14),x(23,"Terms of Use"),g(),_(24,"div",11)(25,"label",15),x(26,"Edit Terms of Use"),g(),_(27,"textarea",16),H("ngModelChange",function(r){return j(i.pageSettings.termsOfUse,r)||(i.pageSettings.termsOfUse=r),r}),x(28,"                        "),g()(),_(29,"h2",14),x(30,"Privacy Policy"),g(),_(31,"div",11)(32,"label",17),x(33,"Edit Privacy Policy"),g(),_(34,"textarea",18),H("ngModelChange",function(r){return j(i.pageSettings.privacyPolicy,r)||(i.pageSettings.privacyPolicy=r),r}),x(35,"                        "),g()(),_(36,"button",19),x(37," Update "),g()()()()()()),e&2&&(M(20),W("ngModel",i.pageSettings.aboutUs),M(7),W("ngModel",i.pageSettings.termsOfUse),M(7),W("ngModel",i.pageSettings.privacyPolicy),M(2),L("disabled",!i.allFieldsFilled()))},dependencies:[Su,We,_e,Se,Ue,St,xe,Le,et]})};function rC(n,t){if(n&1){let e=ve();_(0,"tr")(1,"th",40),x(2),g(),_(3,"td"),x(4),g(),_(5,"td"),x(6),g(),_(7,"td"),x(8),kt(9,"date"),g(),_(10,"td"),R(11,"a",41),_(12,"ul",42)(13,"li")(14,"a",43),x(15,"Edit User Profile"),g()(),_(16,"li")(17,"a",44),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.setAssistantDetails(s))}),x(18,"Set Chat GPT Assistant"),g()(),_(19,"li")(20,"a",43),x(21,"Usage Stats"),g()()(),_(22,"button",45),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.deleteUser(s.user._id))}),R(23,"i",46),g()()()}if(n&2){let e=t.$implicit;M(2),le(e.user.name),M(2),le(e.user.emailAddress),M(2),le((e.organizations==null?null:e.organizations.name)||"N/A"),M(2),le(Yn(9,9,e.user.createdAt,"medium")),M(6),$r("href","admin/user/edit/",e.user._id,"",nt),M(6),cu("href","admin/user/useage-stats/",e.user._id,"/",e.organizations==null?null:e.organizations._id,"",nt)}}var wa=class n{constructor(t,e,i){this.adService=t;this.spinner=e;this._toast=i}users=[];errorMessage="";owners=[];selectedAssistantName="";selectedAssistantId="";selectedUserId="";selectedId="";selectedCreatedAt="";selectedUpdatedAt="";ngOnInit(){this.getAllUsers()}getAllUsers(){this.spinner.show(),this.adService.getAllUsers().subscribe(t=>{setTimeout(()=>{this.spinner.hide()},1e3),this.users=t.result,console.log(this.users),this.owners=this.users.filter(e=>e.user.isOwner),console.log(this.owners)},t=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Try again later",position:"br"})})}setAssistantDetails(t){console.log(t),this.selectedAssistantName=t.gptAssistants.assistantName,this.selectedAssistantId=t.gptAssistants.assistantId,this.selectedUserId=t.user._id,this.selectedId=t.gptAssistants._id,this.selectedUpdatedAt=t.gptAssistants.updatedAt,this.selectedCreatedAt=t.gptAssistants.createdAt}saveChanges(){this.spinner.show();let t={assistantName:this.selectedAssistantName,assistantId:this.selectedAssistantId};this.adService.updateAssistant(this.selectedUserId,t).subscribe(e=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.success({detail:"SUCCESS",summary:"Assistant updated successfully",position:"br"}),console.log("Assistant updated successfully:",e)},e=>{console.error("Error updating assistant:",e),setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Error updating assistant",position:"br"})})}isSaveButtonDisabled(){return!this.selectedAssistantName||!this.selectedAssistantId}deleteUser(t){confirm("Are you sure you want to delete this user?")&&(this.spinner.show(),this.adService.deleteUserAndAssociatedRecords(t).subscribe(e=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.success({detail:"SUCCESS",summary:"User deleted successfully",position:"br"}),this.getAllUsers()},e=>{console.error("Error deleting user:",e),setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Error deleting user",position:"br"})}))}static \u0275fac=function(e){return new(e||n)(T(At),T(me),T(Fe))};static \u0275cmp=Z({type:n,selectors:[["app-ad-user"]],decls:75,vars:13,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12","pb-3"],["aria-label","breadcrumb"],[1,"d-flex","justify-content-between","align-items-center"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["href","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],["type","button","href","admin/user/add",1,"btn","btn-primary"],[1,"col-lg-12"],["id","userTabs","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","owners-tab","data-bs-toggle","tab","href","#owners","role","tab","aria-controls","owners","aria-selected","true",1,"nav-link","active"],["id","userTabsContent",1,"tab-content"],["id","owners","role","tabpanel","aria-labelledby","owners-tab",1,"tab-pane","fade","show","active"],[1,"card","mt-3"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","assistant-id",1,"col-form-label"],["type","text","id","id","name","selectedId","readonly","","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","assistant-id","name","assistantId",1,"form-control",3,"ngModelChange","ngModel"],["for","assistant-name",1,"col-form-label"],["type","text","id","assistant-name","name","assistantName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","created-at","readonly","","disabled","",1,"form-control",3,"value"],["type","text","id","updated-at","readonly","","disabled","",1,"form-control",3,"value"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["scope","row"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","me-2"],[1,"dropdown-menu"],[1,"dropdown-item",3,"href"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"dropdown-item",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"div",5)(7,"ol",6)(8,"li",7)(9,"a",8),x(10,"Home"),g()(),_(11,"li",9),x(12," Manage Users "),g()(),_(13,"a",10),x(14,"Add User"),g()()()(),_(15,"div",11)(16,"ul",12)(17,"li",13)(18,"a",14),x(19,"Owners"),g()()(),_(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"table",19)(25,"thead")(26,"tr")(27,"th",20),x(28,"Name"),g(),_(29,"th",20),x(30,"Email"),g(),_(31,"th",20),x(32,"Organization"),g(),_(33,"th",20),x(34,"Created"),g(),_(35,"th",20),x(36,"Action"),g()()(),_(37,"tbody"),q(38,rC,24,12,"tr",21),g()()()()()()()()()(),_(39,"div",22)(40,"div",23)(41,"div",24)(42,"div",25)(43,"h1",26),x(44,"Set Chat GPT Assistant (Lotus)"),g(),R(45,"button",27),g(),_(46,"div",28)(47,"form")(48,"div",29)(49,"label",30),x(50,"Id:"),g(),_(51,"input",31),H("ngModelChange",function(r){return j(i.selectedId,r)||(i.selectedId=r),r}),g()(),_(52,"div",29)(53,"label",30),x(54,"Assistant Id:"),g(),_(55,"input",32),H("ngModelChange",function(r){return j(i.selectedAssistantId,r)||(i.selectedAssistantId=r),r}),g()(),_(56,"div",29)(57,"label",33),x(58,"Assistant Name:"),g(),_(59,"input",34),H("ngModelChange",function(r){return j(i.selectedAssistantName,r)||(i.selectedAssistantName=r),r}),g()(),_(60,"div",29)(61,"label",30),x(62,"Created At:"),g(),R(63,"input",35),kt(64,"date"),g(),_(65,"div",29)(66,"label",30),x(67,"Updated At:"),g(),R(68,"input",36),kt(69,"date"),g()()(),_(70,"div",37)(71,"button",38),x(72,"Close"),g(),_(73,"button",39),B("click",function(){return i.saveChanges()}),x(74,"Save changes"),g()()()()()),e&2&&(M(38),L("ngForOf",i.owners),M(13),W("ngModel",i.selectedId),M(4),W("ngModel",i.selectedAssistantId),M(4),W("ngModel",i.selectedAssistantName),M(4),L("value",Yn(64,7,i.selectedCreatedAt,"medium")),M(5),L("value",Yn(69,10,i.selectedUpdatedAt,"medium")),M(5),L("disabled",i.isSaveButtonDisabled()))},dependencies:[ft,We,_e,Se,Ue,xe,Le,et,Kr],styles:["#users[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%], #createdAt[_ngcontent-%COMP%]{font-size:12px}"]})};function oC(n,t){if(n&1){let e=ve();_(0,"tr")(1,"th",24),x(2),g(),_(3,"td"),x(4),g(),_(5,"td"),x(6),g(),_(7,"td")(8,"button",25),B("click",function(){let s=ee(e).$implicit,r=V();return te(r.selectTicket(s))}),R(9,"i",26),g(),_(10,"button",27),x(11," Reply "),R(12,"i",28),g(),_(13,"button",29),R(14,"i",30),g()()()}if(n&2){let e=t.$implicit;M(2),le(e.name),M(2),le(e.email),M(2),le(e.date)}}var Sa=class n{tickets=[{name:"Lotus Biswas",email:"lotusbiswas@gmail.com",issue:"It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",date:"2024-10-17 12:06 AM"},{name:"John Doe",email:"johndoe@example.com",issue:"It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",date:"2024-10-17 19:54 PM"},{name:"Jane Smith",email:"janesmith@example.com",issue:"It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",date:"2024-10-17 04:23 AM"},{name:"Alice Johnson",email:"alice.j@example.com",issue:"It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",date:"2024-10-17 14:26 PM"}];selectedTicket=null;selectTicket(t){this.selectedTicket=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-ad-support-tickets"]],decls:51,vars:5,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],["id","users",1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","ticketModal","tabindex","-1","aria-labelledby","ticketModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","ticketModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["scope","row"],["type","button","data-bs-toggle","modal","data-bs-target","#ticketModal",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["type","button",1,"btn","btn-success","mx-2"],["aria-hidden","true",1,"fa","fa-reply"],["type","button",1,"btn","btn-danger"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11,"Manage Users"),g()()()(),_(12,"div",9)(13,"div",10)(14,"div",11)(15,"table",12)(16,"thead")(17,"tr")(18,"th",13),x(19,"Name"),g(),_(20,"th",13),x(21,"Email"),g(),_(22,"th",13),x(23,"Created"),g(),_(24,"th",13),x(25,"Action"),g()()(),_(26,"tbody"),q(27,oC,15,3,"tr",14),g()()()()()()(),_(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"h5",19),x(33),g(),R(34,"button",20),g(),_(35,"div",21)(36,"p")(37,"strong"),x(38,"Email:"),g(),x(39),g(),_(40,"p")(41,"strong"),x(42,"Issue:"),g(),x(43),g(),_(44,"p")(45,"strong"),x(46,"Date Created:"),g(),x(47),g()(),_(48,"div",22)(49,"button",23),x(50," Close "),g()()()()()()),e&2&&(M(27),L("ngForOf",i.tickets),M(6),ce("",i.selectedTicket==null?null:i.selectedTicket.name,"'s Ticket"),M(6),ce(" ",i.selectedTicket==null?null:i.selectedTicket.email,""),M(4),ce(" ",i.selectedTicket==null?null:i.selectedTicket.issue,""),M(4),ce(" ",i.selectedTicket==null?null:i.selectedTicket.date,""))},dependencies:[ft,et]})};function aC(n,t){if(n&1){let e=ve();_(0,"div")(1,"div",14)(2,"label",50),x(3,"App Name"),g(),_(4,"input",51),H("ngModelChange",function(s){ee(e);let r=V();return j(r.userData.appName,s)||(r.userData.appName=s),te(s)}),g()(),_(5,"div",14)(6,"label",52),x(7,"App Logo"),g(),_(8,"input",53),H("ngModelChange",function(s){ee(e);let r=V();return j(r.userData.appLogo,s)||(r.userData.appLogo=s),te(s)}),g()()()}if(n&2){let e=V();M(4),W("ngModel",e.userData.appName),M(4),W("ngModel",e.userData.appLogo)}}function lC(n,t){if(n&1){let e=ve();_(0,"div",30)(1,"input",54),H("ngModelChange",function(s){ee(e);let r=V();return j(r.userData.isOwner,s)||(r.userData.isOwner=s),te(s)}),g(),_(2,"label",55),x(3,"Is Owner"),g()()}if(n&2){let e=V();M(),W("ngModel",e.userData.isOwner)}}function cC(n,t){if(n&1){let e=ve();_(0,"div",14)(1,"label",56),x(2,"Edit Organization Name"),g(),_(3,"input",57),H("ngModelChange",function(s){ee(e);let r=V();return j(r.userData.organizationName,s)||(r.userData.organizationName=s),te(s)}),g()()}if(n&2){let e=V();M(3),W("ngModel",e.userData.organizationName)}}function dC(n,t){if(n&1){let e=ve();_(0,"li",66)(1,"div"),x(2),_(3,"span",67),x(4),g()(),_(5,"div",68)(6,"span",69),B("click",function(){let s=ee(e).$implicit,r=V(4);return te(r.editMember(s.userId))}),R(7,"i",70),g(),_(8,"span",71),B("click",function(){let s=ee(e).$implicit,r=V(4);return te(r.removeMember(s.organizationId,s.userId))}),R(9,"i",72),g()()()}if(n&2){let e=t.$implicit;M(2),ce(" ",e.name," "),M(2),ce("(",e.email,")")}}function uC(n,t){if(n&1&&(_(0,"ol",64),q(1,dC,10,2,"li",65),g()),n&2){let e=V(3);M(),L("ngForOf",e.organizationMembers)}}function hC(n,t){n&1&&(_(0,"p",73),x(1,"No organization members"),g())}function fC(n,t){if(n&1&&(_(0,"div")(1,"div",60)(2,"p",61),x(3,"Organization Members:"),g(),_(4,"button",62),x(5," Add Member "),g()(),q(6,uC,2,1,"ol",63)(7,hC,2,0,"ng-template",null,1,Je),g()),n&2){let e=Be(8),i=V(2);M(6),L("ngIf",i.organizationMembers.length>0)("ngIfElse",e)}}function pC(n,t){n&1&&(_(0,"p",73),x(1,"No organization found. Please create an organization first to manage members."),g())}function mC(n,t){if(n&1&&(_(0,"div",58),q(1,fC,9,2,"div",59)(2,pC,2,0,"ng-template",null,0,Je),g()),n&2){let e=Be(3),i=V();M(),L("ngIf",i.userInfo.organization._id)("ngIfElse",e)}}var Ca=class n{constructor(t,e,i,s,r){this.route=t;this.router=e;this.adUserService=i;this.userService=s;this.spinner=r}userInfo=[];userId="";userData={appName:"",appLogo:"",name:"",phoneNumber:"",emailAddress:"",address:"",isOwner:!1,isActive:!0,role:"User",organizationName:""};organizationMembers=[];newMember={name:"",email:""};ngOnInit(){this.route.params.subscribe(t=>{let e=t.id;e&&e!==this.userId&&(this.userId=e,this.getUserDetails())})}getUserDetails(){this.spinner.show(),this.adUserService.getUserDetails(this.userId).subscribe(t=>{setTimeout(()=>{this.spinner.hide()},1e3),this.userInfo=t.result,this.userData.appName=t.result.appName||"",this.userData.appLogo=t.result.appLogo||"",this.userData.name=t.result.name||"",this.userData.phoneNumber=t.result.phoneNumber||"",this.userData.emailAddress=t.result.emailAddress||"",this.userData.address=t.result.address||"",this.userData.isOwner=t.result.isOwner||!1,this.userData.isActive=t.result.isActive||!0,this.userData.role=t.result.role||"User",this.userData.organizationName=t.result.organization?.name||"",this.organizationMembers=t.result.organizationMembers||[]},t=>{setTimeout(()=>{this.spinner.hide()},1e3),alert("Error fetching user details: "+t),window.location.reload()})}updateUserDetails(){this.spinner.show(),this.adUserService.updateUserDetails(this.userId,this.userData).subscribe(()=>{setTimeout(()=>{this.spinner.hide()},1e3),alert("User updated successfully!"),window.location.reload()},t=>{setTimeout(()=>{this.spinner.hide()},1e3),alert("Error updating user:"+t),window.location.reload()})}removeMember(t,e){confirm("Are you sure you want to remove this member from the organization?")&&(this.spinner.show(),this.adUserService.deleteUserFromOrganization(t,e).subscribe(i=>{setTimeout(()=>{this.spinner.hide()},1e3),this.organizationMembers=this.organizationMembers.filter(s=>s.userId!==e),alert("Member removed successfully!")},i=>{setTimeout(()=>{this.spinner.hide()},1e3),console.error("Error removing member:",i)}))}editMember(t){this.router.navigate(["/admin/user/edit",t])}sendInvite(){if(this.spinner.show(),!this.newMember.name||!this.newMember.email){setTimeout(()=>{this.spinner.hide()},1e3),alert("Both name and email are required to send an invite.");return}let t=this.userInfo.organization._id;this.userService.addOrganizationMember(t,this.newMember.name,this.newMember.email).subscribe(e=>{setTimeout(()=>{this.spinner.hide()},1e3),alert("Invite sent successfully!"),this.organizationMembers.push({name:this.newMember.name,email:this.newMember.email}),this.newMember={name:"",email:""}},e=>{setTimeout(()=>{this.spinner.hide()},1e3),console.error("Error sending invite:",e),alert("Failed to send invite. Please try again.")})}static \u0275fac=function(e){return new(e||n)(T(ni),T(qe),T(At),T(Wt),T(me))};static \u0275cmp=Z({type:n,selectors:[["app-ad-edit-user"]],decls:73,vars:12,consts:[["noOrganization",""],["noMembers",""],[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","g-5"],[1,"col-lg-6"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","text","id","phone","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","address",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],["for","role",1,"form-label"],["id","role","name","role","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","User"],["value","Organization Member"],["value","Admin"],["class","mb-3 form-check",4,"ngIf"],[1,"mb-3","form-check"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],["class","mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["class","col-lg-4",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","member-name",1,"col-form-label"],["type","text","id","member-name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","member-email",1,"col-form-label"],["type","email","id","member-email","name","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["for","appName",1,"form-label"],["type","text","id","appName","name","appName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","appLogo",1,"form-label"],["type","text","id","appLogo","name","appLogo","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox","id","isOwner","name","isOwner",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isOwner",1,"form-check-label"],["for","organization",1,"form-label"],["type","text","id","organization","name","organization",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-lg-4"],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-bold"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],["class","list-group mt-2",4,"ngIf","ngIfElse"],[1,"list-group","mt-2"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[2,"font-size","12px"],[1,"d-flex","justify-content-end"],[1,"badge","text-bg-warning","rounded-pill",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"badge","text-bg-danger","rounded-pill",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"text-muted"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"nav",6)(6,"ol",7)(7,"li",8)(8,"a",9),x(9,"Home"),g()(),_(10,"li",10),x(11," Edit User "),g()()()()(),_(12,"div",11)(13,"div",12)(14,"form",13),B("ngSubmit",function(){return i.updateUserDetails()}),_(15,"div",14)(16,"label",15),x(17,"Name"),g(),_(18,"input",16),H("ngModelChange",function(r){return j(i.userData.name,r)||(i.userData.name=r),r}),g()(),_(19,"div",14)(20,"label",17),x(21,"Phone Number"),g(),_(22,"input",18),H("ngModelChange",function(r){return j(i.userData.phoneNumber,r)||(i.userData.phoneNumber=r),r}),g()(),_(23,"div",14)(24,"label",19),x(25,"Email Address"),g(),_(26,"input",20),H("ngModelChange",function(r){return j(i.userData.emailAddress,r)||(i.userData.emailAddress=r),r}),g()(),q(27,aC,9,2,"div",21),_(28,"div",14)(29,"label",22),x(30,"Address"),g(),_(31,"input",23),H("ngModelChange",function(r){return j(i.userData.address,r)||(i.userData.address=r),r}),g()(),_(32,"div",14)(33,"label",24),x(34,"Role"),g(),_(35,"select",25),H("ngModelChange",function(r){return j(i.userData.role,r)||(i.userData.role=r),r}),_(36,"option",26),x(37,"User"),g(),_(38,"option",27),x(39,"Organization Member"),g(),_(40,"option",28),x(41,"Admin"),g()()(),q(42,lC,4,1,"div",29),_(43,"div",30)(44,"input",31),H("ngModelChange",function(r){return j(i.userData.isActive,r)||(i.userData.isActive=r),r}),g(),_(45,"label",32),x(46,"Is Active"),g()(),q(47,cC,4,1,"div",33),_(48,"button",34),x(49,"Update"),g()()(),q(50,mC,4,2,"div",35),g()()(),_(51,"div",36)(52,"div",37)(53,"div",38)(54,"div",39)(55,"h1",40),x(56,"Add Organization Member"),g(),R(57,"button",41),g(),_(58,"div",42)(59,"form")(60,"div",14)(61,"label",43),x(62,"Name"),g(),_(63,"input",44),H("ngModelChange",function(r){return j(i.newMember.name,r)||(i.newMember.name=r),r}),g()(),_(64,"div",14)(65,"label",45),x(66,"Email"),g(),_(67,"input",46),H("ngModelChange",function(r){return j(i.newMember.email,r)||(i.newMember.email=r),r}),g()()()(),_(68,"div",47)(69,"button",48),x(70,"Close"),g(),_(71,"button",49),B("click",function(){return i.sendInvite()}),x(72,"Send Invite"),g()()()()()),e&2&&(M(18),W("ngModel",i.userData.name),M(4),W("ngModel",i.userData.phoneNumber),M(4),W("ngModel",i.userData.emailAddress),M(),L("ngIf",i.userData.isOwner),M(4),W("ngModel",i.userData.address),M(4),W("ngModel",i.userData.role),M(7),L("ngIf",i.userData.isOwner),M(2),W("ngModel",i.userData.isActive),M(3),L("ngIf",i.userInfo.isOwner),M(3),L("ngIf",i.userInfo.isOwner),M(13),W("ngModel",i.newMember.name),M(4),W("ngModel",i.newMember.email))},dependencies:[ft,Ie,We,fh,mh,_e,Il,vo,Se,Ue,St,xe,Le,et]})};var Ma=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-ad-user-custom-kb"]],decls:47,vars:0,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-8"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label","fw-bold"],["id","emailHelp",1,"form-text"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"row","mt-4"],[1,"input-group","mb-3"],["type","text","placeholder","","aria-label","","aria-describedby","button-addon2",1,"form-control"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary"],["aria-hidden","true",1,"fa","fa-telegram"],[1,"btn","btn-danger","mt-2"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11," Custom ChatGPT "),g()()()()(),_(12,"div",2)(13,"div",3)(14,"h2"),x(15,"Edit Custom Instructions"),g()()(),_(16,"div",2)(17,"div",9)(18,"form")(19,"div",10)(20,"label",11),x(21,"Custom Instructions "),g(),_(22,"div",12),x(23," What would you like ChatGPT to know about you to provide better responses? "),R(24,"textarea",13),g()(),_(25,"div",10)(26,"label",11),x(27,"How would you like ChatGPT to respond?"),g(),R(28,"textarea",13),g(),_(29,"button",14),x(30,"Save"),g()()()(),_(31,"div",15)(32,"div",9)(33,"h2"),x(34,"Test Chatbot"),g(),_(35,"form")(36,"div",16),R(37,"input",17),_(38,"button",18),x(39,"Send "),R(40,"i",19),g()(),_(41,"div",10)(42,"label",11),x(43,"Bot Reply "),g(),R(44,"textarea",13),_(45,"button",20),x(46,"Clear"),g()()()()()()())},dependencies:[We,Ue,Le,et]})};var En=ol(ya());Bt.register(...ms);var ka=class n{constructor(t,e,i){this.apiService=t;this.route=e;this.spinner=i;let s=new Date;this.currentYear=s.getFullYear(),this.lastYear=s.getFullYear()-1,this.currentMonthName=this.getMonthName(s.getMonth()),this.lastMonthName=this.getMonthName(s.getMonth()-1),this.route.params.subscribe(r=>{let o=r.id,a=r.orgid;this.orgId=a,o&&o!==this.userId&&(this.userId=o)})}startDate="";endDate="";formattedStartDate="";formattedEndDate="";userStatsData=[];usageStatsData=[];userId="";orgId="";chartInstance=null;chartInstance2=null;totalRequestsCurrentYear=0;totalRequestsLastYear=0;totalRequestsCurrentMonth=0;totalRequestsLastMonth=0;currentYear;lastYear;currentMonthName="";lastMonthName="";getMonthName(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t<0?11:t]}ngOnInit(){this.startDate=(0,En.default)().startOf("month").format("YYYY-MM-DD"),this.endDate=(0,En.default)().endOf("month").format("YYYY-MM-DD"),this.onFetchData(),this.fetchStats(),this.formattedStartDate=(0,En.default)().startOf("month").format("ll"),this.formattedEndDate=(0,En.default)().endOf("month").format("ll")}fetchStats(){let e=new Date().getMonth(),i=`${this.currentYear}-01-01`,s=`${this.currentYear}-12-31`,r=`${this.lastYear}-01-01`,o=`${this.lastYear}-12-31`;this.getRequests(i,s,p=>{this.totalRequestsCurrentYear=p}),this.getRequests(r,o,p=>{this.totalRequestsLastYear=p});let a=`${this.currentYear}-${String(e+1).padStart(2,"0")}-01`,c=`${this.currentYear}-${String(e+1).padStart(2,"0")}-${this.getDaysInMonth(e+1)}`,u=`${this.currentYear}-${String(e).padStart(2,"0")}-01`,h=`${this.currentYear}-${String(e).padStart(2,"0")}-${this.getDaysInMonth(e)}`;this.getRequests(a,c,p=>{this.totalRequestsCurrentMonth=p}),this.getRequests(u,h,p=>{this.totalRequestsLastMonth=p})}getRequests(t,e,i){this.spinner.show(),this.apiService.getUserMessageStats(this.userId,t,e).pipe(Q(s=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching user stats: "+s),[]))).subscribe(s=>{let r=s.result?.months||[],o=this.calculateTotalRequests(r);i(o),setTimeout(()=>{this.spinner.hide()},100)})}calculateTotalRequests(t){return t.reduce((e,i)=>e+Object.values(i)[0],0)}getDaysInMonth(t){return new Date(this.currentYear,t,0).getDate()}ngAfterViewInit(){this.renderBarChart()}onFetchData(){this.startDate&&this.endDate&&(this.getUserMessageStats(),this.getOrganizationMessageStats())}getUserMessageStats(){this.spinner.show(),this.apiService.getUserMessageStats(this.userId,this.startDate,this.endDate).pipe(Q(t=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching user stats: "+t),[]))).subscribe(t=>{this.userStatsData=t.result,console.log(this.userStatsData),this.renderBarChart(),setTimeout(()=>{this.spinner.hide()},100)})}getOrganizationMessageStats(){this.spinner.show(),this.apiService.getOrganizationMessageStats(this.orgId,this.startDate,this.endDate).pipe(Q(t=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching organization stats: "+t),[]))).subscribe(t=>{this.usageStatsData=t.result.stats,console.log(this.usageStatsData),this.renderBarChartForOrg(),setTimeout(()=>{this.spinner.hide()},100)})}renderBarChart(){let t=document.getElementById("barChart");this.chartInstance&&this.chartInstance.destroy();let e=this.userStatsData?.months||[],i=e.map(r=>{let o=Object.keys(r)[0];return o.charAt(0).toUpperCase()+o.slice(1)}),s=e.map(r=>Object.values(r)[0]);console.log("Month Labels:",i),console.log("Month Data:",s),this.chartInstance=new Bt(t,{type:"bar",data:{labels:i,datasets:[{label:`Usage Stats for ${(0,En.default)().startOf("month").format("LL")} - ${(0,En.default)().endOf("month").format("LL")}`,data:s,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}renderBarChartForOrg(){let t=document.getElementById("orgBarChart");this.chartInstance2&&this.chartInstance2.destroy();let e=Object.keys(this.usageStatsData),i=Object.values(this.usageStatsData).map(s=>Number(s));console.log("Org Labels:",e),console.log("Org Values:",i),this.chartInstance2=new Bt(t,{type:"bar",data:{labels:e,datasets:[{label:`Organization Message Stats (${this.formattedStartDate} - ${this.formattedEndDate})`,data:i,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}static \u0275fac=function(e){return new(e||n)(T(At),T(ni),T(me))};static \u0275cmp=Z({type:n,selectors:[["app-ad-user-usage-stats"]],decls:75,vars:14,consts:[[1,"mt-5"],[1,"container"],[1,"row"],[1,"col-lg-12","pb-3"],["aria-label","breadcrumb"],[1,"d-flex","justify-content-between","align-items-center"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["href","admin/home"],["href","admin/users"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-3"],[1,"card"],[1,"card-body","bg-dark","text-white"],[1,"card-title"],[1,"card-body","bg-light"],[1,"row","my-4"],["for","startDate"],[1,"col-lg-4","d-flex"],["id","startDate","type","date",1,"form-control","me-2",3,"ngModelChange","ngModel"],["id","endDate","type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-lg-4"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"col-lg-12"],[1,"fw-bold"],[1,"card-body"],["id","barChart"],[1,"col-lg-12","mt-5"],["id","orgBarChart"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"div",5)(7,"ol",6)(8,"li",7)(9,"a",8),x(10,"Home"),g()(),_(11,"li",7)(12,"a",9),x(13," Manage Users"),g()(),_(14,"li",10),x(15," Useage Stats "),g()()()()(),_(16,"div",11)(17,"div",12)(18,"div",13)(19,"h2"),x(20,"Total Requests"),g(),_(21,"p",14),x(22),g(),_(23,"h2",14),x(24),g()()()(),_(25,"div",11)(26,"div",12)(27,"div",15)(28,"h2"),x(29,"Total Requests"),g(),_(30,"p",14),x(31),g(),_(32,"h2",14),x(33),g()()()(),_(34,"div",11)(35,"div",12)(36,"div",13)(37,"h2"),x(38,"Total Requests"),g(),_(39,"p",14),x(40),g(),_(41,"h2",14),x(42),g()()()(),_(43,"div",11)(44,"div",12)(45,"div",15)(46,"h2"),x(47,"Total Requests"),g(),_(48,"p",14),x(49),g(),_(50,"h2",14),x(51),g()()()()(),_(52,"div",16),R(53,"hr"),_(54,"label",17),x(55,"Filter Useage by Start & End Date"),g(),_(56,"div",18)(57,"input",19),H("ngModelChange",function(r){return j(i.startDate,r)||(i.startDate=r),r}),g(),_(58,"input",20),H("ngModelChange",function(r){return j(i.endDate,r)||(i.endDate=r),r}),g()(),_(59,"div",21)(60,"button",22),B("click",function(){return i.onFetchData()}),x(61," Fetch Usage Stats "),g()()(),_(62,"div",16)(63,"div",23)(64,"h5",24),x(65),g(),_(66,"div",12)(67,"div",25),R(68,"canvas",26),g()()(),_(69,"div",27)(70,"h5",24),x(71),g(),_(72,"div",12)(73,"div",25),R(74,"canvas",28),g()()()()()()),e&2&&(M(22),ce("Current Year (",i.currentYear,")"),M(2),le(i.totalRequestsCurrentYear),M(7),ce("Last Year (",i.lastYear,")"),M(2),le(i.totalRequestsLastYear),M(7),le(i.currentMonthName),M(2),le(i.totalRequestsCurrentMonth),M(7),le(i.lastMonthName),M(2),le(i.totalRequestsLastMonth),M(6),W("ngModel",i.startDate),M(),W("ngModel",i.endDate),M(7),zi(" ",i.formattedStartDate," - ",i.formattedEndDate," Usage History "),M(6),zi(" ",i.formattedStartDate," - ",i.formattedEndDate," Organization Member History "))},dependencies:[_e,Se,xe,et]})};var Da=class n{constructor(t,e){this.userService=t;this.router=e}userData={appName:"",appLogo:"",name:"",phoneNumber:"",emailAddress:"",assistantName:"",assistantId:""};addUser(){this.userService.addUser(this.userData).subscribe(t=>{alert("User added successfully!"),this.router.navigate(["admin/users"])},t=>{alert("Error adding user"+t.message)})}isFormValid(){return Object.values(this.userData).every(t=>t.trim()!=="")}static \u0275fac=function(e){return new(e||n)(T(At),T(qe))};static \u0275cmp=Z({type:n,selectors:[["app-ad-add-user"]],decls:47,vars:8,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","admin/home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","g-5"],[1,"col-lg-6"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","text","id","phone","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","appName",1,"form-label"],["type","text","id","appName","name","appName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","appLogo",1,"form-label"],["type","text","id","appLogo","name","appLogo","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fw-bold","pt-3"],["for","assistantName",1,"form-label"],["type","text","id","assistantName","name","assistantName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","assistantId",1,"form-label"],["type","text","id","assistantId","name","assistantId","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,i){e&1&&(R(0,"app-ad-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11,"Add User"),g()()()()(),_(12,"div",9)(13,"div",10)(14,"form",11),B("ngSubmit",function(){return i.addUser()}),_(15,"div",12)(16,"label",13),x(17,"Name"),g(),_(18,"input",14),H("ngModelChange",function(r){return j(i.userData.name,r)||(i.userData.name=r),r}),g()(),_(19,"div",12)(20,"label",15),x(21,"Phone Number"),g(),_(22,"input",16),H("ngModelChange",function(r){return j(i.userData.phoneNumber,r)||(i.userData.phoneNumber=r),r}),g()(),_(23,"div",12)(24,"label",17),x(25,"Email address"),g(),_(26,"input",18),H("ngModelChange",function(r){return j(i.userData.emailAddress,r)||(i.userData.emailAddress=r),r}),g()(),_(27,"div",12)(28,"label",19),x(29,"App Name"),g(),_(30,"input",20),H("ngModelChange",function(r){return j(i.userData.appName,r)||(i.userData.appName=r),r}),g()(),_(31,"div",12)(32,"label",21),x(33,"App Logo"),g(),_(34,"input",22),H("ngModelChange",function(r){return j(i.userData.appLogo,r)||(i.userData.appLogo=r),r}),g()(),_(35,"p",23),x(36,"Add Chat GPT Assistant"),g(),_(37,"div",12)(38,"label",24),x(39,"Assistant Name"),g(),_(40,"input",25),H("ngModelChange",function(r){return j(i.userData.assistantName,r)||(i.userData.assistantName=r),r}),g()(),_(41,"div",12)(42,"label",26),x(43,"Assistant Id"),g(),_(44,"input",27),H("ngModelChange",function(r){return j(i.userData.assistantId,r)||(i.userData.assistantId=r),r}),g()(),_(45,"button",28),x(46,"Add"),g()()()()()()),e&2&&(M(18),W("ngModel",i.userData.name),M(4),W("ngModel",i.userData.phoneNumber),M(4),W("ngModel",i.userData.emailAddress),M(4),W("ngModel",i.userData.appName),M(4),W("ngModel",i.userData.appLogo),M(6),W("ngModel",i.userData.assistantName),M(4),W("ngModel",i.userData.assistantId),M(),L("disabled",!i.isFormValid()))},dependencies:[We,_e,Se,Ue,St,xe,Le,et]})};var On=ol(ya());function gC(n,t){if(n&1&&(_(0,"div",19)(1,"h5",20),x(2),g(),_(3,"div",4)(4,"div",21),R(5,"canvas",22),g()()()),n&2){let e=V();M(2),zi(" ",e.formattedStartDate," - ",e.formattedEndDate," Usage History ")}}function bC(n,t){if(n&1&&(_(0,"div",23)(1,"h5",20),x(2),g(),_(3,"div",4)(4,"div",21),R(5,"canvas",24),g()()()),n&2){let e=V();M(2),zi(" ",e.formattedStartDate," - ",e.formattedEndDate," Organization Member History ")}}function _C(n,t){n&1&&(_(0,"div",1)(1,"div",25)(2,"div",26),R(3,"hr"),_(4,"a",27),x(5,"Start first conversation"),g()()()())}Bt.register(...ms);var Ea=class n{constructor(t,e,i){this.apiService=t;this.route=e;this.spinner=i;let s=new Date;this.currentYear=s.getFullYear(),this.lastYear=s.getFullYear()-1,this.currentMonthName=this.getMonthName(s.getMonth()),this.lastMonthName=this.getMonthName(s.getMonth()-1)}startDate="";endDate="";formattedStartDate="";formattedEndDate="";userStatsData=[];usageStatsData=[];userId="";orgId="";chartInstance=null;chartInstance2=null;totalRequestsCurrentYear=0;totalRequestsLastYear=0;totalRequestsCurrentMonth=0;totalRequestsLastMonth=0;currentYear;lastYear;currentMonthName="";lastMonthName="";user=[];getMonthName(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t<0?11:t]}ngOnInit(){let t=localStorage.getItem("user");t&&(this.user=JSON.parse(t)),this.userId=this.user._id,this.orgId=this.user.organization._id,this.startDate=(0,On.default)().startOf("month").format("YYYY-MM-DD"),this.endDate=(0,On.default)().endOf("month").format("YYYY-MM-DD"),this.onFetchData(),this.fetchStats(),this.formattedStartDate=(0,On.default)().startOf("month").format("ll"),this.formattedEndDate=(0,On.default)().endOf("month").format("ll")}fetchStats(){let e=new Date().getMonth(),i=`${this.currentYear}-01-01`,s=`${this.currentYear}-12-31`,r=`${this.lastYear}-01-01`,o=`${this.lastYear}-12-31`;this.getRequests(i,s,p=>{this.totalRequestsCurrentYear=p}),this.getRequests(r,o,p=>{this.totalRequestsLastYear=p});let a=`${this.currentYear}-${String(e+1).padStart(2,"0")}-01`,c=`${this.currentYear}-${String(e+1).padStart(2,"0")}-${this.getDaysInMonth(e+1)}`,u=`${this.currentYear}-${String(e).padStart(2,"0")}-01`,h=`${this.currentYear}-${String(e).padStart(2,"0")}-${this.getDaysInMonth(e)}`;this.getRequests(a,c,p=>{this.totalRequestsCurrentMonth=p}),this.getRequests(u,h,p=>{this.totalRequestsLastMonth=p})}getRequests(t,e,i){this.spinner.show(),this.apiService.getUserMessageStats(this.userId,t,e).pipe(Q(s=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching user stats: "+s),[]))).subscribe(s=>{let r=s.result?.months||[],o=this.calculateTotalRequests(r);i(o),setTimeout(()=>{this.spinner.hide()},100)})}calculateTotalRequests(t){return t.reduce((e,i)=>e+Object.values(i)[0],0)}getDaysInMonth(t){return new Date(this.currentYear,t,0).getDate()}ngAfterViewInit(){this.renderBarChart()}onFetchData(){this.startDate&&this.endDate&&(this.getUserMessageStats(),this.getOrganizationMessageStats())}getUserMessageStats(){this.spinner.show(),this.apiService.getUserMessageStats(this.userId,this.startDate,this.endDate).pipe(Q(t=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching user stats: "+t),[]))).subscribe(t=>{this.userStatsData=t.result,console.log(this.userStatsData),this.renderBarChart(),setTimeout(()=>{this.spinner.hide()},100)})}getOrganizationMessageStats(){this.spinner.show(),this.apiService.getOrganizationMessageStats(this.orgId,this.startDate,this.endDate).pipe(Q(t=>(setTimeout(()=>{this.spinner.hide()},100),alert("Error fetching organization stats: "+t),[]))).subscribe(t=>{this.usageStatsData=t.result.stats,console.log(this.usageStatsData),this.renderBarChartForOrg(),setTimeout(()=>{this.spinner.hide()},100)})}renderBarChart(){let t=document.getElementById("barChart");this.chartInstance&&this.chartInstance.destroy();let e=this.userStatsData?.months||[],i=e.map(r=>{let o=Object.keys(r)[0];return o.charAt(0).toUpperCase()+o.slice(1)}),s=e.map(r=>Object.values(r)[0]);console.log("Month Labels:",i),console.log("Month Data:",s),this.chartInstance=new Bt(t,{type:"bar",data:{labels:i,datasets:[{label:`Usage Stats for ${(0,On.default)().startOf("month").format("LL")} - ${(0,On.default)().endOf("month").format("LL")}`,data:s,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}renderBarChartForOrg(){let t=document.getElementById("orgBarChart");this.chartInstance2&&this.chartInstance2.destroy();let e=Object.keys(this.usageStatsData),i=Object.values(this.usageStatsData).map(s=>Number(s));console.log("Org Labels:",e),console.log("Org Values:",i),this.chartInstance2=new Bt(t,{type:"bar",data:{labels:e,datasets:[{label:`Organization Message Stats (${this.formattedStartDate} - ${this.formattedEndDate})`,data:i,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}static \u0275fac=function(e){return new(e||n)(T(At),T(ni),T(me))};static \u0275cmp=Z({type:n,selectors:[["app-dashboard"]],decls:59,vars:13,consts:[[1,"my-5"],[1,"container"],[1,"row","g-2"],[1,"col-lg-3"],[1,"card"],[1,"card-body","bg-dark","text-white"],[1,"card-title"],[1,"card-body","bg-light"],[2,"font-size","10px"],[1,"row","my-4"],["for","startDate"],[1,"col-lg-4","d-flex"],["id","startDate","type","date",1,"form-control","me-2",3,"ngModelChange","ngModel"],["id","endDate","type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-lg-4"],[1,"btn","btn-primary","mt-4",3,"click"],["class","col-lg-12",4,"ngIf"],["class","col-lg-12 mt-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"col-lg-12"],[1,"fw-bold"],[1,"card-body"],["id","barChart"],[1,"col-lg-12","mt-5"],["id","orgBarChart"],[1,"row"],[1,"col-12"],["href","",1,"btn","btn-primary"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h2"),x(8,"Total Requests"),g(),_(9,"p",6),x(10),g(),_(11,"h2",6),x(12),g()()()(),_(13,"div",3)(14,"div",4)(15,"div",7)(16,"h2"),x(17,"Total Requests"),g(),_(18,"p",6),x(19),g(),_(20,"h2",6),x(21),g()()()(),_(22,"div",3)(23,"div",4)(24,"div",5)(25,"h2"),x(26,"Total Requests"),g(),_(27,"p",6),x(28),_(29,"span",8),x(30,"(current month)"),g()(),_(31,"h2",6),x(32),g()()()(),_(33,"div",3)(34,"div",4)(35,"div",7)(36,"h2"),x(37,"Total Requests"),g(),_(38,"p",6),x(39),_(40,"span",8),x(41,"(last month)"),g()(),_(42,"h2",6),x(43),g()()()()(),_(44,"div")(45,"div",9),R(46,"hr"),_(47,"label",10),x(48,"Filter Useage by Start & End Date"),g(),_(49,"div",11)(50,"input",12),H("ngModelChange",function(r){return j(i.startDate,r)||(i.startDate=r),r}),g(),_(51,"input",13),H("ngModelChange",function(r){return j(i.endDate,r)||(i.endDate=r),r}),g()(),_(52,"div",14)(53,"button",15),B("click",function(){return i.onFetchData()}),x(54," Fetch Usage Stats "),g()()(),_(55,"div",9),q(56,gC,6,2,"div",16)(57,bC,6,2,"div",17),g()()(),q(58,_C,6,0,"div",18),g()),e&2&&(M(10),ce("Current Year (",i.currentYear,")"),M(2),le(i.totalRequestsCurrentYear),M(7),ce("Last Year (",i.lastYear,")"),M(2),le(i.totalRequestsLastYear),M(7),ce("",i.currentMonthName," "),M(4),le(i.totalRequestsCurrentMonth),M(7),ce("",i.lastMonthName," "),M(4),le(i.totalRequestsLastMonth),M(7),W("ngModel",i.startDate),M(),W("ngModel",i.endDate),M(5),L("ngIf",i.userStatsData!=null),M(),L("ngIf",i.usageStatsData!=null),M(),L("ngIf",i.userStatsData==null&&i.usageStatsData==null))},dependencies:[Ie,_e,Se,xe,ot]})};var Oa=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-integrate-website"]],decls:26,vars:0,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-12","mt-3"],["role","alert",1,"alert","alert-light"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11," Integrate Website "),g()()()()(),_(12,"div",2)(13,"div",3)(14,"h2"),x(15,"Add BotAI to your website"),g()()(),_(16,"div",2)(17,"div",9)(18,"div",10)(19,"p"),x(20,"Add the below script tag to your website, inside the "),_(21,"code"),x(22,"<body></body>"),g(),x(23," tag. Once you add this, bot will be added to your website."),g(),_(24,"code"),x(25,'<script src="https://api.bclone.ai/embed.js"></script>'),g()()()()()())},dependencies:[ot]})};var Yt=class n{constructor(t){this._router=t}canActivate(t,e){return localStorage.getItem("userData")==null?(this._router.navigate(["/admin/login"]),!1):!0}static \u0275fac=function(e){return new(e||n)(Ge(qe))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ia=class n{constructor(t,e,i,s){this.chatService=t;this.auth=e;this._toast=i;this.spinner=s}startDate="";endDate="";user={};ngOnInit(){let t=new Date,e=new Date(t);e.setDate(t.getDate()-7),this.startDate=e.toISOString().split("T")[0],this.endDate=t.toISOString().split("T")[0];try{let i=localStorage.getItem("user");i&&(this.user=JSON.parse(i)),this.auth.user$.subscribe(s=>{s&&!this.user.emailAddress&&(this.user.emailAddress=s.email)})}catch{this._toast.error({detail:"ERROR",summary:"An error occurred while loading user data",position:"br"})}}exportChats(){if(!this.startDate||!this.endDate){alert("Please select both start and end dates.");return}this.spinner.show(),this.chatService.exportConversations(this.startDate,this.endDate,this.user._id).subscribe(t=>{setTimeout(()=>{this.spinner.hide()},100),this._toast.success({detail:"SUCCESS",summary:"Export success, please check your email",position:"br"})},t=>{setTimeout(()=>{this.spinner.hide()},1e3),this._toast.error({detail:"ERROR",summary:"Error exporting conversation",position:"br"}),console.error("Error exporting chats",t),alert("Failed to export chats.")})}static \u0275fac=function(e){return new(e||n)(T(ri),T(mt),T(Fe),T(me))};static \u0275cmp=Z({type:n,selectors:[["app-exportchat"]],decls:29,vars:7,consts:[[1,"my-5"],[1,"container"],[1,"row"],[1,"col-lg-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex"],[1,"form-group","col-3","me-3"],["for","startDate"],["type","date","id","startDate","name","startDate","required","",1,"form-control",3,"ngModelChange","ngModel","min","max"],[1,"form-group","col-3"],["for","endDate"],["type","date","id","endDate","name","endDate","required","",1,"form-control",3,"ngModelChange","ngModel","min","max"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(e,i){e&1&&(R(0,"app-navbar"),_(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a",7),x(9,"Home"),g()(),_(10,"li",8),x(11,"Export Chats"),g()()()()(),_(12,"div",2)(13,"div",3)(14,"h2"),x(15,"Export Chats"),g(),_(16,"p"),x(17,"Select time frame and download your conversations"),g(),_(18,"div",9)(19,"div",10)(20,"label",11),x(21,"Start Date:"),g(),_(22,"input",12),H("ngModelChange",function(r){return j(i.startDate,r)||(i.startDate=r),r}),g()(),_(23,"div",13)(24,"label",14),x(25,"End Date:"),g(),_(26,"input",15),H("ngModelChange",function(r){return j(i.endDate,r)||(i.endDate=r),r}),g()()(),_(27,"button",16),B("click",function(){return i.exportChats()}),x(28,"Export Chats"),g()()()()()),e&2&&(M(22),W("ngModel",i.startDate),L("min",i.startDate)("max",i.endDate),M(4),W("ngModel",i.endDate),L("min",i.startDate)("max",i.endDate),Br("disabled",i.startDate?null:!0))},dependencies:[_e,Se,St,xe,ot]})};var nn=class n{basicinfo=[];ngOnInit(){let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-mis-navbar"]],decls:15,vars:1,consts:[[1,"navbar-light","bg-white","sticky-top","p-2","border-bottom"],[1,"container-fluid"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["href","/",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none","logo"],["width","50px","alt","",3,"src"],[1,"nav","col-12","col-lg-auto","ms-lg-auto","mb-2","justify-content-center","mb-md-0","me-md-4"],["href","aboutus",1,"nav-link","px-2","link-dark"],["href","termsofuse",1,"nav-link","px-2","link-dark"],["href","privacypolicy",1,"nav-link","px-2","link-dark"]],template:function(e,i){e&1&&(_(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),R(4,"img",4),g(),_(5,"ul",5)(6,"li")(7,"a",6),x(8,"About Us"),g()(),_(9,"li")(10,"a",7),x(11,"Terms of Use"),g()(),_(12,"li")(13,"a",8),x(14,"Privacy Policy"),g()()()()()()),e&2&&(M(4),Mt("src",i.basicinfo.websiteFaviconPath,nt))}})};function yC(n,t){if(n&1&&R(0,"p",12),n&2){let e=V();L("innerHTML",e.aboutUsContent,Ct)}}function vC(n,t){n&1&&(_(0,"p"),x(1,"No About Us content available at the moment."),g())}var Aa=class n{constructor(t,e,i,s){this.pageSettingsService=t;this.spinner=e;this._toast=i;this.titleService=s}aboutUsContent="";basicinfo=[];ngOnInit(){this.fetchAboutUsContent();let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t),this.updateFavicon(this.basicinfo.websiteFaviconPath)),this.basicinfo.appName?this.titleService.setTitle(this.basicinfo.appName):this.titleService.setTitle("Welcome")}updateFavicon(t){let e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.querySelector("link[rel*='icon']")||document.head.appendChild(e)}fetchAboutUsContent(){this.spinner.show(),this.pageSettingsService.getPageSettings("aboutUs").subscribe(t=>{this.spinner.hide(),t.isSuccessful&&t.result?this.aboutUsContent=t.result.aboutUs:this.aboutUsContent="No content available."},t=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error fetching About Us content",position:"br"})})}static \u0275fac=function(e){return new(e||n)(T(gt),T(me),T(Fe),T(Ut))};static \u0275cmp=Z({type:n,selectors:[["app-about-us"]],decls:30,vars:5,consts:[["noContent",""],[1,"aboutus","my-5"],[1,"container"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-lg-12","col-md-12","col-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","/"],["aria-current","page",1,"breadcrumb-item","active"],[3,"innerHTML",4,"ngIf","ngIfElse"],[1,"fw-bold"],[3,"innerHTML"]],template:function(e,i){if(e&1&&(R(0,"app-mis-navbar"),_(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ol",6)(7,"li",7)(8,"a",8),x(9,"Home"),g()(),_(10,"li",9),x(11,"About Us"),g()()(),_(12,"div"),q(13,yC,1,1,"p",10)(14,vC,2,0,"ng-template",null,0,Je),g(),_(16,"div"),R(17,"hr"),_(18,"p")(19,"span",11),x(20,"Company Address :"),g(),x(21),g(),_(22,"p")(23,"span",11),x(24,"Company Email :"),g(),x(25),g(),_(26,"p")(27,"span",11),x(28,"Company Phone :"),g(),x(29),g()()()()()()),e&2){let s=Be(15);M(13),L("ngIf",i.aboutUsContent)("ngIfElse",s),M(8),ce(" ",i.basicinfo.companyAddress," "),M(4),ce(" ",i.basicinfo.companyEmail," "),M(4),ce(" ",i.basicinfo.companyPhone,"")}},dependencies:[Ie,nn]})};function xC(n,t){if(n&1&&R(0,"p",11),n&2){let e=V();L("innerHTML",e.termsOfUseContent,Ct)}}function wC(n,t){n&1&&(_(0,"p"),x(1,"No Terms of Use content available at the moment."),g())}var Ta=class n{constructor(t,e,i,s){this.pageSettingsService=t;this.spinner=e;this._toast=i;this.titleService=s}termsOfUseContent="";basicinfo=[];ngOnInit(){this.fetchTermsOfUseContent();let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t),this.updateFavicon(this.basicinfo.websiteFaviconPath)),this.basicinfo.appName?this.titleService.setTitle(this.basicinfo.appName):this.titleService.setTitle("Welcome")}updateFavicon(t){let e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.querySelector("link[rel*='icon']")||document.head.appendChild(e)}fetchTermsOfUseContent(){this.spinner.show(),this.pageSettingsService.getPageSettings("termsOfUse").subscribe(t=>{this.spinner.hide(),t.isSuccessful&&t.result?this.termsOfUseContent=t.result.termsOfUse:this.termsOfUseContent="No content available."},t=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error fetching Terms of Use content",position:"br"})})}static \u0275fac=function(e){return new(e||n)(T(gt),T(me),T(Fe),T(Ut))};static \u0275cmp=Z({type:n,selectors:[["app-terms-of-use"]],decls:16,vars:2,consts:[["noContent",""],[1,"terms-of-use","my-5"],[1,"container"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-lg-12","col-md-12","col-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","/"],["aria-current","page",1,"breadcrumb-item","active"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"]],template:function(e,i){if(e&1&&(R(0,"app-mis-navbar"),_(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ol",6)(7,"li",7)(8,"a",8),x(9,"Home"),g()(),_(10,"li",9),x(11,"Terms of Use"),g()()(),_(12,"div"),q(13,xC,1,1,"p",10)(14,wC,2,0,"ng-template",null,0,Je),g()()()()()),e&2){let s=Be(15);M(13),L("ngIf",i.termsOfUseContent)("ngIfElse",s)}},dependencies:[Ie,nn]})};function SC(n,t){if(n&1&&R(0,"p",11),n&2){let e=V();L("innerHTML",e.privacyPolicyContent,Ct)}}function CC(n,t){n&1&&(_(0,"p"),x(1,"No privacy policy content available."),g())}var Pa=class n{constructor(t,e,i,s){this.pageSettingsService=t;this.spinner=e;this._toast=i;this.titleService=s}privacyPolicyContent="";basicinfo=[];ngOnInit(){this.fetchPrivacyPolicyContent();let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t),this.updateFavicon(this.basicinfo.websiteFaviconPath)),this.basicinfo.appName?this.titleService.setTitle(this.basicinfo.appName):this.titleService.setTitle("Welcome")}updateFavicon(t){let e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.querySelector("link[rel*='icon']")||document.head.appendChild(e)}fetchPrivacyPolicyContent(){this.spinner.show(),this.pageSettingsService.getPageSettings("privacyPolicy").subscribe(t=>{this.spinner.hide(),t.isSuccessful&&t.result?this.privacyPolicyContent=t.result.privacyPolicy:this.privacyPolicyContent="No content available."},t=>{this.spinner.hide(),this._toast.error({detail:"ERROR",summary:"Error fetching Privacy Policy content",position:"br"})})}static \u0275fac=function(e){return new(e||n)(T(gt),T(me),T(Fe),T(Ut))};static \u0275cmp=Z({type:n,selectors:[["app-privacy-policy"]],decls:16,vars:2,consts:[["noContent",""],[1,"privacy-policy","my-5"],[1,"container"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-lg-12","col-md-12","col-12"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","/"],["aria-current","page",1,"breadcrumb-item","active"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"]],template:function(e,i){if(e&1&&(R(0,"app-mis-navbar"),_(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ol",6)(7,"li",7)(8,"a",8),x(9,"Home"),g()(),_(10,"li",9),x(11,"Privacy Policy"),g()()(),_(12,"div"),q(13,SC,1,1,"p",10)(14,CC,2,0,"ng-template",null,0,Je),g()()()()()),e&2){let s=Be(15);M(13),L("ngIf",i.privacyPolicyContent)("ngIfElse",s)}},dependencies:[Ie,nn]})};var Na=class n{constructor(t,e){this.spinner=t;this.titleService=e}basicinfo=[];ngOnInit(){this.spinner.show();let t=localStorage.getItem("basicInfo");t&&(this.basicinfo=JSON.parse(t),this.updateFavicon(this.basicinfo.websiteFaviconPath)),this.basicinfo.appName?this.titleService.setTitle(this.basicinfo.appName):this.titleService.setTitle("Welcome"),setTimeout(()=>{this.spinner.hide()},1e3),localStorage.clear(),sessionStorage.clear()}updateFavicon(t){let e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.querySelector("link[rel*='icon']")||document.head.appendChild(e)}static \u0275fac=function(e){return new(e||n)(T(me),T(Ut))};static \u0275cmp=Z({type:n,selectors:[["app-unauthorized"]],decls:11,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center","text-center","vh-100"],["src","https://img.freepik.com/free-vector/401-error-unauthorized-concept-illustration_114360-1922.jpg","width","50%","alt",""],[3,"href"]],template:function(e,i){e&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),R(4,"img",3),_(5,"h5"),x(6,"You have to be added or invited by the admin."),g(),_(7,"p"),x(8,"You are trying to access a website, which you don't have access. Contact admin."),g(),_(9,"a",4),x(10),g()()()()()),e&2&&(M(9),$r("href","mailto:",i.basicinfo.companyEmail,"",nt),M(),le(i.basicinfo.companyEmail))}})};var MC=[{path:"",component:ko},{path:"login",component:lo},{path:"settings",component:Eo},{path:"help",component:Oo},{path:"customkb",component:Io},{path:"workspace/:id",component:Ao},{path:"dashboard",component:Ea},{path:"integrate-website",component:Oa},{path:"exportchats",component:Ia},{path:"aboutus",component:Aa},{path:"termsofuse",component:Ta},{path:"privacypolicy",component:Pa},{path:"unauthorized",component:Na},{path:"admin/login",component:Po},{path:"admin/settings",component:No,canActivate:[Yt]},{path:"admin/home",component:va,canActivate:[Yt]},{path:"admin/users",component:wa,canActivate:[Yt]},{path:"admin/page/settings",component:xa,canActivate:[Yt]},{path:"admin/support-tickets",component:Sa,canActivate:[Yt]},{path:"admin/user/add",component:Da,canActivate:[Yt]},{path:"admin/user/edit/:id",component:Ca,canActivate:[Yt]},{path:"admin/user/customkb",component:Ma,canActivate:[Yt]},{path:"admin/user/useage-stats/:id/:orgid",component:ka,canActivate:[Yt]}],Ra=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=vt({type:n});static \u0275inj=yt({imports:[pl.forRoot(MC),pl]})};var _s=class n{title="appName";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,""],["type","ball-scale-multiple"]],template:function(e,i){e&1&&(_(0,"main")(1,"div",0),R(2,"router-outlet")(3,"lib-ng-toast")(4,"ngx-spinner",1),g()())},dependencies:[Hu,wu,Wu]})};var Fa=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=vt({type:n,bootstrap:[_s]});static \u0275inj=yt({providers:[bu()],imports:[Bu,gu,mu,Ra,vu,ju,gh,zu.forRoot({domain:"dev-mb84z7eiijwz0uio.us.auth0.com",clientId:"2NuvcQlTmLBouOR96gGVy6e3pxNJgqZ8",cacheLocation:"localstorage",useRefreshTokens:!0,authorizationParams:{redirect_uri:"https://bclone.ai"}})]})};var od=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=vt({type:n,bootstrap:[_s]});static \u0275inj=yt({imports:[Fa,xu]})};export{od as a};
